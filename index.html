<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADMIN WIFI ZONE</title>
    <link rel="stylesheet" href="styleA.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>
    <script src="https://cdn.fedapay.com/checkout.js?v=1.1.7"></script>

    <style>
        /* ... (Styles CSS - Pas de modifications majeures) ... */
       .payment-modal {
           display: none;
           position: fixed;
           top: 50%;
           left: 50%;
           transform: translate(-50%, -50%);
           background-color: white;
           padding: 30px;
           border-radius: 10px;
           box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
           z-index: 1000;
           max-width: 400px;
           width: 90%;
           text-align: center;
       }

       .payment-modal h2 {
           color: #333;
           margin-bottom: 20px;
       }

       .payment-modal p {
           color: #666;
           margin-bottom: 30px;
       }

       .payment-modal button {
           background-color: #fdbb2d;
           color: #1a2a6c;
           border: none;
           padding: 12px 20px;
           border-radius: 25px;
           cursor: pointer;
           transition: all 0.3s;
           font-weight: 600;
           font-size: 0.9rem;
           margin: 0 10px;
       }

       .payment-modal button:hover {
           background-color: #e6a727;
       }

       .close-modal {
           position: absolute;
           top: 10px;
           right: 10px;
           cursor: pointer;
           font-size: 1.2rem;
           color: #333;
       }

       /* Style pour l'overlay */
       .overlay {
           display: none;
           position: fixed;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           background-color: rgba(0, 0, 0, 0.5);
           z-index: 999;
       }
       #subscriptionSection {
           text-align: center;
           margin-bottom: 30px;
       }

       #subscriptionSection h2 {
           font-size: 24px;
           color: #fdbb2d;
           margin-bottom: 20px;
       }

       #subscriptionStatus {
           font-size: 18px;
           color: #fff;
           margin-bottom: 20px;
       }

       .subscription-buttons {
           display: flex;
           justify-content: center;
           gap: 20px;
       }

       .subscription-buttons button {
           background-color: #fdbb2d;
           color: #1a2a6c;
           border: none;
           padding: 12px 20px;
           border-radius: 25px;
           cursor: pointer;
           transition: all 0.3s;
           font-weight: 600;
           font-size: 0.9rem;
       }

       .subscription-buttons button:hover {
           background-color: #e6a727;
       }

       /* Style pour le message d'abonnement requis */
       .subscription-required {
           display: none;
           position: fixed;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           background-color: rgba(0, 0, 0, 0.5);
           z-index: 1000;
           justify-content: center;
           align-items: center;
           color: white;
           text-align: center;
           padding: 20px;
       }

       .subscription-required-content {
           background-color: white;
           padding: 30px;
           border-radius: 10px;
           box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
           max-width: 400px;
           width: 90%;
       }

       .subscription-required-content h2 {
           color: #333;
           margin-bottom: 20px;
       }

       .subscription-required-content p {
           color: #666;
           margin-bottom: 30px;
           }

       .subscription-required-content button {
           background-color: #fdbb2d;
           color: #1a2a6c;
           border: none;
           padding: 12px 20px;
           border-radius: 25px;
           cursor: pointer;
           transition: all 0.3s;
           font-weight: 600;
           font-size: 0.9rem;
           margin: 0 10px;
       }

       .subscription-required-content button:hover {
           background-color: #e6a727;
       }
        .loader-wrapper {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1001;
        }

        .loader {
            position: absolute;
            top: 50%;
            left: 50%;
            border: 6px solid #f3f3f3;
            border-top: 6px solid #fdbb2d;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 2s linear infinite;
            transform: translate(-50%, -50%);
        }

        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        .page-loader-wrapper {
            display: flex;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1002;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .page-loader {
            border: 6px solid #f3f3f3;
            border-top: 6px solid #fdbb2d;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 2s linear infinite;
        }

        .loader-message {
            color: white;
            margin-top: 16px;
            font-size: 1rem;
            text-align: center;
            max-width: 80%;
        }

        .header {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            text-align: center;
        }

        .header h1 {
            margin: 0;
        }

        .logout-button {
            background-color: #e74c3c;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background-color 0.3s;
        }

        .logout-button:hover {
            background-color: #c0392b;
        }
       /* Styles pour le formulaire de portail captif */
      #portalForm {
          display: none; /*Caché par défaut*/
          flex-direction: column;
          gap: 10px;
          max-width: 600px; /* Limite la largeur du formulaire */
          margin: 20px auto;
          padding: 20px;
          background-color: rgba(255, 255, 255, 0.1); /* Léger fond pour le formulaire */
          border-radius: 8px;
          box-shadow: 0 2px 4px rgba(0,0,0,0.2); /* Ombre légère */
      }
      #portalForm label {
          color: #fdbb2d; /* Couleur pour les labels */
      }
      #portalForm input[type="text"],
      #portalForm input[type="number"],
      #portalForm textarea,
      #portalForm select {
          width: 100%;
          padding: 10px;
          border: 1px solid #ddd;
          border-radius: 4px;
          background-color: rgba(255,255,255,0.2); /* Fond transparent */
          color: white; /* Couleur du texte */
      }

      #portalForm button {
          padding: 10px 15px;
          background-color: #fdbb2d;
          color: #1a2a6c;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          font-size: 16px;
      }

      #portalForm button:hover {
          background-color: #e6a727;
      }
      #portalForm .list-input-container {
          display: flex;
          flex-direction: column;
      }

      #portalForm .list-item {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }

      #portalForm .list-item input {
          flex: 1; /* Permet à l'input de prendre l'espace disponible */
          margin-right: 5px; /* Marge entre l'input et le bouton */
      }
        #portalForm .list-item button {
           padding: 5px 10px;
           background-color: #e74c3c; /* Couleur différente pour le bouton de suppression */
           color: white;
           border: none;
           border-radius: 4px;
           cursor: pointer;
           font-size: 14px;
        }

        #portalForm .list-item button:hover {
           background-color: #c0392b;
        }

        #configSection {
          margin-bottom:           20px;
          text-align: center; /* Center-align the buttons */
      }
        #configSection .config-buttons {
          display: inline-block;
          margin: 0 10px;
        }

        #systemVersionDisplay {
            position: absolute;
            top: 10px;
            right: 10px;
            color: #fdbb2d;
            font-size: 0.8rem;
        }

        #redirectButtonContainer {
            margin-top: 10px;
            text-align: center;
        }

        #redirectButton {
            padding: 10px 15px;
            background-color: #fdbb2d;
            color: #1a2a6c;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            display: none; /* Hidden by default */
        }

        #redirectButton:hover {
          background-color: #e6a727;
      }

      .data-management-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }
        .data-management-buttons button {
            background-color: #fdbb2d;
            color: #1a2a6c;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background-color 0.3s;
        }
        .data-management-buttons button:hover {
            background-color: #e6a727;
        }

        #importDataInput {
            display: none; /* Cache l'input file par défaut */
        }


    </style>
</head>
<body>
    <div class="page-loader-wrapper" id="pageLoaderWrapper">
        <div class="page-loader"></div>
        <div class="loader-message" id="pageLoaderMessage">Initialisation...</div>
    </div>
    <div class="loader-wrapper" id="loaderWrapper">
        <div class="loader"></div>
    </div>
    <div class="container" id="contentContainer" style="display:none;">
        <header class="header">
            <h1 id="networkNameDisplay">ADMIN WIFI ZONE</h1>
            <div class="wave"></div>
            <div id="systemVersionDisplay">Version du système: <span id="versionNumber"></span></div>
        </header>


        <main>
            <div id="subscriptionSection">
                <h2>Statut de l'Abonnement</h2>
                <div id="subscriptionStatus"></div>
                <div class="subscription-button">
                    <button id="subscribeMonthly">S'abonner (Mensuel - 1000 FCFA)</button>
                    <button id="subscribeYearly">S'abonner (Annuel - 10 000 FCFA)</button>
                </div>
            </div>

            <div id="configSection">
              <button onclick="togglePortalForm()" id="togglePortalFormBtn">Configurer le portail captif</button>
              <button onclick="downloadLoginFile()" id="downloadLoginBtn" style="display: none;">Télécharger le portail captif</button>
             </div>


            <form id="portalForm" style="display: none;">
                <label for="networkName">Nom du réseau:</label>
                <input type="text" id="networkName" name="networkName" required>

                <label for="contactNumber">Numéro à contacter:</label>
                <input type="text" id="contactNumber" name="contactNumber" required>

                <label for="fedapayApiKey">Clé API FedaPay Portail Captif:</label>
                <input type="text" id="fedapayApiKey" name="fedapayApiKey" required>

                <label for="loginMode">Mode de connexion par défaut :</label>
                <select id="loginMode" name="loginMode">
                    <option value="separate">Login (Utilisateur & Mot de passe)</option>
                    <option value="same">Log (Identifiant unique)</option>
                    <option value="pay">Pay (Page de paiement)</option>
                    <option value="hotspot1">Portail captif par défaut</option>
                    <option value="hotspot2">Portail captif secondaire</option>
                    <option value="hotspot3">Portail captif secondaire</option>
                    <option value="hotspot4">Portail captif KODA SMART</option>

                    <!-- Ajoutez d'autres options Hotspot ici -->
                </select>
                <div id="redirectButtonContainer">
                    <button type="button" id="redirectButton">Accéder à la page</button>
                </div>

                <div class="list-input-container">
                    <label>Tarifs:</label>
                    <div id="tariffsList">
                        <div class="list-item">
                            <input type="text" placeholder="Nom du tarif" data-type="tariffName">
                            <input type="number" placeholder="Prix" data-type="tariffPrice">
                            <button type="button" onclick="addListItem('tariffsList')">Ajouter</button>
                         </div>
                      </div>
                 </div>

                 <div class="list-input-container">
                      <label>Adresses de connexion:</label>
                      <div id="connectionsList">
                         <div class="list-item">
                            <input type="text" placeholder="Adresse" data-type="connection">
                            <button type="button" onclick="addListItem('connectionsList')">Ajouter</button>
                           </div>
                      </div>
                  </div>

                  <div class="list-input-container">
                      <label>Services et produits:</label>
                      <div id="productsList">
                         <div class="list-item">
                             <input type="text" placeholder="Service/Produit" data-type="product">
                             <button type="button" onclick="addListItem('productsList')">Ajouter</button>
                         </div>
                     </div>
                 </div>

                 <button type="submit">Enregistrer la configuration</button>
             </form>

            <div class="menu">
                <a href="PageVenteTicket.html" class="menu-item" id="vente">
                    <i class="fas fa-ticket-alt"></i>
                    <h2>Vente de Tickets</h2>
                    <p>Procédez à la vente de nouveaux tickets Wifi.</p>
                </a>
                <a href="AdminVentePartenaires.html" class="menu-item" id="inventaire">
                    <i class="fas fa-clipboard-list"></i>
                    <h2>Inventaire des Tickets</h2>
                    <p>Consultez l'état des ventes de vos partenaires.</p>
                </a>
                <a href="Stock.html" class="menu-item" id="stock">
                    <i class="fas fa-boxes"></i>
                    <h2>Gestion des Stocks Partenaire</h2>
                    <p>Suivez les stocks de tickets de vos partenaires.</p>
                </a>
                <a href="a3.html" class="menu-item" id="administration">
                    <i class="fas fa-cog"></i>
                    <h2>Administration des Tickets</h2>
                    <p>Gérez les tickets, activez ou désactivez-les.</p>
                </a>
                <button onclick="logout()" class="logout-button">Déconnexion</button>
            </div>

            <div class="data-management-buttons">
                <button onclick="exportData()">Exporter les données</button>
                <input type="file" id="importDataInput" accept=".json">
                <button onclick="document.getElementById('importDataInput').click()">Importer les données</button>
            </div>

        </main>

    </div>


    <div id="paymentModal" class="payment-modal" style="display: none;">
        <span class="close-modal" onclick="closePaymentModal()">×</span>
        <h2>Paiement de l'Abonnement</h2>
        <p>Choisissez votre plan d'abonnement et procédez au paiement via FedaPay.</p>
        <!-- Les boutons de paiement seront ajoutés ici par le script -->
    </div>

    <div id="subscriptionRequiredModal" class="subscription-required" style="display: none;">
        <div class="subscription-required-content">
            <h2>Abonnement Requis</h2>
            <p>Un abonnement actif est nécessaire pour accéder à cette fonctionnalité.</p>
            <button onclick="redirectToSubscription()">S'abonner</button>
            <button onclick="hideSubscriptionRequiredModal()">Fermer</button>
        </div>
    </div>

    <div class="overlay" id="overlay" style="display: none;" onclick="closePaymentModal()"></div>

    <script type="module">
const _0x1ca974=_0x1d68;(function(_0x32ad71,_0x5df9f2){const _0x453c82=_0x1d68,_0x56463a=_0x32ad71();while(!![]){try{const _0x22ed5d=parseInt(_0x453c82(0x1c9))/0x1+-parseInt(_0x453c82(0x24d))/0x2*(parseInt(_0x453c82(0x2b6))/0x3)+-parseInt(_0x453c82(0x27e))/0x4*(-parseInt(_0x453c82(0x1f2))/0x5)+parseInt(_0x453c82(0x2a2))/0x6+parseInt(_0x453c82(0x2a9))/0x7*(parseInt(_0x453c82(0x1c1))/0x8)+-parseInt(_0x453c82(0x1d5))/0x9*(-parseInt(_0x453c82(0x2a6))/0xa)+-parseInt(_0x453c82(0x264))/0xb;if(_0x22ed5d===_0x5df9f2)break;else _0x56463a['push'](_0x56463a['shift']());}catch(_0x5205de){_0x56463a['push'](_0x56463a['shift']());}}}(_0x59ec,0x50ed0));import{getActiveDatabase}from'./firebase-config-manager.js';import{ref,get,set,push,remove,update,onValue}from'https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js';let db,adminRef,fedapayApiKey,systemVersion;async function initializeDatabase(){db=await getActiveDatabase(),console['log']('Database\x20initialized\x20in\x20index.html');}async function checkLoginStatus(){const _0x481e6b=_0x1d68;if(sessionStorage[_0x481e6b(0x1ed)](_0x481e6b(0x278))!==_0x481e6b(0x231))redirectToLogin();else{const _0x9dcd38=sessionStorage[_0x481e6b(0x1ed)]('currentUserId');if(!_0x9dcd38){console[_0x481e6b(0x213)](_0x481e6b(0x272)),redirectToLogin();return;}document['getElementById']('contentContainer')[_0x481e6b(0x23e)]['display']=_0x481e6b(0x239),adminRef=ref(db,_0x481e6b(0x1c6)+_0x9dcd38+'/admin/subscription');}}function redirectToLogin(){const _0x2e0be4=_0x1d68;window[_0x2e0be4(0x261)][_0x2e0be4(0x1e2)]=_0x2e0be4(0x1cf);}window['logout']=function(){const _0x14c457=_0x1d68;sessionStorage[_0x14c457(0x2b9)](),window[_0x14c457(0x261)][_0x14c457(0x1f7)](_0x14c457(0x1cf));};const venteMenuItem=document[_0x1ca974(0x23b)](_0x1ca974(0x1be)),inventaireMenuItem=document[_0x1ca974(0x23b)](_0x1ca974(0x1b8)),stockMenuItem=document[_0x1ca974(0x23b)](_0x1ca974(0x28b)),administrationMenuItem=document[_0x1ca974(0x23b)](_0x1ca974(0x207)),subscriptionStatus=document[_0x1ca974(0x23b)](_0x1ca974(0x273)),subscribeMonthlyButton=document[_0x1ca974(0x23b)](_0x1ca974(0x1b7)),subscribeYearlyButton=document[_0x1ca974(0x23b)](_0x1ca974(0x1e5)),paymentModal=document['getElementById']('paymentModal'),overlay=document[_0x1ca974(0x23b)]('overlay'),subscriptionRequiredModal=document[_0x1ca974(0x23b)](_0x1ca974(0x244));function showLoader(){const _0x513f09=_0x1ca974;document['getElementById'](_0x513f09(0x1e9))['style'][_0x513f09(0x1ca)]='block';}function hideLoader(){const _0xe4ef65=_0x1ca974;document['getElementById']('loaderWrapper')[_0xe4ef65(0x23e)][_0xe4ef65(0x1ca)]=_0xe4ef65(0x2a4);}function showPageLoader(){const _0xf32c62=_0x1ca974;document[_0xf32c62(0x23b)]('pageLoaderWrapper')[_0xf32c62(0x23e)][_0xf32c62(0x1ca)]=_0xf32c62(0x1c3);}function hidePageLoader(){const _0x566436=_0x1ca974;document[_0x566436(0x23b)](_0x566436(0x238))[_0x566436(0x23e)]['display']=_0x566436(0x2a4);}function showSubscriptionRequiredModal(){const _0x12d91f=_0x1ca974;subscriptionRequiredModal[_0x12d91f(0x23e)][_0x12d91f(0x1ca)]='flex';}function hideSubscriptionRequiredModal(){const _0x247bd9=_0x1ca974;subscriptionRequiredModal[_0x247bd9(0x23e)][_0x247bd9(0x1ca)]=_0x247bd9(0x2a4);}function redirectToSubscription(){hideSubscriptionRequiredModal();}function checkSubscriptionStatus(){const _0x3fdca6=_0x1ca974,_0x279315=sessionStorage[_0x3fdca6(0x1ed)](_0x3fdca6(0x255));if(!_0x279315){console[_0x3fdca6(0x213)](_0x3fdca6(0x227));return;}const _0x979b80=ref(db,_0x3fdca6(0x1c6)+_0x279315+_0x3fdca6(0x29c));get(_0x979b80)[_0x3fdca6(0x249)](_0x5efb86=>{const _0x14cabb=_0x3fdca6,_0x2a57b3=_0x5efb86[_0x14cabb(0x233)](),_0x3cb7f5=new Date();if(_0x2a57b3&&_0x2a57b3[_0x14cabb(0x202)]==='active'){const _0x382709=new Date(_0x2a57b3[_0x14cabb(0x208)]);_0x382709<_0x3cb7f5?(subscriptionStatus[_0x14cabb(0x277)]=_0x14cabb(0x252),subscriptionStatus[_0x14cabb(0x23e)][_0x14cabb(0x205)]=_0x14cabb(0x2b4),subscribeMonthlyButton[_0x14cabb(0x23e)][_0x14cabb(0x1ca)]=_0x14cabb(0x1d7),subscribeYearlyButton[_0x14cabb(0x23e)][_0x14cabb(0x1ca)]='inline-block',set(_0x979b80,{..._0x2a57b3,'status':_0x14cabb(0x1c8)})):(subscriptionStatus['textContent']=_0x14cabb(0x2a3)+_0x382709[_0x14cabb(0x1fa)](),subscriptionStatus[_0x14cabb(0x23e)]['color']='green',subscribeMonthlyButton[_0x14cabb(0x23e)][_0x14cabb(0x1ca)]=_0x14cabb(0x2a4),subscribeYearlyButton[_0x14cabb(0x23e)]['display']='none');}else subscriptionStatus[_0x14cabb(0x277)]=_0x14cabb(0x2ae),subscriptionStatus[_0x14cabb(0x23e)][_0x14cabb(0x205)]='red',subscribeMonthlyButton[_0x14cabb(0x23e)][_0x14cabb(0x1ca)]=_0x14cabb(0x1d7),subscribeYearlyButton[_0x14cabb(0x23e)][_0x14cabb(0x1ca)]=_0x14cabb(0x1d7);})[_0x3fdca6(0x276)](_0x35950a=>{const _0x2b5fb6=_0x3fdca6;console[_0x2b5fb6(0x213)](_0x2b5fb6(0x1e0),_0x35950a);});}function checkUserAccess(){get(adminRef)['then'](_0x179421=>{const _0x1a24dc=_0x1d68,_0x1bd6d5=_0x179421['val']();(!_0x1bd6d5||_0x1bd6d5[_0x1a24dc(0x202)]!==_0x1a24dc(0x219))&&showSubscriptionRequiredModal();});}venteMenuItem[_0x1ca974(0x1e3)](_0x1ca974(0x237),_0x316c7e=>{const _0x3c731=_0x1ca974;_0x316c7e['preventDefault'](),checkUserAccess();const _0x448be9=sessionStorage[_0x3c731(0x1ed)]('currentUserId');_0x448be9?window[_0x3c731(0x261)][_0x3c731(0x1e2)]=_0x3c731(0x1d8)+_0x448be9:(console[_0x3c731(0x213)]('Admin\x20ID\x20not\x20found\x20in\x20session\x20storage.'),alert(_0x3c731(0x1bf)));}),inventaireMenuItem[_0x1ca974(0x1e3)]('click',_0x549f53=>{const _0x189274=_0x1ca974;_0x549f53['preventDefault'](),checkUserAccess(),window[_0x189274(0x261)][_0x189274(0x1e2)]='AdminVentePartenaires.html';}),stockMenuItem[_0x1ca974(0x1e3)](_0x1ca974(0x237),_0x256ef0=>{const _0x155c93=_0x1ca974;_0x256ef0[_0x155c93(0x230)](),checkUserAccess(),window['location'][_0x155c93(0x1e2)]=_0x155c93(0x27c);}),administrationMenuItem[_0x1ca974(0x1e3)](_0x1ca974(0x237),_0x5def5a=>{const _0x971273=_0x1ca974;_0x5def5a[_0x971273(0x230)](),checkUserAccess(),window[_0x971273(0x261)][_0x971273(0x1e2)]=_0x971273(0x212);}),subscribeMonthlyButton[_0x1ca974(0x1e3)](_0x1ca974(0x237),()=>{initiatePayment('monthly');}),subscribeYearlyButton['addEventListener']('click',()=>{const _0x24aed4=_0x1ca974;initiatePayment(_0x24aed4(0x1f0));});async function initiatePayment(_0x128694){const _0x483183=_0x1ca974,_0x3adb3c=_0x128694===_0x483183(0x2ac)?0x3e8:0x2710,_0x2176f2=_0x128694===_0x483183(0x2ac)?_0x483183(0x2a5):_0x483183(0x21f),_0x7c2171=sessionStorage[_0x483183(0x1ed)]('currentUserId');if(!_0x7c2171){console[_0x483183(0x213)](_0x483183(0x22a)),alert(_0x483183(0x1ea));return;}FedaPay[_0x483183(0x1f3)]({'public_key':fedapayApiKey,'transaction':{'amount':_0x3adb3c,'description':_0x2176f2},'customer':{'email':_0x483183(0x265)},'onComplete':async function(_0x3ebf65){const _0x551d50=_0x483183;if(_0x3ebf65[_0x551d50(0x218)]===FedaPay[_0x551d50(0x271)])alert(_0x551d50(0x23d));else _0x3ebf65[_0x551d50(0x218)]===FedaPay[_0x551d50(0x1db)]&&handleSuccessfulPayment(_0x128694,_0x3ebf65,_0x7c2171);}})[_0x483183(0x234)]();}async function handleSuccessfulPayment(_0x3033e9,_0x250af0,_0x3b9ac0){const _0x94871c=_0x1ca974,_0x2ba263=new Date(),_0x5a4a0e=new Date(_0x2ba263);_0x3033e9===_0x94871c(0x2ac)?_0x5a4a0e['setMonth'](_0x5a4a0e['getMonth']()+0x1):_0x5a4a0e[_0x94871c(0x251)](_0x5a4a0e[_0x94871c(0x232)]()+0x1);const _0x1c54c9={'status':_0x94871c(0x219),'startDate':_0x2ba263[_0x94871c(0x1d4)](),'endDate':_0x5a4a0e[_0x94871c(0x1d4)](),'transactionId':_0x250af0[_0x94871c(0x1ba)]['id'],'plan':_0x3033e9};try{const _0x285cdb=ref(db,_0x94871c(0x1c6)+_0x3b9ac0+_0x94871c(0x29c));await set(_0x285cdb,_0x1c54c9),checkSubscriptionStatus(),alert('Abonnement\x20'+(_0x3033e9===_0x94871c(0x2ac)?_0x94871c(0x1e4):_0x94871c(0x1b1))+_0x94871c(0x27f));}catch(_0x2f8e13){console['error']('Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20de\x20l\x27abonnement:',_0x2f8e13),alert(_0x94871c(0x248));}}async function cancelSubscription(){const _0x52e4dc=_0x1ca974,_0xd2e7b8=sessionStorage[_0x52e4dc(0x1ed)]('currentUserId');if(!_0xd2e7b8){console['error'](_0x52e4dc(0x1de)),alert(_0x52e4dc(0x1e7));return;}try{const _0x39720b=ref(db,'users-data/'+_0xd2e7b8+_0x52e4dc(0x29c));await set(_0x39720b,{...(await get(_0x39720b))[_0x52e4dc(0x233)](),'status':_0x52e4dc(0x2af)}),checkSubscriptionStatus(),alert(_0x52e4dc(0x245));}catch(_0x54860b){console[_0x52e4dc(0x213)](_0x52e4dc(0x2b2),_0x54860b),alert('Erreur\x20lors\x20de\x20l\x27annulation\x20de\x20l\x27abonnement.');}}async function processConnectedTickets(){const _0x31f456=_0x1ca974,_0x5d1a8b=document['getElementById'](_0x31f456(0x290)),_0x11e02e=sessionStorage['getItem'](_0x31f456(0x255));if(!_0x11e02e){console[_0x31f456(0x213)](_0x31f456(0x272));return;}const _0x3a87ba=ref(db,'users-data/'+_0x11e02e+_0x31f456(0x25c));try{_0x5d1a8b[_0x31f456(0x277)]=_0x31f456(0x28f);const _0x2784fa=await get(_0x3a87ba);let _0x2ac290=_0x2784fa[_0x31f456(0x233)]()||{};const _0x98fa31={};for(const _0x13e9c5 in _0x2ac290){const _0x1a9cf0=_0x2ac290[_0x13e9c5][_0x31f456(0x1b5)];!_0x98fa31[_0x1a9cf0]&&(_0x98fa31[_0x1a9cf0]=_0x2ac290[_0x13e9c5]);}_0x5d1a8b['textContent']=_0x31f456(0x1c7);for(const _0x21cee4 in _0x98fa31){await processTicket(_0x98fa31[_0x21cee4],_0x11e02e);}_0x5d1a8b[_0x31f456(0x277)]=_0x31f456(0x29d),await remove(_0x3a87ba);}catch(_0x15432c){console[_0x31f456(0x213)](_0x31f456(0x274),_0x15432c),showNotification(_0x31f456(0x29a),_0x31f456(0x27d));}}async function processTicket(_0x4bd11d,_0x36b0e4){const _0x47f767=_0x1ca974,_0x2cff1a=document['getElementById']('pageLoaderMessage');if(!_0x36b0e4){console[_0x47f767(0x213)]('Current\x20user\x20ID\x20is\x20not\x20provided\x20to\x20processTicket.');return;}try{_0x2cff1a[_0x47f767(0x277)]=_0x47f767(0x1da)+_0x4bd11d[_0x47f767(0x1b5)]+_0x47f767(0x1ee);const _0x534adb=ref(db,_0x47f767(0x1c6)+_0x36b0e4+_0x47f767(0x286)),_0x5f3fca=await get(_0x534adb),_0x41c5a2=_0x5f3fca[_0x47f767(0x233)]()||{};let _0x1a1e2c=![];for(const _0x422a40 in _0x41c5a2){const _0x4cccc1=_0x41c5a2[_0x422a40];for(const _0x29ae6e in _0x4cccc1){if(_0x4cccc1[_0x29ae6e][_0x47f767(0x25b)]===_0x4bd11d[_0x47f767(0x1b5)]){_0x1a1e2c=!![];break;}}if(_0x1a1e2c)break;}if(!_0x1a1e2c){_0x2cff1a['textContent']=_0x47f767(0x203)+_0x4bd11d[_0x47f767(0x1b5)]+'...';const _0x36a2b9=ref(db,_0x47f767(0x1c6)+_0x36b0e4+_0x47f767(0x22b)),_0xd8bb96=ref(db,_0x47f767(0x1c6)+_0x36b0e4+_0x47f767(0x279)),_0x3d9fc5=await get(_0x36a2b9),_0x2e057b=await get(_0xd8bb96),_0x39eef5=_0x3d9fc5[_0x47f767(0x233)]()||{},_0x48ddc5=_0x2e057b['val']()||{};let _0x5313be=null,_0x334007=null,_0x2bbab5=null;for(const _0x4e5420 in _0x39eef5){const _0x62d2ac=(_0x39eef5[_0x4e5420][_0x47f767(0x253)]||[])[_0x47f767(0x296)](_0x4bd11d['username']);if(_0x62d2ac>-0x1){_0x5313be={'category':_0x4e5420,'user':_0x39eef5[_0x4e5420]['utilisateur'][_0x62d2ac],'password':_0x39eef5[_0x4e5420][_0x47f767(0x1c0)][_0x62d2ac],'price':_0x39eef5[_0x4e5420]['prix'][_0x62d2ac],'updatedData':{..._0x39eef5[_0x4e5420],'utilisateur':_0x39eef5[_0x4e5420]['utilisateur'][_0x47f767(0x20b)]((_0x176fae,_0x17b7e6)=>_0x17b7e6!==_0x62d2ac),'motDePasse':_0x39eef5[_0x4e5420]['motDePasse'][_0x47f767(0x20b)]((_0x24ee63,_0x479e3f)=>_0x479e3f!==_0x62d2ac),'prix':_0x39eef5[_0x4e5420]['prix']['filter']((_0x1de29a,_0x4d5acc)=>_0x4d5acc!==_0x62d2ac)}},_0x334007=ref(db,'users-data/'+_0x36b0e4+_0x47f767(0x1df)+_0x4e5420),_0x2bbab5=_0x47f767(0x281);break;}}if(!_0x5313be)for(const _0x5ede83 in _0x48ddc5){if(_0x48ddc5[_0x5ede83][_0x47f767(0x25b)]===_0x4bd11d[_0x47f767(0x1b5)]){_0x5313be={'category':_0x48ddc5[_0x5ede83]['category'],'user':_0x48ddc5[_0x5ede83][_0x47f767(0x25b)],'password':_0x48ddc5[_0x5ede83][_0x47f767(0x214)],'price':_0x48ddc5[_0x5ede83][_0x47f767(0x20a)]},_0x334007=ref(db,'users-data/'+_0x36b0e4+_0x47f767(0x23f)+_0x5ede83),_0x2bbab5=_0x47f767(0x2b8);break;}}_0x5313be&&(_0x2cff1a[_0x47f767(0x277)]=_0x47f767(0x1eb)+_0x4bd11d[_0x47f767(0x1b5)]+_0x47f767(0x1ee),await sellTicketAutomatically(_0x5313be,_0x334007,_0x2bbab5,_0x36b0e4));}}catch(_0x3276b0){console['error'](_0x47f767(0x21a),_0x3276b0),showNotification(_0x47f767(0x29a),_0x47f767(0x2b5)+_0x4bd11d[_0x47f767(0x1b5)]+'.');}}async function sellTicketAutomatically(_0x2b0160,_0x3b7b16,_0x510947,_0x5e5aa1){const _0x24a66a=_0x1ca974;if(!_0x5e5aa1){console[_0x24a66a(0x213)]('Current\x20user\x20ID\x20is\x20not\x20provided\x20to\x20sellTicketAutomatically.');return;}try{const _0x10ba79=_0x24a66a(0x20f),_0x1d057e=ref(db,_0x24a66a(0x1c6)+_0x5e5aa1+_0x24a66a(0x22d)+_0x10ba79);await push(_0x1d057e,{'category':_0x2b0160[_0x24a66a(0x2b7)],'user':_0x2b0160['user'],'password':_0x2b0160[_0x24a66a(0x214)],'price':_0x2b0160[_0x24a66a(0x20a)],'soldAt':Date[_0x24a66a(0x1d1)](),'vendorId':_0x10ba79}),_0x510947===_0x24a66a(0x281)?await set(_0x3b7b16,_0x2b0160[_0x24a66a(0x29b)]):await remove(_0x3b7b16),console['log'](_0x24a66a(0x24f)+_0x2b0160[_0x24a66a(0x25b)]+_0x24a66a(0x221));}catch(_0x338be0){console[_0x24a66a(0x213)](_0x24a66a(0x27a),_0x338be0),showNotification('Erreur','Erreur\x20lors\x20de\x20la\x20vente\x20automatique\x20du\x20ticket.');}}window[_0x1ca974(0x29f)]=function(){const _0x2ee0dc=_0x1ca974;sessionStorage['clear'](),window['location'][_0x2ee0dc(0x1f7)](_0x2ee0dc(0x1cf));},window[_0x1ca974(0x22c)]=function(){const _0xa415f0=_0x1ca974,_0x639c2a=document['getElementById'](_0xa415f0(0x2bd)),_0x396851=document['getElementById'](_0xa415f0(0x1e1)),_0x2a61fc=document['getElementById'](_0xa415f0(0x247));_0x639c2a[_0xa415f0(0x23e)]['display']===_0xa415f0(0x2a4)||_0x639c2a[_0xa415f0(0x23e)]['display']===''?(_0x639c2a[_0xa415f0(0x23e)][_0xa415f0(0x1ca)]=_0xa415f0(0x1c3),_0x2a61fc[_0xa415f0(0x23e)]['display']=_0xa415f0(0x1d7),_0x396851[_0xa415f0(0x277)]=_0xa415f0(0x225)):(_0x639c2a[_0xa415f0(0x23e)][_0xa415f0(0x1ca)]=_0xa415f0(0x2a4),_0x2a61fc[_0xa415f0(0x23e)]['display']=_0xa415f0(0x2a4),_0x396851[_0xa415f0(0x277)]=_0xa415f0(0x1cb));},window[_0x1ca974(0x1ce)]=function(_0x221136){const _0x1a06ee=_0x1ca974,_0x2dd46e=document[_0x1a06ee(0x23b)](_0x221136),_0x56fd5f=document[_0x1a06ee(0x257)]('div');_0x56fd5f[_0x1a06ee(0x21c)]=_0x1a06ee(0x228);let _0x229121='text';if(_0x221136===_0x1a06ee(0x284))_0x56fd5f[_0x1a06ee(0x28c)]=_0x1a06ee(0x1dd);else{let _0x3ffe8a='';if(_0x221136===_0x1a06ee(0x1b3))_0x3ffe8a='Adresse';else _0x221136===_0x1a06ee(0x260)&&(_0x3ffe8a='Service/Produit');_0x56fd5f[_0x1a06ee(0x28c)]=_0x1a06ee(0x1f9)+_0x229121+_0x1a06ee(0x283)+_0x3ffe8a+_0x1a06ee(0x1ff)+_0x221136[_0x1a06ee(0x2a7)](0x0,-0x4)+_0x1a06ee(0x24e);}_0x2dd46e[_0x1a06ee(0x1e8)](_0x56fd5f);},window[_0x1ca974(0x226)]=function(_0x2d98ce){const _0x563497=_0x1ca974;_0x2d98ce[_0x563497(0x204)][_0x563497(0x1d9)]();},document[_0x1ca974(0x23b)]('portalForm')[_0x1ca974(0x1e3)](_0x1ca974(0x21b),async _0xd36d83=>{const _0x1cfd5a=_0x1ca974;_0xd36d83[_0x1cfd5a(0x230)](),showLoader();const _0x40f3ca=sessionStorage[_0x1cfd5a(0x1ed)](_0x1cfd5a(0x255));if(!_0x40f3ca){console[_0x1cfd5a(0x213)](_0x1cfd5a(0x1bd)),alert(_0x1cfd5a(0x285)),hideLoader();return;}const _0x70da49={'networkName':document[_0x1cfd5a(0x23b)](_0x1cfd5a(0x2b1))['value'],'contactNumber':document[_0x1cfd5a(0x23b)](_0x1cfd5a(0x297))[_0x1cfd5a(0x26c)],'fedapayApiKey':document[_0x1cfd5a(0x23b)](_0x1cfd5a(0x27b))[_0x1cfd5a(0x26c)],'loginMode':document[_0x1cfd5a(0x23b)](_0x1cfd5a(0x20e))[_0x1cfd5a(0x26c)],'tariffs':[],'connections':[],'products':[]};document['querySelectorAll']('#tariffsList\x20.list-item')[_0x1cfd5a(0x2a8)](_0x4466ed=>{const _0x2be3db=_0x1cfd5a,_0x3060e1=_0x4466ed[_0x2be3db(0x2bc)](_0x2be3db(0x240)),_0x363936=_0x4466ed[_0x2be3db(0x2bc)](_0x2be3db(0x2aa));if(_0x3060e1&&_0x363936){const _0x2b7fae=_0x3060e1[_0x2be3db(0x26c)][_0x2be3db(0x288)](),_0xf1b38a=parseFloat(_0x363936['value']);_0x2b7fae&&!isNaN(_0xf1b38a)&&_0x70da49[_0x2be3db(0x26b)]['push']({'name':_0x2b7fae,'price':_0xf1b38a});}}),document[_0x1cfd5a(0x29e)](_0x1cfd5a(0x222))[_0x1cfd5a(0x2a8)](_0x3ee089=>{const _0x116a0b=_0x1cfd5a,_0x5a1257=_0x3ee089[_0x116a0b(0x26c)][_0x116a0b(0x288)]();_0x5a1257&&_0x70da49[_0x116a0b(0x26e)][_0x116a0b(0x2be)](_0x5a1257);}),document[_0x1cfd5a(0x29e)](_0x1cfd5a(0x241))[_0x1cfd5a(0x2a8)](_0x7e0916=>{const _0x1010db=_0x1cfd5a,_0x34779b=_0x7e0916['value']['trim']();_0x34779b&&_0x70da49[_0x1010db(0x254)][_0x1010db(0x2be)](_0x34779b);});try{const _0x400637=ref(db,_0x1cfd5a(0x1c6)+_0x40f3ca+'/portalConfig');await set(_0x400637,_0x70da49),alert(_0x1cfd5a(0x224)),hideLoader(),document['getElementById'](_0x1cfd5a(0x2bd))['reset'](),document[_0x1cfd5a(0x23b)]('portalForm')[_0x1cfd5a(0x23e)][_0x1cfd5a(0x1ca)]=_0x1cfd5a(0x2a4),document[_0x1cfd5a(0x23b)]('togglePortalFormBtn')[_0x1cfd5a(0x277)]=_0x1cfd5a(0x1cb),document['getElementById'](_0x1cfd5a(0x247))[_0x1cfd5a(0x23e)][_0x1cfd5a(0x1ca)]='none',document[_0x1cfd5a(0x23b)](_0x1cfd5a(0x2b0))[_0x1cfd5a(0x277)]=_0x70da49[_0x1cfd5a(0x2b1)];}catch(_0x602008){console[_0x1cfd5a(0x213)]('Erreur\x20lors\x20de\x20l\x27enregistrement\x20de\x20la\x20configuration:',_0x602008),alert('Erreur\x20lors\x20de\x20l\x27enregistrement\x20de\x20la\x20configuration.'),hideLoader();}});function _0x1d68(_0x53a0b3,_0x47c190){const _0x59ecc3=_0x59ec();return _0x1d68=function(_0x1d689f,_0x3021aa){_0x1d689f=_0x1d689f-0x1b1;let _0x2e374e=_0x59ecc3[_0x1d689f];return _0x2e374e;},_0x1d68(_0x53a0b3,_0x47c190);}async function downloadLoginFile(){const _0x976fc7=_0x1ca974;showLoader();const _0x2df050=sessionStorage[_0x976fc7(0x1ed)]('currentUserId');if(!_0x2df050){console['error'](_0x976fc7(0x292)),hideLoader(),alert(_0x976fc7(0x210));return;}try{const _0x4d4639=ref(db,_0x976fc7(0x1c6)+_0x2df050+_0x976fc7(0x220)),_0x22573d=await get(_0x4d4639);if(!_0x22573d[_0x976fc7(0x26f)]()){alert(_0x976fc7(0x1ec)),hideLoader();return;}const _0x262896=_0x22573d[_0x976fc7(0x233)]();let _0x4eb66f='',_0x4d6e04='';if(_0x262896['loginMode']===_0x976fc7(0x24c)){const _0x3a1753=await fetch(_0x976fc7(0x242));_0x4eb66f=await _0x3a1753['text'](),_0x4d6e04=_0x976fc7(0x242);}else{if(_0x262896[_0x976fc7(0x20e)]==='same'){const _0x27718f=await fetch(_0x976fc7(0x269));_0x4eb66f=await _0x27718f[_0x976fc7(0x2ab)](),_0x4d6e04=_0x976fc7(0x269);}else{if(_0x262896[_0x976fc7(0x20e)]==='pay'){const _0x5e3602=await fetch(_0x976fc7(0x1bb));_0x4eb66f=await _0x5e3602[_0x976fc7(0x2ab)](),_0x4d6e04=_0x976fc7(0x1bb);}else{const _0x19009c=await fetch(_0x262896[_0x976fc7(0x20e)]+_0x976fc7(0x262));_0x4eb66f=await _0x19009c[_0x976fc7(0x2ab)](),_0x4d6e04=_0x262896['loginMode']+_0x976fc7(0x262);}}}_0x4eb66f=_0x4eb66f[_0x976fc7(0x1f7)](_0x976fc7(0x275),_0x2df050);function _0x21049d(_0x5ea033){const _0x4e410c=_0x976fc7;let _0x2249f3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20style=\x22width:\x20100%;\x20border-collapse:\x20collapse;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x20text-align:\x20left;\x22>Catégorie</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x20text-align:\x20left;\x22>Prix\x20(FCFA)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x20text-align:\x20left;\x22>Action</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return _0x5ea033[_0x4e410c(0x2a8)](_0x341260=>{const _0x863386=_0x4e410c;_0x2249f3+=_0x863386(0x229)+_0x341260[_0x863386(0x1f5)]+_0x863386(0x1c4)+_0x341260[_0x863386(0x20a)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x22><button\x20onclick=\x22initPayment(\x27'+_0x341260['name']+_0x863386(0x1fb)+_0x341260[_0x863386(0x20a)]+_0x863386(0x20c);}),_0x2249f3+=_0x4e410c(0x256),_0x2249f3;}function _0x4357e9(_0x5c3fa7){const _0x342637=_0x976fc7;let _0x4f016e=_0x342637(0x2bb);return _0x5c3fa7[_0x342637(0x2a8)](_0x21aa43=>{const _0x1569ba=_0x342637;_0x4f016e+=_0x1569ba(0x24b)+_0x21aa43[_0x1569ba(0x1f5)]+_0x1569ba(0x25f)+_0x21aa43[_0x1569ba(0x20a)]+_0x1569ba(0x235);}),_0x4f016e+=_0x342637(0x298),_0x4f016e;}function _0x5de098(_0x10e35a){const _0x527d13=_0x976fc7;let _0x2d3eae=_0x527d13(0x206);return _0x10e35a['forEach'](_0x3a9d42=>{const _0x37bde4=_0x527d13;_0x2d3eae+=_0x37bde4(0x295)+_0x3a9d42+_0x37bde4(0x1cc);}),_0x2d3eae+=_0x527d13(0x1bc),_0x2d3eae;}_0x4eb66f=_0x4eb66f[_0x976fc7(0x1f7)](_0x976fc7(0x1cd),_0x21049d(_0x262896[_0x976fc7(0x26b)]||[])),_0x4eb66f=_0x4eb66f['replace']('<!--\x20TARIFFS_TABLE_SIMPLE\x20-->',_0x4357e9(_0x262896['tariffs']||[])),_0x4eb66f=_0x4eb66f['replace'](_0x976fc7(0x21d),_0x5de098(_0x262896[_0x976fc7(0x26e)]||[])),_0x4eb66f=_0x4eb66f[_0x976fc7(0x1f7)](_0x976fc7(0x28a),_0x5de098(_0x262896[_0x976fc7(0x254)]||[])),_0x4eb66f=_0x4eb66f[_0x976fc7(0x1f7)]('<!--\x20CONTACT_NUMBER\x20-->',_0x262896[_0x976fc7(0x297)]||_0x976fc7(0x270)),_0x4eb66f=_0x4eb66f[_0x976fc7(0x1f7)](_0x976fc7(0x1b4),_0x262896['networkName']||'CYBER\x20CAMPUS\x20WIFI\x20ZONE'),_0x4eb66f=_0x4eb66f[_0x976fc7(0x1f7)](_0x976fc7(0x1b6),_0x262896['fedapayApiKey']||'');const _0x2b5be8=new Blob([_0x4eb66f],{'type':'text/html'}),_0x32358c=URL[_0x976fc7(0x2ad)](_0x2b5be8),_0x3e200b=document['createElement']('a');_0x3e200b[_0x976fc7(0x1e2)]=_0x32358c,_0x3e200b[_0x976fc7(0x2a0)]=_0x4d6e04,document[_0x976fc7(0x2b3)][_0x976fc7(0x1e8)](_0x3e200b),_0x3e200b[_0x976fc7(0x237)](),document[_0x976fc7(0x2b3)][_0x976fc7(0x1d2)](_0x3e200b),URL[_0x976fc7(0x28e)](_0x32358c);const _0x36c63b=document[_0x976fc7(0x257)]('a');_0x36c63b[_0x976fc7(0x1e2)]=_0x976fc7(0x23a),_0x36c63b[_0x976fc7(0x2a0)]=_0x976fc7(0x23a),document[_0x976fc7(0x2b3)][_0x976fc7(0x1e8)](_0x36c63b),_0x36c63b[_0x976fc7(0x237)](),document[_0x976fc7(0x2b3)]['removeChild'](_0x36c63b),hideLoader();}catch(_0x53f8f1){console['error']('Erreur\x20lors\x20du\x20téléchargement\x20du\x20portail\x20captif:',_0x53f8f1),alert(_0x976fc7(0x1d3)),hideLoader();}}window[_0x1ca974(0x299)]=downloadLoginFile;async function loadPortalConfig(){const _0x1950a6=_0x1ca974;showLoader();const _0x506ae5=sessionStorage['getItem']('currentUserId');try{const _0x1b80ea=ref(db,_0x1950a6(0x1c6)+_0x506ae5+_0x1950a6(0x220)),_0x204c01=ref(db,_0x1950a6(0x1f8)),_0x38d756=ref(db,'users/Version\x20du\x20système'),_0x419f43=await get(_0x1b80ea),_0x450b52=await get(_0x204c01),_0x424b09=await get(_0x38d756);_0x450b52['exists']()?fedapayApiKey=_0x450b52[_0x1950a6(0x233)]():(console[_0x1950a6(0x268)]('API\x20configuration\x20not\x20found\x20globally\x20for\x20subscription.'),fedapayApiKey=_0x1950a6(0x1b2));_0x424b09['exists']()?systemVersion=_0x424b09[_0x1950a6(0x233)]():(systemVersion=_0x1950a6(0x250),console[_0x1950a6(0x268)](_0x1950a6(0x217)));document[_0x1950a6(0x23b)](_0x1950a6(0x1d0))['textContent']=systemVersion;if(_0x419f43['exists']()){const _0x462525=_0x419f43[_0x1950a6(0x233)]();document[_0x1950a6(0x23b)](_0x1950a6(0x2b1))[_0x1950a6(0x26c)]=_0x462525[_0x1950a6(0x2b1)]||'',document[_0x1950a6(0x23b)](_0x1950a6(0x297))['value']=_0x462525[_0x1950a6(0x297)]||'',document[_0x1950a6(0x23b)](_0x1950a6(0x27b))[_0x1950a6(0x26c)]=_0x462525['fedapayApiKey']||'',document['getElementById']('loginMode')[_0x1950a6(0x26c)]=_0x462525[_0x1950a6(0x20e)]||_0x1950a6(0x24c),document[_0x1950a6(0x23b)](_0x1950a6(0x2b0))[_0x1950a6(0x277)]=_0x462525[_0x1950a6(0x2b1)]||_0x1950a6(0x1b9);function _0x7527d3(_0x4a17fd,_0x1b5ed1,_0x13f861){const _0x326495=_0x1950a6,_0x58c306=document[_0x326495(0x23b)](_0x4a17fd);_0x58c306[_0x326495(0x28c)]='',_0x1b5ed1[_0x326495(0x2a8)](_0x5210cf=>{const _0x1858f0=_0x326495,_0x48c88f=document['createElement'](_0x1858f0(0x22e));_0x48c88f[_0x1858f0(0x21c)]=_0x1858f0(0x228),_0x4a17fd===_0x1858f0(0x284)?_0x48c88f[_0x1858f0(0x28c)]=_0x1858f0(0x23c)+_0x5210cf['name']+_0x1858f0(0x28d)+_0x5210cf['price']+_0x1858f0(0x236):_0x48c88f[_0x1858f0(0x28c)]=_0x1858f0(0x293)+_0x5210cf+_0x1858f0(0x1ff)+_0x13f861+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20onclick=\x22removeListItem(this)\x22>Supprimer</button>',_0x58c306[_0x1858f0(0x1e8)](_0x48c88f);}),addListItem(_0x4a17fd);}_0x7527d3('tariffsList',_0x462525['tariffs']||[],null),_0x7527d3(_0x1950a6(0x1b3),_0x462525[_0x1950a6(0x26e)]||[],_0x1950a6(0x289)),_0x7527d3(_0x1950a6(0x260),_0x462525['products']||[],_0x1950a6(0x211));}else console['log'](_0x1950a6(0x209)),addListItem(_0x1950a6(0x284)),addListItem('connectionsList'),addListItem(_0x1950a6(0x260));}catch(_0x363f08){console['error'](_0x1950a6(0x1e6),_0x363f08),alert(_0x1950a6(0x21e));}finally{hideLoader();}}function _0x59ec(){const _0x3e478d=['Veuillez\x20sélectionner\x20un\x20fichier\x20à\x20importer.','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x22>','productsList','location','.html','importDataInput','12330043akawZk','admin@example.com','target','.json','log','log.html','Données\x20importées\x20avec\x20succès!','tariffs','value','_blank','connections','exists','+229\x20XXXXXXXX','DIALOG_DISMISSED','Current\x20user\x20ID\x20is\x20not\x20found\x20in\x20sessionStorage.','subscriptionStatus','Erreur\x20lors\x20du\x20traitement\x20des\x20tickets\x20connectés\x20:','<!--\x20ADMIN_USER_ID\x20-->','catch','textContent','isLoggedIn','/TicketsTransit','Erreur\x20lors\x20de\x20la\x20vente\x20automatique\x20du\x20ticket\x20:','fedapayApiKey','Stock.html','Une\x20erreur\x20est\x20survenue\x20lors\x20du\x20traitement\x20des\x20tickets.','4VEywhd','\x20réussi!','onerror','TicketsTotal','Données\x20modifiées\x20pendant\x20l\x27importation:','\x22\x20placeholder=\x22','tariffsList','Vous\x20devez\x20être\x20connecté\x20pour\x20configurer\x20le\x20portail.','/VendorsHistory','Vous\x20devez\x20être\x20connecté\x20pour\x20exporter\x20les\x20données.','trim','connection','<!--\x20PRODUCTS_LIST\x20-->','stock','innerHTML','\x22\x20data-type=\x22tariffName\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20value=\x22','revokeObjectURL','Vérification\x20des\x20tickets\x20connectés...','pageLoaderMessage','stringify','User\x20ID\x20not\x20found.\x20Cannot\x20download\x20login\x20file.','<input\x20type=\x22text\x22\x20value=\x22','redirectButton','<li>','indexOf','contactNumber','</tbody></table>','downloadLoginFile','Erreur','updatedData','/admin/subscription','Nettoyage\x20des\x20tickets\x20traités...','querySelectorAll','logout','download','includes','2475720OiVqpU','Statut\x20de\x20l\x27abonnement:\x20Actif\x20jusqu\x27au\x20','none','Abonnement\x20mensuel','3103790YsaUXU','slice','forEach','731311jvvuNN','[data-type=\x22tariffPrice\x22]','text','monthly','createObjectURL','Statut\x20de\x20l\x27abonnement:\x20Inactif','cancelled','networkNameDisplay','networkName','Erreur\x20lors\x20de\x20l\x27annulation\x20de\x20l\x27abonnement:','body','red','Erreur\x20lors\x20du\x20traitement\x20du\x20ticket\x20','880779CbFTGk','category','TicketsTransit','clear','pay','<table\x20style=\x22width:\x20100%;\x20border-collapse:\x20collapse;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x20text-align:\x20left;\x22>Catégorie</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x20text-align:\x20left;\x22>Prix\x20(FCFA)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','querySelector','portalForm','push','annuel','pk_live_xxxxxxxxxxxxx','connectionsList','<!--\x20NETWORK_NAME\x20-->','username','<!--\x20FEDAPAY_API_KEY\x20-->','subscribeMonthly','inventaire','ADMIN\x20WIFI\x20ZONE','transaction','pay.html','</ul>','User\x20ID\x20not\x20found.\x20Cannot\x20save\x20portal\x20configuration.','vente','Erreur:\x20ID\x20administrateur\x20non\x20trouvé.\x20Veuillez\x20vous\x20reconnecter.','motDePasse','16wngRSP','DOMContentLoaded','flex','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x22>','change','users-data/','Traitement\x20des\x20tickets\x20uniques...','expired','324318RkoNux','display','Configurer\x20le\x20portail\x20captif','</li>','<!--\x20TARIFFS_TABLE\x20-->','addListItem','loginAccueil.html','versionNumber','now','removeChild','Erreur\x20lors\x20du\x20téléchargement\x20du\x20portail\x20captif.','toISOString','9UgiXxK','Erreur\x20lors\x20de\x20l\x27exportation\x20des\x20données.','inline-block','PageVenteTicket.html?adminId=','remove','Vérification\x20du\x20ticket\x20pour\x20','CHECKOUT_COMPLETED','Erreur\x20de\x20lecture\x20du\x20fichier:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20placeholder=\x22Nom\x20du\x20tarif\x22\x20data-type=\x22tariffName\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20placeholder=\x22Prix\x22\x20data-type=\x22tariffPrice\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20onclick=\x22removeListItem(this)\x22>Supprimer</button>','User\x20ID\x20not\x20found.\x20Cannot\x20cancel\x20subscription.','/TicketsTotal/','Erreur\x20lors\x20de\x20la\x20vérification\x20du\x20statut\x20d\x27abonnement:','togglePortalFormBtn','href','addEventListener','mensuel','subscribeYearly','Erreur\x20lors\x20du\x20chargement\x20de\x20la\x20configuration:','Vous\x20devez\x20être\x20connecté\x20pour\x20annuler\x20un\x20abonnement.','appendChild','loaderWrapper','Vous\x20devez\x20être\x20connecté\x20pour\x20vous\x20abonner.','Vente\x20du\x20ticket\x20','Aucune\x20configuration\x20de\x20portail\x20captif\x20trouvée.','getItem','...','onload','yearly','Aucune\x20donnée\x20à\x20exporter.','2448575ZRXrbC','init','Erreur\x20lors\x20du\x20traitement\x20des\x20tickets\x20:','name','hotspot1','replace','users/API','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22','toLocaleDateString','\x27,\x20','files','result','reload','\x22\x20data-type=\x22','hotspot4','Mode\x20de\x20connexion\x20inconnu.','status','Traitement\x20du\x20ticket\x20','parentNode','color','<ul>','administration','endDate','Aucune\x20configuration\x20trouvée.','price','filter',')\x22>Payer</button></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','exportData','loginMode','Vendeur\x20automatique','Vous\x20devez\x20être\x20connecté\x20pour\x20télécharger\x20le\x20portail.','product','a3.html','error','password','Erreur\x20de\x20lecture\x20du\x20fichier.','parse','System\x20Version\x20not\x20found\x20globally,\x20using\x20default.','reason','active','Erreur\x20lors\x20du\x20traitement\x20du\x20ticket\x20:','submit','className','<!--\x20CONNECTION_LOCATIONS\x20-->','Erreur\x20lors\x20du\x20chargement\x20de\x20la\x20configuration.','Abonnement\x20annuel','/portalConfig','\x20vendu\x20automatiquement\x20et\x20enregistré\x20dans\x20VendorsHistory.','#connectionsList\x20.list-item\x20input','Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20l\x27initialisation.','Configuration\x20du\x20portail\x20captif\x20enregistrée\x20avec\x20succès!','Masquer\x20le\x20formulaire','removeListItem','User\x20ID\x20not\x20found.\x20Cannot\x20check\x20subscription\x20status.','list-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x22>','User\x20ID\x20not\x20found.\x20Cannot\x20initiate\x20payment.','/TicketsTotal','togglePortalForm','/VendorsHistory/','div','Erreur\x20lors\x20de\x20l\x27importation\x20des\x20données:\x20','preventDefault','true','getFullYear','val','open','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>','\x22\x20data-type=\x22tariffPrice\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20onclick=\x22removeListItem(this)\x22>Supprimer</button>','click','pageLoaderWrapper','block','firebase-config-manager.js','getElementById','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','Paiement\x20échoué.','style','/TicketsTransit/','[data-type=\x22tariffName\x22]','#productsList\x20.list-item\x20input','login.html','https://firebasestorage.googleapis.com/v0/b/eduque-moi-bada8.appspot.com/o/Partail%20capitf%20secondaire.zip?alt=media&token=7bf96399-b991-40db-af64-48b41ef9fd71','subscriptionRequiredModal','Abonnement\x20annulé.','https://firebasestorage.googleapis.com/v0/b/eduque-moi-bada8.appspot.com/o/hotspot15.zip?alt=media&token=faff7632-2bde-42dc-bf2f-4de22a783e64','downloadLoginBtn','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20de\x20l\x27abonnement.','then','readAsText','<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x22>','separate','2qmlXys','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20onclick=\x22removeListItem(this)\x22>Supprimer</button>','Ticket\x20','1.0.0','setFullYear','Statut\x20de\x20l\x27abonnement:\x20Expiré','utilisateur','products','currentUserId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createElement','object','importData','Erreur\x20lors\x20de\x20l\x27exportation:','user','/TicketConnecté','Les\x20données\x20importées\x20ne\x20sont\x20pas\x20valides.'];_0x59ec=function(){return _0x3e478d;};return _0x59ec();}document[_0x1ca974(0x23b)]('redirectButton')['addEventListener']('click',function(){const _0x57d390=_0x1ca974,_0x284067=document[_0x57d390(0x23b)](_0x57d390(0x20e))[_0x57d390(0x26c)];let _0x131918='';switch(_0x284067){case _0x57d390(0x24c):_0x131918=_0x57d390(0x242);break;case'same':_0x131918=_0x57d390(0x269);break;case _0x57d390(0x2ba):_0x131918=_0x57d390(0x1bb);break;case _0x57d390(0x1f6):_0x131918='https://firebasestorage.googleapis.com/v0/b/eduque-moi-bada8.appspot.com/o/Portail%20par%20d%C3%A9faut.zip?alt=media&token=9f200c87-a577-4d51-ae08-8324c17b58e9';break;case'hotspot2':_0x131918='https://firebasestorage.googleapis.com/v0/b/eduque-moi-bada8.appspot.com/o/hotspot1.zip?alt=media&token=d1e7b9b5-102a-42c5-ab36-9b1764e995ff';break;case'hotspot3':_0x131918=_0x57d390(0x243);break;case _0x57d390(0x200):_0x131918=_0x57d390(0x246);break;default:alert(_0x57d390(0x201));return;}window['open'](_0x131918,_0x57d390(0x26d));}),document['getElementById'](_0x1ca974(0x20e))[_0x1ca974(0x1e3)](_0x1ca974(0x1c5),function(){const _0x50465e=_0x1ca974,_0x44ce9b=this[_0x50465e(0x26c)],_0x2af41f=document[_0x50465e(0x23b)](_0x50465e(0x294));[_0x50465e(0x24c),'same',_0x50465e(0x2ba)][_0x50465e(0x2a1)](_0x44ce9b)?_0x2af41f[_0x50465e(0x23e)][_0x50465e(0x1ca)]='none':_0x2af41f[_0x50465e(0x23e)][_0x50465e(0x1ca)]=_0x50465e(0x1d7);});async function exportData(){const _0x4f6526=_0x1ca974;showLoader();const _0x5983ae=sessionStorage['getItem'](_0x4f6526(0x255));if(!_0x5983ae){hideLoader(),alert(_0x4f6526(0x287));return;}try{const _0x1f9584=ref(db,'users-data/'+_0x5983ae),_0x55bf86=await get(_0x1f9584);if(_0x55bf86[_0x4f6526(0x26f)]()){const _0x26261d=_0x55bf86[_0x4f6526(0x233)](),_0x4cc079=JSON[_0x4f6526(0x291)](_0x26261d,null,0x2),_0x3914df=new Blob([_0x4cc079],{'type':'application/json'}),_0x7ccc1b=URL[_0x4f6526(0x2ad)](_0x3914df),_0x35e0aa=document['createElement']('a');_0x35e0aa['href']=_0x7ccc1b,_0x35e0aa[_0x4f6526(0x2a0)]='backup-data-'+_0x5983ae+_0x4f6526(0x267),document[_0x4f6526(0x2b3)][_0x4f6526(0x1e8)](_0x35e0aa),_0x35e0aa[_0x4f6526(0x237)](),document[_0x4f6526(0x2b3)][_0x4f6526(0x1d2)](_0x35e0aa),URL['revokeObjectURL'](_0x7ccc1b);}else alert(_0x4f6526(0x1f1));}catch(_0x49c3ca){console[_0x4f6526(0x213)](_0x4f6526(0x25a),_0x49c3ca),alert(_0x4f6526(0x1d6));}finally{hideLoader();}}window[_0x1ca974(0x20d)]=exportData;async function importData(){const _0x1b1ce4=_0x1ca974;showLoader();const _0x41c713=sessionStorage['getItem']('currentUserId');if(!_0x41c713){hideLoader(),alert('Vous\x20devez\x20être\x20connecté\x20pour\x20importer\x20les\x20données.');return;}const _0x23b220=document['getElementById'](_0x1b1ce4(0x263)),_0x449cd9=_0x23b220[_0x1b1ce4(0x1fc)][0x0];if(!_0x449cd9){hideLoader(),alert(_0x1b1ce4(0x25e));return;}const _0x56fc36=new FileReader();_0x56fc36[_0x1b1ce4(0x1ef)]=async _0x573877=>{const _0x282575=_0x1b1ce4;try{const _0x74d94a=JSON[_0x282575(0x216)](_0x573877[_0x282575(0x266)][_0x282575(0x1fd)]),_0x29ee1f=ref(db,'users-data/'+_0x41c713);if(typeof _0x74d94a!==_0x282575(0x258)||_0x74d94a===null)throw new Error(_0x282575(0x25d));const _0x41735b=onValue(_0x29ee1f,_0x3b9fad=>{const _0x19f761=_0x282575;console[_0x19f761(0x268)](_0x19f761(0x282),_0x3b9fad[_0x19f761(0x233)]());});await set(_0x29ee1f,_0x74d94a),_0x41735b(),alert(_0x282575(0x26a)),window['location'][_0x282575(0x1fe)]();}catch(_0x141ec0){console[_0x282575(0x213)]('Erreur\x20lors\x20de\x20l\x27importation:',_0x141ec0),alert(_0x282575(0x22f)+_0x141ec0['message']);}finally{hideLoader(),_0x23b220['value']='';}},_0x56fc36[_0x1b1ce4(0x280)]=_0x2a8449=>{const _0x1e7eee=_0x1b1ce4;console[_0x1e7eee(0x213)](_0x1e7eee(0x1dc),_0x2a8449),alert(_0x1e7eee(0x215)),hideLoader(),_0x23b220[_0x1e7eee(0x26c)]='';},_0x56fc36[_0x1b1ce4(0x24a)](_0x449cd9);}window[_0x1ca974(0x259)]=importData,document[_0x1ca974(0x1e3)](_0x1ca974(0x1c2),async()=>{const _0x2dc459=_0x1ca974;showPageLoader(),await initializeDatabase(),await checkLoginStatus(),await loadPortalConfig(),processConnectedTickets()[_0x2dc459(0x249)](()=>checkSubscriptionStatus())[_0x2dc459(0x249)](()=>{hidePageLoader();})[_0x2dc459(0x276)](_0x1b237f=>{const _0x1d20ad=_0x2dc459;console[_0x1d20ad(0x213)](_0x1d20ad(0x1f4),_0x1b237f),hidePageLoader(),showNotification(_0x1d20ad(0x29a),_0x1d20ad(0x223));});}),window['redirectToSubscription']=redirectToSubscription,window['hideSubscriptionRequiredModal']=redirectToSubscription;function closePaymentModal(){const _0x3b68d1=_0x1ca974;paymentModal[_0x3b68d1(0x23e)][_0x3b68d1(0x1ca)]='none',overlay[_0x3b68d1(0x23e)][_0x3b68d1(0x1ca)]=_0x3b68d1(0x2a4);}window['onload']=()=>{};
    </script>

</body>
</html>