<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADMIN WIFI ZONE</title>
    <link rel="stylesheet" href="styleA.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>
    <script src="https://cdn.fedapay.com/checkout.js?v=1.1.7"></script>

    <style>
        /* ... (Styles CSS - Pas de modifications majeures) ... */
       .payment-modal {
           display: none;
           position: fixed;
           top: 50%;
           left: 50%;
           transform: translate(-50%, -50%);
           background-color: white;
           padding: 30px;
           border-radius: 10px;
           box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
           z-index: 1000;
           max-width: 400px;
           width: 90%;
           text-align: center;
       }

       /* Style pour la modale du formulaire portail */
       #portalFormModal {
           display: none;
           position: fixed;
           top: 50%;
           left: 50%;
           transform: translate(-50%, -50%);
           background-color: rgb(3, 39, 31);
           padding: 20px;
           border-radius: 10px;
           box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
           z-index: 1001; /* Au-dessus de l'overlay */
           max-width: 80%;
           width: 90%;
           max-height: 90vh;
           overflow-y: auto;
       }
       #portalFormModal .close-portal-form-modal {
           position: absolute;
           top: 10px;
           right: 10px;
           cursor: pointer;
           font-size: 1.2rem;
           color: #ffffff;
       }

       .portal-form-overlay {
           display: none;
           position: fixed;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           background-color: rgba(0, 0, 0, 0.5);
           z-index: 1000; /* En dessous de la modale */
       }


       .payment-modal h2 {
           color: #333;
           margin-bottom: 20px;
       }

       .payment-modal p {
           color: #666;
           margin-bottom: 30px;
       }

       .payment-modal button {
           background-color: #fdbb2d;
           color: #1a2a6c;
           border: none;
           padding: 12px 20px;
           border-radius: 25px;
           cursor: pointer;
           transition: all 0.3s;
           font-weight: 600;
           font-size: 0.9rem;
           margin: 0 10px;
       }

       .payment-modal button:hover {
           background-color: #e6a727;
       }

       .close-modal {
           position: absolute;
           top: 10px;
           right: 10px;
           cursor: pointer;
           font-size: 1.2rem;
           color: #333;
       }

       /* Style pour l'overlay */
       .overlay {
           display: none;
           position: fixed;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           background-color: rgba(0, 0, 0, 0.5);
           z-index: 999;
       }
       #subscriptionSection {
           text-align: center;
           margin-bottom: 30px;
       }

       #subscriptionSection h2 {
           font-size: 24px;
           color: #fdbb2d;
           margin-bottom: 20px;
       }

       #subscriptionStatus {
           font-size: 18px;
           color: #fff;
           margin-bottom: 20px;
       }

       .subscription-buttons {
           display: flex;
           justify-content: center;
           gap: 20px;
       }

       .subscription-buttons button {
           background-color: #fdbb2d;
           color: #1a2a6c;
           border: none;
           padding: 12px 20px;
           border-radius: 25px;
           cursor: pointer;
           transition: all 0.3s;
           font-weight: 600;
           font-size: 0.9rem;
       }

       .subscription-buttons button:hover {
           background-color: #e6a727;
       }

       /* Style pour le message d'abonnement requis */
       .subscription-required {
           display: none;
           position: fixed;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           background-color: rgba(0, 0, 0, 0.5);
           z-index: 1000;
           justify-content: center;
           align-items: center;
           color: white;
           text-align: center;
           padding: 20px;
       }

       .subscription-required-content {
           background-color: white;
           padding: 30px;
           border-radius: 10px;
           box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
           max-width: 400px;
           width: 90%;
       }

       .subscription-required-content h2 {
           color: #333;
           margin-bottom: 20px;
       }

       .subscription-required-content p {
           color: #666;
           margin-bottom: 30px;
           }

       .subscription-required-content button {
           background-color: #fdbb2d;
           color: #1a2a6c;
           border: none;
           padding: 12px 20px;
           border-radius: 25px;
           cursor: pointer;
           transition: all 0.3s;
           font-weight: 600;
           font-size: 0.9rem;
           margin: 0 10px;
       }

       .subscription-required-content button:hover {
           background-color: #e6a727;
       }
        .loader-wrapper {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1001;
        }

        .loader {
            position: absolute;
            top: 50%;
            left: 50%;
            border: 6px solid #f3f3f3;
            border-top: 6px solid #fdbb2d;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 2s linear infinite;
            transform: translate(-50%, -50%);
        }

        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        .page-loader-wrapper {
            display: flex;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1002;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .page-loader {
            border: 6px solid #f3f3f3;
            border-top: 6px solid #fdbb2d;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 2s linear infinite;
        }

        .loader-message {
            color: white;
            margin-top: 16px;
            font-size: 1rem;
            text-align: center;
            max-width: 80%;
        }

        .header {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            text-align: center;
        }

        .header h1 {
            margin: 0;
        }

        .logout-button {
            background-color: #e74c3c;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background-color 0.3s;
        }

        .logout-button:hover {
            background-color: #c0392b;
        }
       /* Styles pour le formulaire de portail captif */
      #portalForm {
          display: flex; /* Flex pour centrer le contenu si besoin */
          flex-direction: column;
          gap: 10px;
          max-width: 600px; /* Limite la largeur du formulaire */
          margin: 0 auto; /* Centre le formulaire dans la modale */
          padding: 20px;
          background-color: rgba(255, 255, 255, 0); /* Fond transparent dans la modale */
          border-radius: 8px;
          box-shadow: none; /* Pas d'ombre dans la modale (l'ombre est sur la modale elle-même) */
      }
      #portalForm label {
          color: #fdbb2d; /* Couleur pour les labels */
      }
      #portalForm input[type="text"],
      #portalForm input[type="number"],
      #portalForm textarea,
      #portalForm select {
          width: 100%;
          padding: 10px;
          border: 1px solid #ddd;
          border-radius: 4px;
          background-color: rgba(255,255,255,0.2); /* Fond transparent */
          color: white; /* Couleur du texte */
      }

      #portalForm button {
          padding: 10px 15px;
          background-color: #fdbb2d;
          color: #1a2a6c;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          font-size: 16px;
      }

      #portalForm button:hover {
          background-color: #e6a727;
      }
      #portalForm .list-input-container {
          display: flex;
          flex-direction: column;
      }

      #portalForm .list-item {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }

      #portalForm .list-item input {
          flex: 1; /* Permet à l'input de prendre l'espace disponible */
          margin-right: 5px; /* Marge entre l'input et le bouton */
      }
        #portalForm .list-item button {
           padding: 5px 10px;
           background-color: #e74c3c; /* Couleur différente pour le bouton de suppression */
           color: white;
           border: none;
           border-radius: 4px;
           cursor: pointer;
           font-size: 14px;
        }

        #portalForm .list-item button:hover {
           background-color: #c0392b;
        }

        #configSection {
          margin-bottom:           20px;
          text-align: center; /* Center-align the buttons */
      }
        #configSection .config-buttons {
          display: inline-block;
          margin: 0 10px;
        }

        #systemVersionDisplay {
            position: absolute;
            top: 10px;
            right: 10px;
            color: #fdbb2d;
            font-size: 0.8rem;
        }

        #redirectButtonContainer {
            margin-top: 10px;
            text-align: center;
        }

        #redirectButton {
            padding: 10px 15px;
            background-color: #fdbb2d;
            color: #1a2a6c;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            display: none; /* Hidden by default */
        }

        #redirectButton:hover {
          background-color: #e6a727;
      }

      .data-management-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }
        .data-management-buttons button {
            background-color: #fdbb2d;
            color: #1a2a6c;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background-color 0.3s;
            animation: pulse-color 1.5s infinite alternate; /* Animation plus rapide */
        }

        @keyframes pulse-color { /* Animation plus contrastée */
            0% { background-color: #fdbb2d; }
            100% { background-color: #ffa800; } /* Couleur plus vive */
        }


        .data-management-buttons button:hover {
            background-color: #e6a727;
            animation: none; /* Stop animation on hover if needed */
        }


        #importDataInput {
            display: none; /* Cache l'input file par défaut */
        }
         /* Styles pour la notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #4CAF50;
            color: white;
            padding: 15px;
            border-radius: 5px;
            display: none; /* Cachée par défaut */
            z-index: 1000;
        }
        .notification.error {
           background-color: red;
       }

        .close-btn {
            margin-left: 15px;
            color: white;
            font-weight: bold;
            float: right;
            font-size: 22px;
            line-height: 20px;
            cursor: pointer;
            transition: 0.3s;
        }

        .close-btn:hover {
            color: black;
        }

        /*Confirmation d'intégration*/

       .confirmation-modal {
           display: none;
           position: fixed;
           top: 50%;
           left: 50%;
           transform: translate(-50%, -50%);
           background-color: white;
           padding: 30px;
           border-radius: 10px;
           box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
           z-index: 1001; /* Au-dessus de la modale de paiement */
           max-width: 400px;
           width: 90%;
           text-align: center;
       }

       .confirmation-modal h2 {
           color: #333;
           margin-bottom: 20px;
       }

       .confirmation-modal p {
           color: #666;
           margin-bottom: 30px;
       }

    .confirmation-modal .buttons {
       display: flex;
       justify-content: center;
       gap: 20px;
    }

       .confirmation-modal button {
           background-color: #fdbb2d;
           color: #1a2a6c;
           border: none;
           padding: 12px 20px;
           border-radius: 25px;
           cursor: pointer;
           transition: all 0.3s;
           font-weight: 600;
           font-size: 0.9rem;

       }

       .confirmation-modal button:hover {
           background-color: #e6a727;
       }

       /* Assurez-vous que l'overlay pour la confirmation est différent */
       .confirmation-overlay {
           display: none;
           position: fixed;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           background-color: rgba(0, 0, 0, 0.5);
           z-index: 1000; /* Juste en dessous de la modale de confirmation */
       }

        /* Style pour la zone de code copiable */
       .code-area {
           background-color: rgba(255, 255, 255, 0.1);
           border: 1px solid #ddd;
           padding: 10px;
           margin-top: 15px;
           border-radius: 4px;
           position: relative; /* Nécessaire pour le positionnement du bouton de copie */
        }

        .code-area pre {
            white-space: pre-wrap; /* Conserve les sauts de ligne */
            word-wrap: break-word; /* Gère les longues lignes */
            color: white;
        }

       .copy-button {
           position: absolute;
           top: 5px;
           right: 5px;
           background-color: #fdbb2d;
           color: #1a2a6c;
           border: none;
           border-radius: 4px;
           padding: 5px 10px;
           cursor: pointer;
           font-size: 0.8rem;
       }
        .copy-button:hover {
            background-color: #e6a727;
        }

        /* Styles pour la modale d'aide */
        #helpModal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
            z-index: 1002; /* Au-dessus des autres modales */
            max-width: 80%;
            width: 90%;
            max-height: 80vh; /* Limite la hauteur */
            overflow-y: auto;  /* Ajoute une barre de défilement si nécessaire */
        }

        #helpModal h2 {
            color: #333;
            margin-bottom: 15px;
            text-align: center;
        }

        #helpModal .video-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); /* Colonnes responsives */
            gap: 20px;
            justify-content: center;
          }
          #helpModal .video-item {
              display: flex;
              flex-direction: column;
          }

          #helpModal .video-title {
              color: #fdbb2d;
              margin-top: 10px;
              text-align: center;
              font-weight: bold;
          }


          #helpModal .video-container {
               position: relative;
               width: 100%;
               padding-bottom: 56.25%; /* Ratio 16:9 */
               overflow: hidden;
           }

           #helpModal .video-container iframe {
               position: absolute;
               top: 0;
               left: 0;
               width: 100%;
               height: 100%;
               border: 0; /* Enlève la bordure par défaut */
           }
           #helpModal .close-help-modal {
                position: absolute;
                top: 10px;
                right: 10px;
                cursor: pointer;
                font-size: 1.2rem;
                color: #333;
           }

           /* Style pour l'icône WhatsApp flottante */
           .whatsapp-icon {
               position: fixed;
               bottom: 20px;
               right: 20px;
               z-index: 1003; /* Au-dessus de tout */
           }

           .whatsapp-icon a {
                display: block; /* Important pour que la taille de l'icône soit respectée */
                width: 60px;  /* Taille de l'icône */
                height: 60px;
                background-color: #25d366; /* Couleur WhatsApp */
                border-radius: 50%; /* Forme ronde */
                text-align: center;
                line-height: 60px; /* Centre l'icône verticalement */
                color: white;
                font-size: 30px; /* Taille de l'icône Font Awesome */
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Ombre légère */
                transition: background-color 0.3s;
           }
            .whatsapp-icon a:hover{
                background-color: #128c7e;
            }


    </style>
</head>
<body>
    <div class="page-loader-wrapper" id="pageLoaderWrapper">
        <div class="page-loader"></div>
        <div class="loader-message" id="pageLoaderMessage">Initialisation...</div>
    </div>
    <div class="loader-wrapper" id="loaderWrapper">
        <div class="loader"></div>
    </div>
    <div class="container" id="contentContainer" style="display:none;">
        <header class="header">
            <h1 id="networkNameDisplay">ADMIN WIFI ZONE</h1>
            <div class="wave"></div>
            <div id="systemVersionDisplay">Version du système: <span id="versionNumber"></span></div>
        </header>


        <main>
            <div id="subscriptionSection">
                <h2>Statut de l'Abonnement</h2>
                <div id="subscriptionStatus"></div>
                <div class="subscription-button">
                    <button id="subscribeMonthly">S'abonner (Mensuel - 1000 FCFA)</button>
                    <button id="subscribeYearly">S'abonner (Annuel - 10 000 FCFA)</button>
                </div>
            </div>

            <div id="configSection">
              <button onclick="togglePortalForm()" id="togglePortalFormBtn">Configurer le portail captif</button>
              <button onclick="downloadLoginFile()" id="downloadLoginBtn" style="display: none;">Télécharger le portail captif</button>
             </div>


             <!-- Modale du formulaire Portail Captif -->
            <div id="portalFormModal" class="portal-form-modal">
                <span class="close-portal-form-modal" onclick="closePortalFormModal()">×</span>
                <h2>Configuration du Portail Captif</h2>
                <form id="portalForm">
                    <label for="networkName">Nom du réseau:</label>
                    <input type="text" id="networkName" name="networkName" required>

                    <label for="contactNumber">Numéro à contacter:</label>
                    <input type="text" id="contactNumber" name="contactNumber" required>

                    <label for="fedapayApiKey">Clé API FedaPay Portail Captif:</label>
                    <input type="text" id="fedapayApiKey" name="fedapayApiKey" required>

                    <label for="loginMode">Mode de connexion par défaut :</label>
                    <select id="loginMode" name="loginMode">
                        <option value="separate">Login (Utilisateur & Mot de passe)</option>
                        <option value="same">Log (Identifiant unique)</option>
                        <option value="pay">Pay (Page de paiement)</option>
                        <option value="hotspot1">Portail captif par défaut</option>
                        <option value="hotspot2">Portail captif secondaire</option>
                        <option value="hotspot3">Portail captif secondaire</option>
                        <option value="hotspot4">Portail captif KODA SMART</option>
                    </select>
                    <div id="redirectButtonContainer">
                        <button type="button" id="redirectButton">Télécharger</button>
                    </div>

                    <div class="list-input-container">
                        <label>Tarifs:</label>
                        <div id="tariffsList">
                            <div class="list-item">
                                <input type="text" placeholder="Nom du tarif" data-type="tariffName">
                                <input type="number" placeholder="Prix" data-type="tariffPrice">
                                <button type="button" onclick="addListItem('tariffsList')">Ajouter</button>
                             </div>
                          </div>
                     </div>

                     <div class="list-input-container">
                          <label>Adresses de connexion:</label>
                          <div id="connectionsList">
                             <div class="list-item">
                                <input type="text" placeholder="Adresse" data-type="connection">
                                <button type="button" onclick="addListItem('connectionsList')">Ajouter</button>
                               </div>
                          </div>
                      </div>

                      <div class="list-input-container">
                          <label>Services et produits:</label>
                          <div id="productsList">
                             <div class="list-item">
                                 <input type="text" placeholder="Service/Produit" data-type="product">
                                 <button type="button" onclick="addListItem('productsList')">Ajouter</button>
                             </div>
                         </div>
                     </div>

                    <!-- Zone de code copiable -->
                    <div class="code-area">
                        <label>Configuration MikroTik (Copiez et collez dans le terminal MikroTik) :</label>
                        <pre id="mikrotikCode">
/ip hotspot walled-garden add dst-host="*.fedapay.com" dst-port=80,443 action=allow
/ip hotspot walled-garden add dst-host="*.firebaseio.com" dst-port=80,443 action=allow
/ip hotspot walled-garden add dst-host="*.googleapis.com" dst-port=80,443 action=allow
/ip hotspot walled-garden add dst-host="*.cloudflare.com" dst-port=80,443 action=allow
/ip hotspot walled-garden add dst-host="www.gstatic.com" dst-port=80,443 action=allow
/ip hotspot walled-garden add dst-host="ssl.gstatic.com" dst-port=80,443 action=allow
/ip hotspot walled-garden add dst-host="fonts.gstatic.com" dst-port=80,443 action=allow
/ip hotspot walled-garden add dst-host="*.netlify.app" dst-port=80,443 action=allow
/ip hotspot walled-garden add dst-host="firebasejs.com" dst-port=80,443 action=allow
/ip hotspot walled-garden add dst-host="*.github.io" dst-port=80,443 action=allow
                        </pre>
                       <button class="copy-button" onclick="copyMikrotikCode()">Copier</button>
                    </div>


                     <button type="submit">Enregistrer la configuration</button>
                     <button onclick="downloadLoginFile()" id="downloadLoginBtn" style="display: block; margin-top: 10px;">Télécharger le portail captif</button>

                 </form>
            </div>
            <div class="portal-form-overlay" id="portalFormOverlay"></div>


            <div class="menu">
                <a href="PageVenteTicket.html" class="menu-item" id="vente">
                    <i class="fas fa-ticket-alt"></i>
                    <h2>Vente de Tickets</h2>
                    <p>Procédez à la vente de nouveaux tickets Wifi.</p>
                </a>
                <a href="AdminVentePartenaires.html" class="menu-item" id="inventaire">
                    <i class="fas fa-clipboard-list"></i>
                    <h2>Inventaire des Tickets</h2>
                    <p>Consultez l'état des ventes de vos partenaires.</p>
                </a>
                <a href="Stock.html" class="menu-item" id="stock">
                    <i class="fas fa-boxes"></i>
                    <h2>Gestion des Stocks Partenaire</h2>
                    <p>Suivez les stocks de tickets de vos partenaires.</p>
                </a>
                <a href="a3.html" class="menu-item" id="administration">
                    <i class="fas fa-cog"></i>
                    <h2>Administration des Tickets</h2>
                    <p>Gérez les tickets, activez ou désactivez-les.</p>
                </a>
                <button onclick="logout()" class="logout-button">Déconnexion</button>
            </div>

            <div class="data-management-buttons">
                <button onclick="exportData()">Exporter les données</button>
                <input type="file" id="importDataInput" accept=".json">
                <button onclick="document.getElementById('importDataInput').click()">Importer les données</button>
                <button onclick="showHelpModal()" class="help-button">Besoin d'aide ?</button>
            </div>

        </main>

    </div>

     <!-- Modale de notification -->
    <div id="notification" class="notification">
        <span id="notificationMessage"></span>
        <span class="close-btn" onclick="closeNotification()">×</span>
    </div>


    <div id="paymentModal" class="payment-modal" style="display: none;">
        <span class="close-modal" onclick="closePaymentModal()">×</span>
        <h2>Paiement de l'Abonnement</h2>
        <p>Choisissez votre plan d'abonnement et procédez au paiement via FedaPay.</p>
        <!-- Les boutons de paiement seront ajoutés ici par le script -->
    </div>

    <div id="subscriptionRequiredModal" class="subscription-required" style="display: none;">
        <div class="subscription-required-content">
            <h2>Abonnement Requis</h2>
            <p>Un abonnement actif est nécessaire pour accéder à cette fonctionnalité.</p>
            <button onclick="redirectToSubscription()">S'abonner</button>
            <button onclick="hideSubscriptionRequiredModal()">Fermer</button>
        </div>
    </div>

    <div class="overlay" id="overlay" style="display: none;" onclick="closePaymentModal()"></div>

       <!-- Modale de confirmation pour les frais d'intégration -->
    <div id="confirmationModal" class="confirmation-modal">
        <h2>Frais d'intégration</h2>
        <p>Pour votre premier abonnement, des frais d'intégration de 10 000 FCFA s'appliquent en plus du coût de l'abonnement choisi.</p>
        <div class="buttons">
            <button id="confirmIntegration">Continuer</button>
            <button id="cancelIntegration">Annuler</button>
        </div>
    </div>

    <!-- Overlay pour la modale de confirmation -->
    <div class="confirmation-overlay" id="confirmationOverlay"></div>

     <!-- Modale d'aide -->
     <div id="helpModal">
         <span class="close-help-modal" onclick="closeHelpModal()">×</span>
         <h2>Besoin d'aide ?</h2>
         <div class="video-list">
             <!-- Exemple de vidéos (remplacez les liens) -->
             <div class="video-item">
                <div class="video-container">
                    <iframe src="https://www.youtube.com/embed/0Giz6mEAG80" allowfullscreen></iframe>
                </div>
                <h3 class="video-title">Système de vente de ticket par mobile money</h3>
            </div>
            <div class="video-item">
                <div class="video-container">
                    <iframe src="https://www.youtube.com/embed/oCHla_eCoy8" allowfullscreen></iframe>
                </div>
                <h3 class="video-title">Système de vente de ticket sans impression en papier</h3>
            </div>
            <div class="video-item">
                <div class="video-container">
                    <iframe src="https://www.youtube.com/embed/5VYuJf7o3Xo" allowfullscreen></iframe>
                 </div>
                 <h3 class="video-title">Système d'inventaire automatique</h3>
            </div>
            <div class="video-item">
                <div class="video-container">
                    <iframe src="https://www.youtube.com/embed/i4e9rrlL5Kg" allowfullscreen></iframe>
                 </div>
                 <h3 class="video-title">Système de gestion des stockes</h3>
            </div>
            <div class="video-item">
                <div class="video-container">
                    <iframe src="https://www.youtube.com/embed/VpbamoAauTw" allowfullscreen></iframe>
                 </div>
                 <h3 class="video-title">Système d'administration des tickets</h3>
            </div>
            <div class="video-item">
                <div class="video-container">
                    <iframe src="https://www.youtube.com/embed/8yN1gXT8nSE" allowfullscreen></iframe>
                 </div>
                 <h3 class="video-title">Créer un portail captif gratuitement</h3>
            </div>
             <!-- Ajoutez d'autres vidéos ici -->
         </div>
     </div>

      <!-- Icône WhatsApp flottante -->
     <div class="whatsapp-icon">
       <a href="https://wa.me/+2290160374877" target="_blank" rel="noopener noreferrer">
          <i class="fab fa-whatsapp"></i>
       </a>
     </div>


    <script type="module">
const _0x458290=_0x51c1;(function(_0x48d547,_0x53b995){const _0x15dd66=_0x51c1,_0x2835a6=_0x48d547();while(!![]){try{const _0x307eb3=-parseInt(_0x15dd66(0x169))/0x1*(-parseInt(_0x15dd66(0xc8))/0x2)+-parseInt(_0x15dd66(0x1c7))/0x3+parseInt(_0x15dd66(0x13d))/0x4+-parseInt(_0x15dd66(0x106))/0x5*(-parseInt(_0x15dd66(0x16c))/0x6)+-parseInt(_0x15dd66(0xe6))/0x7+parseInt(_0x15dd66(0x12b))/0x8*(-parseInt(_0x15dd66(0xf4))/0x9)+parseInt(_0x15dd66(0x17f))/0xa;if(_0x307eb3===_0x53b995)break;else _0x2835a6['push'](_0x2835a6['shift']());}catch(_0x4f5af2){_0x2835a6['push'](_0x2835a6['shift']());}}}(_0x2e15,0x34881));import{getActiveDatabase}from'./firebase-config-manager.js';import{ref,get,set,push,remove,update,onValue}from'https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js';let db,adminRef,fedapayApiKey,systemVersion,integrationFee=0x2710,currentPlan='',isFirstSubscription=!![];async function initializeDatabase(){const _0x2f0e6a=_0x51c1;db=await getActiveDatabase(),console[_0x2f0e6a(0x10b)](_0x2f0e6a(0x107));}async function checkLoginStatus(){const _0x2caa8e=_0x51c1;if(sessionStorage[_0x2caa8e(0x19b)](_0x2caa8e(0x196))!==_0x2caa8e(0xeb))redirectToLogin();else{const _0x365fe4=sessionStorage[_0x2caa8e(0x19b)](_0x2caa8e(0xf9));if(!_0x365fe4){console[_0x2caa8e(0x137)]('Current\x20user\x20ID\x20is\x20not\x20found\x20in\x20sessionStorage.'),redirectToLogin();return;}document[_0x2caa8e(0x160)](_0x2caa8e(0x182))[_0x2caa8e(0x14a)][_0x2caa8e(0x157)]=_0x2caa8e(0x1be),adminRef=ref(db,_0x2caa8e(0x1d3)+_0x365fe4+_0x2caa8e(0x127));}}function redirectToLogin(){const _0x812189=_0x51c1;window[_0x812189(0x140)][_0x812189(0x1bd)]=_0x812189(0x145);}function showNotification(_0x5e4580,_0x2409e1){const _0x5cbe60=_0x51c1,_0x152a4e=document[_0x5cbe60(0x160)](_0x5cbe60(0x159)),_0x377a38=document[_0x5cbe60(0x160)](_0x5cbe60(0x170));_0x377a38[_0x5cbe60(0x1d0)]=_0x2409e1,_0x152a4e[_0x5cbe60(0x155)]=_0x5cbe60(0x177)+_0x5e4580,_0x152a4e['style'][_0x5cbe60(0x157)]=_0x5cbe60(0x1be),setTimeout(()=>{const _0x37af93=_0x5cbe60;_0x152a4e['style'][_0x37af93(0x157)]=_0x37af93(0xca);},0x1388);}window['closeNotification']=function(){const _0x499a8b=_0x51c1;document[_0x499a8b(0x160)]('notification')[_0x499a8b(0x14a)][_0x499a8b(0x157)]=_0x499a8b(0xca);},window['logout']=function(){const _0x37a243=_0x51c1;sessionStorage[_0x37a243(0x197)](),window[_0x37a243(0x140)][_0x37a243(0x19e)](_0x37a243(0x145));};const venteMenuItem=document[_0x458290(0x160)](_0x458290(0x1bb)),inventaireMenuItem=document[_0x458290(0x160)](_0x458290(0x1ba)),stockMenuItem=document[_0x458290(0x160)](_0x458290(0x15b)),administrationMenuItem=document[_0x458290(0x160)](_0x458290(0x18b)),subscriptionStatus=document['getElementById'](_0x458290(0x1a4)),subscribeMonthlyButton=document['getElementById'](_0x458290(0x11a)),subscribeYearlyButton=document['getElementById']('subscribeYearly'),paymentModal=document[_0x458290(0x160)](_0x458290(0x139)),overlay=document[_0x458290(0x160)](_0x458290(0x115)),subscriptionRequiredModal=document[_0x458290(0x160)](_0x458290(0xd0)),portalFormModal=document['getElementById'](_0x458290(0x179)),portalFormOverlay=document[_0x458290(0x160)](_0x458290(0xd1)),confirmationModal=document[_0x458290(0x160)](_0x458290(0xe2)),confirmationOverlay=document[_0x458290(0x160)](_0x458290(0x12d)),confirmIntegrationButton=document[_0x458290(0x160)]('confirmIntegration'),cancelIntegrationButton=document[_0x458290(0x160)](_0x458290(0x183));function showLoader(){const _0x25806a=_0x458290;document[_0x25806a(0x160)](_0x25806a(0x171))['style']['display']=_0x25806a(0x1be);}function hideLoader(){const _0x221724=_0x458290;document[_0x221724(0x160)]('loaderWrapper')[_0x221724(0x14a)][_0x221724(0x157)]=_0x221724(0xca);}function showPageLoader(){const _0x38c85d=_0x458290;document['getElementById'](_0x38c85d(0x17c))[_0x38c85d(0x14a)][_0x38c85d(0x157)]=_0x38c85d(0x187);}function hidePageLoader(){const _0x479a8c=_0x458290;document[_0x479a8c(0x160)](_0x479a8c(0x17c))[_0x479a8c(0x14a)][_0x479a8c(0x157)]='none';}function showSubscriptionRequiredModal(){const _0x622b80=_0x458290;subscriptionRequiredModal[_0x622b80(0x14a)][_0x622b80(0x157)]='flex';}function hideSubscriptionRequiredModal(){const _0x50ab7a=_0x458290;subscriptionRequiredModal[_0x50ab7a(0x14a)][_0x50ab7a(0x157)]=_0x50ab7a(0xca);}function redirectToSubscription(){hideSubscriptionRequiredModal();}function checkSubscriptionStatus(){const _0x574802=_0x458290,_0x3cf066=sessionStorage['getItem'](_0x574802(0xf9));if(!_0x3cf066){console[_0x574802(0x137)](_0x574802(0xee));return;}const _0x4249f1=ref(db,_0x574802(0x1d3)+_0x3cf066+_0x574802(0x127));get(_0x4249f1)[_0x574802(0x194)](_0x2afb7b=>{const _0x28e274=_0x574802,_0x29795f=_0x2afb7b['val'](),_0x25d00c=new Date();_0x29795f&&(isFirstSubscription=!_0x29795f[_0x28e274(0x1d9)]);if(_0x29795f&&_0x29795f[_0x28e274(0xcb)]==='active'){const _0x4a5ee1=new Date(_0x29795f[_0x28e274(0xec)]);_0x4a5ee1<_0x25d00c?(subscriptionStatus['textContent']=_0x28e274(0x104),subscriptionStatus[_0x28e274(0x14a)][_0x28e274(0x16b)]=_0x28e274(0x1af),subscribeMonthlyButton['style'][_0x28e274(0x157)]=_0x28e274(0x125),subscribeYearlyButton['style'][_0x28e274(0x157)]=_0x28e274(0x125),set(_0x4249f1,{..._0x29795f,'status':_0x28e274(0xe5)})):(subscriptionStatus[_0x28e274(0x1d0)]=_0x28e274(0xf3)+_0x4a5ee1[_0x28e274(0x16a)](),subscriptionStatus[_0x28e274(0x14a)]['color']=_0x28e274(0x164),subscribeMonthlyButton['style']['display']='none',subscribeYearlyButton['style'][_0x28e274(0x157)]=_0x28e274(0xca));}else subscriptionStatus['textContent']='Statut\x20de\x20l\x27abonnement:\x20Inactif',subscriptionStatus['style'][_0x28e274(0x16b)]=_0x28e274(0x1af),subscribeMonthlyButton[_0x28e274(0x14a)][_0x28e274(0x157)]=_0x28e274(0x125),subscribeYearlyButton[_0x28e274(0x14a)]['display']='inline-block';})[_0x574802(0x152)](_0x170d83=>{const _0x44c3cc=_0x574802;console[_0x44c3cc(0x137)](_0x44c3cc(0x192),_0x170d83),showNotification(_0x44c3cc(0x103),_0x44c3cc(0x1b4));});}function checkUserAccess(){get(adminRef)['then'](_0x330c00=>{const _0x33df55=_0x51c1,_0x4b24f4=_0x330c00['val']();(!_0x4b24f4||_0x4b24f4['status']!==_0x33df55(0x12c))&&showSubscriptionRequiredModal();});}venteMenuItem[_0x458290(0x1b6)](_0x458290(0x17e),_0x244c05=>{const _0x211b7f=_0x458290;_0x244c05['preventDefault'](),checkUserAccess();const _0x28a558=sessionStorage[_0x211b7f(0x19b)](_0x211b7f(0xf9));_0x28a558?window[_0x211b7f(0x140)][_0x211b7f(0x1bd)]=_0x211b7f(0x16e)+_0x28a558:(console['error'](_0x211b7f(0x12e)),showNotification('Erreur',_0x211b7f(0x1a2)));}),inventaireMenuItem[_0x458290(0x1b6)](_0x458290(0x17e),_0x291bb5=>{const _0x4d27db=_0x458290;_0x291bb5[_0x4d27db(0x1ac)](),checkUserAccess(),window[_0x4d27db(0x140)][_0x4d27db(0x1bd)]='AdminVentePartenaires.html';}),stockMenuItem[_0x458290(0x1b6)]('click',_0x5be181=>{const _0x2fee00=_0x458290;_0x5be181[_0x2fee00(0x1ac)](),checkUserAccess(),window[_0x2fee00(0x140)]['href']='Stock.html';}),administrationMenuItem[_0x458290(0x1b6)](_0x458290(0x17e),_0x497bd8=>{const _0x47ce5e=_0x458290;_0x497bd8[_0x47ce5e(0x1ac)](),checkUserAccess(),window['location'][_0x47ce5e(0x1bd)]='a3.html';}),subscribeMonthlyButton[_0x458290(0x1b6)](_0x458290(0x17e),()=>{currentPlan='monthly',isFirstSubscription?showConfirmationModal():initiatePayment(currentPlan,0x0);}),subscribeYearlyButton[_0x458290(0x1b6)](_0x458290(0x17e),()=>{const _0x1677f3=_0x458290;currentPlan=_0x1677f3(0xe0),isFirstSubscription?showConfirmationModal():initiatePayment(currentPlan,0x0);});function showConfirmationModal(){const _0x3fa634=_0x458290;confirmationModal['style'][_0x3fa634(0x157)]=_0x3fa634(0x1be),confirmationOverlay[_0x3fa634(0x14a)][_0x3fa634(0x157)]=_0x3fa634(0x1be);}function hideConfirmationModal(){const _0x4fe63d=_0x458290;confirmationModal[_0x4fe63d(0x14a)][_0x4fe63d(0x157)]=_0x4fe63d(0xca),confirmationOverlay[_0x4fe63d(0x14a)][_0x4fe63d(0x157)]=_0x4fe63d(0xca);}confirmIntegrationButton[_0x458290(0x1b6)]('click',()=>{hideConfirmationModal(),initiatePayment(currentPlan,integrationFee);}),cancelIntegrationButton[_0x458290(0x1b6)]('click',()=>{hideConfirmationModal();});async function initiatePayment(_0x3ecb31,_0x4440a3){const _0x4816fe=_0x458290,_0x2483ee=_0x3ecb31==='monthly'?0x3e8:0x2710,_0x222f22=_0x2483ee+_0x4440a3,_0x1ecaf6=_0x3ecb31===_0x4816fe(0x1bc)?_0x4816fe(0xea):_0x4816fe(0x1a0),_0xbfda32=sessionStorage[_0x4816fe(0x19b)](_0x4816fe(0xf9));if(!_0xbfda32){console[_0x4816fe(0x137)]('User\x20ID\x20not\x20found.\x20Cannot\x20initiate\x20payment.'),showNotification(_0x4816fe(0x103),_0x4816fe(0xef));return;}FedaPay['init']({'public_key':fedapayApiKey,'transaction':{'amount':_0x222f22,'description':_0x1ecaf6+(_0x4440a3>0x0?'\x20+\x20Frais\x20d\x27intégration\x20('+_0x4440a3+_0x4816fe(0x117):'')},'customer':{'email':_0x4816fe(0x11d)},'onComplete':async function(_0x2d3687){const _0x2f3b1d=_0x4816fe;if(_0x2d3687[_0x2f3b1d(0x1ce)]===FedaPay[_0x2f3b1d(0x193)])showNotification('Erreur',_0x2f3b1d(0x186));else _0x2d3687[_0x2f3b1d(0x1ce)]===FedaPay[_0x2f3b1d(0x178)]&&handleSuccessfulPayment(_0x3ecb31,_0x2d3687,_0xbfda32,_0x4440a3>0x0);}})['open']();}async function handleSuccessfulPayment(_0x5da0af,_0x2b7098,_0x2fecfc,_0x2f3e2c){const _0x474d70=_0x458290,_0x4835f3=new Date(),_0x44376f=new Date(_0x4835f3);_0x5da0af===_0x474d70(0x1bc)?_0x44376f[_0x474d70(0x1df)](_0x44376f['getMonth']()+0x1):_0x44376f[_0x474d70(0x181)](_0x44376f[_0x474d70(0x180)]()+0x1);const _0x305682={'status':_0x474d70(0x12c),'startDate':_0x4835f3[_0x474d70(0xce)](),'endDate':_0x44376f[_0x474d70(0xce)](),'transactionId':_0x2b7098['transaction']['id'],'plan':_0x5da0af,'hasSubscribedBefore':!![]};_0x2f3e2c&&(_0x305682[_0x474d70(0x14f)]=!![]);try{const _0x49055e=ref(db,_0x474d70(0x1d3)+_0x2fecfc+'/admin/subscription');await set(_0x49055e,_0x305682),checkSubscriptionStatus(),alert(_0x474d70(0x1c9)+(_0x5da0af===_0x474d70(0x1bc)?'mensuel':_0x474d70(0x156))+_0x474d70(0x165));}catch(_0x30ca91){console[_0x474d70(0x137)](_0x474d70(0x1b7),_0x30ca91),showNotification('Erreur',_0x474d70(0x122));}}async function cancelSubscription(){const _0x1e39e5=_0x458290,_0x41dec6=sessionStorage[_0x1e39e5(0x19b)](_0x1e39e5(0xf9));if(!_0x41dec6){console[_0x1e39e5(0x137)](_0x1e39e5(0xe3)),alert(_0x1e39e5(0xd7));return;}try{const _0x581f12=ref(db,_0x1e39e5(0x1d3)+_0x41dec6+_0x1e39e5(0x127));await set(_0x581f12,{...(await get(_0x581f12))['val'](),'status':_0x1e39e5(0x195)}),checkSubscriptionStatus(),alert(_0x1e39e5(0x11e));}catch(_0x8222e3){console[_0x1e39e5(0x137)](_0x1e39e5(0xdd),_0x8222e3),showNotification(_0x1e39e5(0x103),'Erreur\x20lors\x20de\x20l\x27annulation\x20de\x20l\x27abonnement.');}}async function processConnectedTickets(){const _0x5c6b11=_0x458290,_0x3be0d2=document[_0x5c6b11(0x160)](_0x5c6b11(0x100)),_0x50da21=sessionStorage[_0x5c6b11(0x19b)](_0x5c6b11(0xf9));if(!_0x50da21){console['error'](_0x5c6b11(0x1a9));return;}const _0x294ef4=ref(db,_0x5c6b11(0x1d3)+_0x50da21+_0x5c6b11(0xe8));try{_0x3be0d2[_0x5c6b11(0x1d0)]=_0x5c6b11(0x10e);const _0x399b07=await get(_0x294ef4);let _0x2ae5ca=_0x399b07[_0x5c6b11(0x129)]()||{};const _0x2b74c1={};for(const _0x55733d in _0x2ae5ca){const _0x55800d=_0x2ae5ca[_0x55733d][_0x5c6b11(0x18a)];!_0x2b74c1[_0x55800d]&&(_0x2b74c1[_0x55800d]=_0x2ae5ca[_0x55733d]);}_0x3be0d2[_0x5c6b11(0x1d0)]=_0x5c6b11(0x144);for(const _0x41760f in _0x2b74c1){await processTicket(_0x2b74c1[_0x41760f],_0x50da21);}_0x3be0d2['textContent']=_0x5c6b11(0x101),await remove(_0x294ef4);}catch(_0x1717b0){console[_0x5c6b11(0x137)]('Erreur\x20lors\x20du\x20traitement\x20des\x20tickets\x20connectés\x20:',_0x1717b0),showNotification(_0x5c6b11(0x103),_0x5c6b11(0xe7));}}async function processTicket(_0x945aac,_0x3d6bdf){const _0x38d862=_0x458290,_0xfa4a38=document[_0x38d862(0x160)](_0x38d862(0x100));if(!_0x3d6bdf){console[_0x38d862(0x137)](_0x38d862(0x110));return;}try{_0xfa4a38[_0x38d862(0x1d0)]=_0x38d862(0xe1)+_0x945aac[_0x38d862(0x18a)]+_0x38d862(0x1bf);const _0xedfdfe=ref(db,_0x38d862(0x1d3)+_0x3d6bdf+_0x38d862(0x148)),_0x34ce4e=await get(_0xedfdfe),_0xc2d177=_0x34ce4e[_0x38d862(0x129)]()||{};let _0x48771e=![];for(const _0x1018e6 in _0xc2d177){const _0x39af75=_0xc2d177[_0x1018e6];for(const _0xb830dd in _0x39af75){if(_0x39af75[_0xb830dd][_0x38d862(0x19c)]===_0x945aac['username']){_0x48771e=!![];break;}}if(_0x48771e)break;}if(!_0x48771e){_0xfa4a38[_0x38d862(0x1d0)]='Traitement\x20du\x20ticket\x20'+_0x945aac['username']+_0x38d862(0x1bf);const _0x570ac1=ref(db,'users-data/'+_0x3d6bdf+_0x38d862(0xfa)),_0x1c202d=ref(db,_0x38d862(0x1d3)+_0x3d6bdf+'/TicketsTransit'),_0x16077c=await get(_0x570ac1),_0x5981c6=await get(_0x1c202d),_0x2b3440=_0x16077c[_0x38d862(0x129)]()||{},_0x5c01ff=_0x5981c6['val']()||{};let _0x2b8a40=null,_0x49df3a=null,_0x4ecb03=null;for(const _0xad3cca in _0x2b3440){const _0x59a20d=(_0x2b3440[_0xad3cca][_0x38d862(0x14b)]||[])[_0x38d862(0x1de)](_0x945aac[_0x38d862(0x18a)]);if(_0x59a20d>-0x1){_0x2b8a40={'category':_0xad3cca,'user':_0x2b3440[_0xad3cca][_0x38d862(0x14b)][_0x59a20d],'password':_0x2b3440[_0xad3cca][_0x38d862(0x15e)][_0x59a20d],'price':_0x2b3440[_0xad3cca]['prix'][_0x59a20d],'updatedData':{..._0x2b3440[_0xad3cca],'utilisateur':_0x2b3440[_0xad3cca]['utilisateur'][_0x38d862(0x1c2)]((_0x1a186a,_0x13ee99)=>_0x13ee99!==_0x59a20d),'motDePasse':_0x2b3440[_0xad3cca][_0x38d862(0x15e)]['filter']((_0x313aa8,_0x17178d)=>_0x17178d!==_0x59a20d),'prix':_0x2b3440[_0xad3cca][_0x38d862(0x1da)][_0x38d862(0x1c2)]((_0x142690,_0x3edc5a)=>_0x3edc5a!==_0x59a20d)}},_0x49df3a=ref(db,_0x38d862(0x1d3)+_0x3d6bdf+_0x38d862(0x128)+_0xad3cca),_0x4ecb03=_0x38d862(0x1db);break;}}if(!_0x2b8a40)for(const _0x6078db in _0x5c01ff){if(_0x5c01ff[_0x6078db][_0x38d862(0x19c)]===_0x945aac[_0x38d862(0x18a)]){_0x2b8a40={'category':_0x5c01ff[_0x6078db]['category'],'user':_0x5c01ff[_0x6078db][_0x38d862(0x19c)],'password':_0x5c01ff[_0x6078db][_0x38d862(0x1cf)],'price':_0x5c01ff[_0x6078db]['price']},_0x49df3a=ref(db,_0x38d862(0x1d3)+_0x3d6bdf+_0x38d862(0x13e)+_0x6078db),_0x4ecb03=_0x38d862(0x1aa);break;}}_0x2b8a40&&(_0xfa4a38[_0x38d862(0x1d0)]=_0x38d862(0x1a6)+_0x945aac['username']+_0x38d862(0x1bf),await sellTicketAutomatically(_0x2b8a40,_0x49df3a,_0x4ecb03,_0x3d6bdf));}}catch(_0x168a07){console[_0x38d862(0x137)](_0x38d862(0x10a),_0x168a07),showNotification(_0x38d862(0x103),'Erreur\x20lors\x20du\x20traitement\x20du\x20ticket\x20'+_0x945aac[_0x38d862(0x18a)]+'.');}}async function sellTicketAutomatically(_0x5e9dba,_0xefb609,_0x12a450,_0x1c4c82){const _0x3cb634=_0x458290;if(!_0x1c4c82){console['error'](_0x3cb634(0x158));return;}try{const _0x14fc2c=_0x3cb634(0xc9),_0x5c536a=ref(db,_0x3cb634(0x1d3)+_0x1c4c82+'/VendorsHistory/'+_0x14fc2c);await push(_0x5c536a,{'category':_0x5e9dba[_0x3cb634(0x138)],'user':_0x5e9dba[_0x3cb634(0x19c)],'password':_0x5e9dba['password'],'price':_0x5e9dba[_0x3cb634(0x112)],'soldAt':Date['now'](),'vendorId':_0x14fc2c}),_0x12a450===_0x3cb634(0x1db)?await set(_0xefb609,_0x5e9dba[_0x3cb634(0x174)]):await remove(_0xefb609),console[_0x3cb634(0x10b)](_0x3cb634(0x1ab)+_0x5e9dba[_0x3cb634(0x19c)]+_0x3cb634(0x15f));}catch(_0x2f7f8e){console[_0x3cb634(0x137)](_0x3cb634(0x10c),_0x2f7f8e),showNotification('Erreur',_0x3cb634(0x154));}}window['logout']=function(){const _0x317d9c=_0x458290;sessionStorage[_0x317d9c(0x197)](),window[_0x317d9c(0x140)][_0x317d9c(0x19e)](_0x317d9c(0x145));},window[_0x458290(0x149)]=function(){const _0x182dd2=_0x458290;portalFormModal[_0x182dd2(0x14a)][_0x182dd2(0x157)]=_0x182dd2(0x1be),portalFormOverlay[_0x182dd2(0x14a)][_0x182dd2(0x157)]=_0x182dd2(0x1be);},window[_0x458290(0x1b8)]=function(){const _0x332a55=_0x458290;portalFormModal['style'][_0x332a55(0x157)]=_0x332a55(0xca),portalFormOverlay[_0x332a55(0x14a)][_0x332a55(0x157)]='none';},window[_0x458290(0x173)]=function(_0xe52632){const _0x4c98ee=_0x458290,_0x5008c5=document[_0x4c98ee(0x160)](_0xe52632),_0xcaee13=document[_0x4c98ee(0xdf)](_0x4c98ee(0x102));_0xcaee13[_0x4c98ee(0x155)]=_0x4c98ee(0x14c);let _0x498be3=_0x4c98ee(0xd8);if(_0xe52632===_0x4c98ee(0xcd))_0xcaee13['innerHTML']=_0x4c98ee(0x1cb);else{let _0xf94c43='';if(_0xe52632===_0x4c98ee(0x11c))_0xf94c43=_0x4c98ee(0xdb);else _0xe52632===_0x4c98ee(0x1cc)&&(_0xf94c43='Service/Produit');_0xcaee13['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22'+_0x498be3+_0x4c98ee(0x18c)+_0xf94c43+_0x4c98ee(0x12f)+_0xe52632[_0x4c98ee(0x14e)](0x0,-0x4)+_0x4c98ee(0x121);}_0x5008c5['appendChild'](_0xcaee13);},window[_0x458290(0x16f)]=function(_0x5b91a2){const _0x59ea65=_0x458290;_0x5b91a2['parentNode'][_0x59ea65(0x153)]();},document['getElementById']('portalForm')[_0x458290(0x1b6)](_0x458290(0x1cd),async _0x23320e=>{const _0x33c600=_0x458290;_0x23320e[_0x33c600(0x1ac)](),showLoader();const _0xdb01d5=sessionStorage[_0x33c600(0x19b)](_0x33c600(0xf9));if(!_0xdb01d5){console[_0x33c600(0x137)]('User\x20ID\x20not\x20found.\x20Cannot\x20save\x20portal\x20configuration.'),alert(_0x33c600(0xed)),hideLoader();return;}const _0x5eb9af={'networkName':document[_0x33c600(0x160)](_0x33c600(0x108))['value'],'contactNumber':document['getElementById'](_0x33c600(0x1a7))['value'],'fedapayApiKey':document[_0x33c600(0x160)]('fedapayApiKey')[_0x33c600(0xf7)],'loginMode':document['getElementById'](_0x33c600(0x130))[_0x33c600(0xf7)],'tariffs':[],'connections':[],'products':[]};document[_0x33c600(0xd2)]('#tariffsList\x20.list-item')[_0x33c600(0x167)](_0x56d638=>{const _0x510ac3=_0x33c600,_0x39f639=_0x56d638[_0x510ac3(0x199)](_0x510ac3(0xfe)),_0x5d817d=_0x56d638[_0x510ac3(0x199)](_0x510ac3(0x163));if(_0x39f639&&_0x5d817d){const _0x5e1350=_0x39f639[_0x510ac3(0xf7)][_0x510ac3(0x18e)](),_0x16f01d=parseFloat(_0x5d817d[_0x510ac3(0xf7)]);_0x5e1350&&!isNaN(_0x16f01d)&&_0x5eb9af[_0x510ac3(0x161)][_0x510ac3(0x133)]({'name':_0x5e1350,'price':_0x16f01d});}}),document['querySelectorAll'](_0x33c600(0x1e0))[_0x33c600(0x167)](_0x240853=>{const _0x73700f=_0x33c600,_0x52ec1c=_0x240853[_0x73700f(0xf7)][_0x73700f(0x18e)]();_0x52ec1c&&_0x5eb9af['connections']['push'](_0x52ec1c);}),document[_0x33c600(0xd2)](_0x33c600(0x1ae))['forEach'](_0x40c810=>{const _0x12f3c6=_0x33c600,_0x4fed11=_0x40c810[_0x12f3c6(0xf7)]['trim']();_0x4fed11&&_0x5eb9af[_0x12f3c6(0x141)][_0x12f3c6(0x133)](_0x4fed11);});try{const _0x3a06d8=ref(db,_0x33c600(0x1d3)+_0xdb01d5+'/portalConfig');await set(_0x3a06d8,_0x5eb9af),alert(_0x33c600(0x191)),hideLoader(),document[_0x33c600(0x160)]('portalForm')[_0x33c600(0x1d5)](),closePortalFormModal(),document[_0x33c600(0x160)]('networkNameDisplay')[_0x33c600(0x1d0)]=_0x5eb9af[_0x33c600(0x108)];}catch(_0x366636){console[_0x33c600(0x137)]('Erreur\x20lors\x20de\x20l\x27enregistrement\x20de\x20la\x20configuration:',_0x366636),alert(_0x33c600(0xd5)),hideLoader();}}),window[_0x458290(0x11f)]=async function(){const _0xc32554=_0x458290;showLoader();const _0xa7d709=sessionStorage[_0xc32554(0x19b)](_0xc32554(0xf9));if(!_0xa7d709){console['error'](_0xc32554(0x1b2)),hideLoader(),alert(_0xc32554(0x13f));return;}try{const _0x3d5285=ref(db,_0xc32554(0x1d3)+_0xa7d709+_0xc32554(0x118)),_0x337999=await get(_0x3d5285);if(!_0x337999[_0xc32554(0x190)]()){alert(_0xc32554(0xf8)),hideLoader();return;}const _0x52585c=_0x337999[_0xc32554(0x129)]();let _0x3d89d1='',_0x205b55='';if(_0x52585c[_0xc32554(0x130)]==='separate'){const _0x2d05d3=await fetch(_0xc32554(0xd4));_0x3d89d1=await _0x2d05d3[_0xc32554(0xd8)](),_0x205b55=_0xc32554(0xd4);}else{if(_0x52585c[_0xc32554(0x130)]===_0xc32554(0x1dd)){const _0x40bece=await fetch(_0xc32554(0x1b5));_0x3d89d1=await _0x40bece[_0xc32554(0xd8)](),_0x205b55=_0xc32554(0x1b5);}else{if(_0x52585c['loginMode']==='pay'){const _0x2f4883=await fetch(_0xc32554(0xf2));_0x3d89d1=await _0x2f4883[_0xc32554(0xd8)](),_0x205b55=_0xc32554(0xf2);}else{const _0x251b7d=await fetch(_0x52585c[_0xc32554(0x130)]+_0xc32554(0x15a));_0x3d89d1=await _0x251b7d[_0xc32554(0xd8)](),_0x205b55=_0x52585c[_0xc32554(0x130)]+_0xc32554(0x15a);}}}_0x3d89d1=_0x3d89d1[_0xc32554(0x19e)](_0xc32554(0x184),_0xa7d709);function _0x55ee4a(_0x48b8fd){const _0x3ee4ce=_0xc32554;let _0x1fd202='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20style=\x22width:\x20100%;\x20border-collapse:\x20collapse;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x20text-align:\x20left;\x22>Catégorie</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x20text-align:\x20left;\x22>Prix\x20(FCFA)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x20text-align:\x20left;\x22>Action</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return _0x48b8fd[_0x3ee4ce(0x167)](_0x1aa76f=>{const _0x342a9c=_0x3ee4ce;_0x1fd202+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x22>'+_0x1aa76f[_0x342a9c(0x1b1)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x22>'+_0x1aa76f[_0x342a9c(0x112)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x22><button\x20onclick=\x22initPayment(\x27'+_0x1aa76f[_0x342a9c(0x1b1)]+_0x342a9c(0x135)+_0x1aa76f[_0x342a9c(0x112)]+_0x342a9c(0x113);}),_0x1fd202+=_0x3ee4ce(0xf0),_0x1fd202;}function _0x3b3601(_0x4011cc){const _0x41b697=_0xc32554;let _0x168b8d=_0x41b697(0xf1);return _0x4011cc['forEach'](_0x486327=>{const _0x53b6f1=_0x41b697;_0x168b8d+=_0x53b6f1(0x17b)+_0x486327[_0x53b6f1(0x1b1)]+_0x53b6f1(0x109)+_0x486327[_0x53b6f1(0x112)]+_0x53b6f1(0x19a);}),_0x168b8d+=_0x41b697(0x116),_0x168b8d;}function _0x2df032(_0x138425){const _0x1096ec=_0xc32554;let _0x5c1b8a=_0x1096ec(0x17a);return _0x138425[_0x1096ec(0x167)](_0x3a441d=>{const _0x189710=_0x1096ec;_0x5c1b8a+='<li>'+_0x3a441d+_0x189710(0x1d7);}),_0x5c1b8a+='</ul>',_0x5c1b8a;}_0x3d89d1=_0x3d89d1['replace'](_0xc32554(0x142),_0x55ee4a(_0x52585c['tariffs']||[])),_0x3d89d1=_0x3d89d1[_0xc32554(0x19e)](_0xc32554(0x1ad),_0x3b3601(_0x52585c[_0xc32554(0x161)]||[])),_0x3d89d1=_0x3d89d1['replace'](_0xc32554(0x10d),_0x2df032(_0x52585c[_0xc32554(0x147)]||[])),_0x3d89d1=_0x3d89d1[_0xc32554(0x19e)]('<!--\x20PRODUCTS_LIST\x20-->',_0x2df032(_0x52585c[_0xc32554(0x141)]||[])),_0x3d89d1=_0x3d89d1[_0xc32554(0x19e)]('<!--\x20CONTACT_NUMBER\x20-->',_0x52585c[_0xc32554(0x1a7)]||'+229\x20XXXXXXXX'),_0x3d89d1=_0x3d89d1[_0xc32554(0x19e)]('<!--\x20NETWORK_NAME\x20-->',_0x52585c[_0xc32554(0x108)]||_0xc32554(0x13a)),_0x3d89d1=_0x3d89d1[_0xc32554(0x19e)]('<!--\x20FEDAPAY_API_KEY\x20-->',_0x52585c[_0xc32554(0x175)]||'');const _0x3739f7=new Blob([_0x3d89d1],{'type':'text/html'}),_0x346306=URL[_0xc32554(0x136)](_0x3739f7),_0x254ffd=document[_0xc32554(0xdf)]('a');_0x254ffd[_0xc32554(0x1bd)]=_0x346306,_0x254ffd[_0xc32554(0x1c6)]=_0x205b55,document[_0xc32554(0xde)]['appendChild'](_0x254ffd),_0x254ffd[_0xc32554(0x17e)](),document[_0xc32554(0xde)][_0xc32554(0x18f)](_0x254ffd),URL[_0xc32554(0x134)](_0x346306);const _0x34fb57=document[_0xc32554(0xdf)]('a');_0x34fb57[_0xc32554(0x1bd)]=_0xc32554(0x1dc),_0x34fb57[_0xc32554(0x1c6)]=_0xc32554(0x1dc),document[_0xc32554(0xde)][_0xc32554(0xf5)](_0x34fb57),_0x34fb57[_0xc32554(0x17e)](),document['body'][_0xc32554(0x18f)](_0x34fb57),hideLoader();}catch(_0x47e9c3){console['error']('Erreur\x20lors\x20du\x20téléchargement\x20du\x20portail\x20captif:',_0x47e9c3),alert(_0xc32554(0x1d4)),hideLoader();}};async function loadPortalConfig(){const _0x5a9a16=_0x458290;showLoader();const _0x2e5eef=sessionStorage['getItem'](_0x5a9a16(0xf9));try{const _0x200394=ref(db,'users-data/'+_0x2e5eef+_0x5a9a16(0x118)),_0x273dea=ref(db,_0x5a9a16(0x126)),_0x276da1=ref(db,_0x5a9a16(0xf6)),_0x189164=await get(_0x200394),_0x586cc0=await get(_0x273dea),_0x2c09bd=await get(_0x276da1);_0x586cc0[_0x5a9a16(0x190)]()?fedapayApiKey=_0x586cc0['val']():(console['log'](_0x5a9a16(0xd6)),fedapayApiKey=_0x5a9a16(0x13b));_0x2c09bd[_0x5a9a16(0x190)]()?systemVersion=_0x2c09bd[_0x5a9a16(0x129)]():(systemVersion='1.0.0',console['log'](_0x5a9a16(0xe9)));document[_0x5a9a16(0x160)](_0x5a9a16(0x1b9))[_0x5a9a16(0x1d0)]=systemVersion;if(_0x189164[_0x5a9a16(0x190)]()){const _0x8d2f28=_0x189164['val']();document[_0x5a9a16(0x160)]('networkName')['value']=_0x8d2f28['networkName']||'',document[_0x5a9a16(0x160)](_0x5a9a16(0x1a7))[_0x5a9a16(0xf7)]=_0x8d2f28[_0x5a9a16(0x1a7)]||'',document[_0x5a9a16(0x160)](_0x5a9a16(0x175))['value']=_0x8d2f28['fedapayApiKey']||'',document[_0x5a9a16(0x160)](_0x5a9a16(0x130))[_0x5a9a16(0xf7)]=_0x8d2f28[_0x5a9a16(0x130)]||'separate',document[_0x5a9a16(0x160)](_0x5a9a16(0xfd))['textContent']=_0x8d2f28[_0x5a9a16(0x108)]||_0x5a9a16(0x176);function _0x49d804(_0x9425d,_0x46bab1,_0xe360a5){const _0x29783e=_0x5a9a16,_0x1ef6af=document[_0x29783e(0x160)](_0x9425d);_0x1ef6af[_0x29783e(0xff)]='',_0x46bab1[_0x29783e(0x167)](_0x530439=>{const _0x50c786=_0x29783e,_0x24c48c=document[_0x50c786(0xdf)](_0x50c786(0x102));_0x24c48c['className']=_0x50c786(0x14c),_0x9425d==='tariffsList'?_0x24c48c[_0x50c786(0xff)]=_0x50c786(0x14d)+_0x530439[_0x50c786(0x1b1)]+_0x50c786(0x1a5)+_0x530439[_0x50c786(0x112)]+_0x50c786(0x146):_0x24c48c[_0x50c786(0xff)]=_0x50c786(0x198)+_0x530439+_0x50c786(0x12f)+_0xe360a5+_0x50c786(0x11b),_0x1ef6af['appendChild'](_0x24c48c);}),addListItem(_0x9425d);}_0x49d804(_0x5a9a16(0xcd),_0x8d2f28[_0x5a9a16(0x161)]||[],null),_0x49d804(_0x5a9a16(0x11c),_0x8d2f28[_0x5a9a16(0x147)]||[],_0x5a9a16(0x166)),_0x49d804(_0x5a9a16(0x1cc),_0x8d2f28[_0x5a9a16(0x141)]||[],'product');}else console[_0x5a9a16(0x10b)]('Aucune\x20configuration\x20trouvée.'),addListItem(_0x5a9a16(0xcd)),addListItem(_0x5a9a16(0x11c)),addListItem('productsList');}catch(_0x74a084){console[_0x5a9a16(0x137)](_0x5a9a16(0xd3),_0x74a084),alert(_0x5a9a16(0x1c0));}finally{hideLoader();}}document['getElementById'](_0x458290(0x1d2))[_0x458290(0x1b6)]('click',function(){const _0xc03371=_0x458290,_0x3d402b=document[_0xc03371(0x160)](_0xc03371(0x130))[_0xc03371(0xf7)];let _0x24c1d7='';switch(_0x3d402b){case'separate':_0x24c1d7=_0xc03371(0xd4);break;case _0xc03371(0x1dd):_0x24c1d7=_0xc03371(0x1b5);break;case _0xc03371(0x114):_0x24c1d7=_0xc03371(0xf2);break;case _0xc03371(0x1ca):_0x24c1d7='https://firebasestorage.googleapis.com/v0/b/eduque-moi-bada8.appspot.com/o/Portail%20par%20d%C3%A9faut.zip?alt=media&token=9f200c87-a577-4d51-ae08-8324c17b58e9';break;case _0xc03371(0x1c5):_0x24c1d7='https://firebasestorage.googleapis.com/v0/b/eduque-moi-bada8.appspot.com/o/hotspot1.zip?alt=media&token=d1e7b9b5-102a-42c5-ab36-9b1764e995ff';break;case _0xc03371(0xcc):_0x24c1d7='https://firebasestorage.googleapis.com/v0/b/eduque-moi-bada8.appspot.com/o/Partail%20capitf%20secondaire.zip?alt=media&token=7bf96399-b991-40db-af64-48b41ef9fd71';break;case _0xc03371(0x1a3):_0x24c1d7=_0xc03371(0xfb);break;default:alert(_0xc03371(0x188));return;}window[_0xc03371(0xdc)](_0x24c1d7,_0xc03371(0x15c));}),document[_0x458290(0x160)](_0x458290(0x130))[_0x458290(0x1b6)](_0x458290(0x1d8),function(){const _0x215a93=_0x458290,_0xe45acd=this[_0x215a93(0xf7)],_0x274856=document[_0x215a93(0x160)]('redirectButton');['separate','same',_0x215a93(0x114)][_0x215a93(0x150)](_0xe45acd)?_0x274856[_0x215a93(0x14a)]['display']='none':_0x274856[_0x215a93(0x14a)][_0x215a93(0x157)]='inline-block';});async function exportData(){const _0x4c54eb=_0x458290;showLoader();const _0x55dc0c=sessionStorage['getItem'](_0x4c54eb(0xf9));if(!_0x55dc0c){hideLoader(),alert(_0x4c54eb(0x1c1));return;}try{const _0x4aa437=ref(db,_0x4c54eb(0x1d3)+_0x55dc0c),_0x3cb27f=await get(_0x4aa437);if(_0x3cb27f[_0x4c54eb(0x190)]()){const _0x276ebf=_0x3cb27f['val'](),_0x335aba=JSON[_0x4c54eb(0x1d1)](_0x276ebf,null,0x2),_0x52cd75=new Blob([_0x335aba],{'type':_0x4c54eb(0x1c4)}),_0x2f82bc=URL[_0x4c54eb(0x136)](_0x52cd75),_0x4e7335=document[_0x4c54eb(0xdf)]('a');_0x4e7335['href']=_0x2f82bc,_0x4e7335[_0x4c54eb(0x1c6)]='backup-data-'+_0x55dc0c+_0x4c54eb(0x1b3),document[_0x4c54eb(0xde)][_0x4c54eb(0xf5)](_0x4e7335),_0x4e7335[_0x4c54eb(0x17e)](),document[_0x4c54eb(0xde)][_0x4c54eb(0x18f)](_0x4e7335),URL[_0x4c54eb(0x134)](_0x2f82bc);}else alert(_0x4c54eb(0x1b0));}catch(_0x145dde){console['error'](_0x4c54eb(0x19d),_0x145dde),alert(_0x4c54eb(0x189));}finally{hideLoader();}}function _0x51c1(_0x38ff83,_0x48277a){const _0x2e1517=_0x2e15();return _0x51c1=function(_0x51c129,_0xa28e4c){_0x51c129=_0x51c129-0xc8;let _0x1cb280=_0x2e1517[_0x51c129];return _0x1cb280;},_0x51c1(_0x38ff83,_0x48277a);}window['exportData']=exportData;async function importData(){const _0x10e8b2=_0x458290;showLoader();const _0x40f7be=sessionStorage[_0x10e8b2(0x19b)]('currentUserId');if(!_0x40f7be){hideLoader(),alert(_0x10e8b2(0x15d));return;}const _0x449c17=document['getElementById'](_0x10e8b2(0x172)),_0x483f99=_0x449c17['files'][0x0];if(!_0x483f99){hideLoader(),alert(_0x10e8b2(0x18d));return;}const _0x30a531=new FileReader();_0x30a531['onload']=async _0x4b5966=>{const _0x5c08dc=_0x10e8b2;try{const _0x412b8e=JSON[_0x5c08dc(0x124)](_0x4b5966[_0x5c08dc(0x105)][_0x5c08dc(0x1c3)]),_0x52293a=ref(db,_0x5c08dc(0x1d3)+_0x40f7be);if(typeof _0x412b8e!=='object'||_0x412b8e===null)throw new Error(_0x5c08dc(0x12a));const _0x5a129c=onValue(_0x52293a,_0x5ebafb=>{const _0x44b607=_0x5c08dc;console[_0x44b607(0x10b)](_0x44b607(0x131),_0x5ebafb['val']());});await set(_0x52293a,_0x412b8e),_0x5a129c(),alert(_0x5c08dc(0x19f)),window['location'][_0x5c08dc(0x168)]();}catch(_0x54838b){console[_0x5c08dc(0x137)](_0x5c08dc(0x1a1),_0x54838b),alert(_0x5c08dc(0x16d)+_0x54838b[_0x5c08dc(0x132)]);}finally{hideLoader(),_0x449c17['value']='';}},_0x30a531[_0x10e8b2(0x1c8)]=_0x3b89f1=>{const _0x414e2a=_0x10e8b2;console['error'](_0x414e2a(0x123),_0x3b89f1),alert(_0x414e2a(0xfc)),hideLoader(),_0x449c17[_0x414e2a(0xf7)]='';},_0x30a531[_0x10e8b2(0xda)](_0x483f99);}window[_0x458290(0x151)]=importData,window[_0x458290(0x162)]=function(){const _0x12b05b=_0x458290,_0x4453b2=document['getElementById'](_0x12b05b(0xe4)),_0x12672d=document[_0x12b05b(0xdf)](_0x12b05b(0x13c));_0x12672d[_0x12b05b(0xf7)]=_0x4453b2[_0x12b05b(0x1d0)],document[_0x12b05b(0xde)][_0x12b05b(0xf5)](_0x12672d),_0x12672d[_0x12b05b(0x120)](),document[_0x12b05b(0x1d6)]('copy'),document[_0x12b05b(0xde)]['removeChild'](_0x12672d),alert(_0x12b05b(0x143));},window[_0x458290(0x111)]=function(){const _0xc07b9a=_0x458290;document['getElementById'](_0xc07b9a(0xcf))['style'][_0xc07b9a(0x157)]=_0xc07b9a(0x1be);},window[_0x458290(0x1a8)]=function(){const _0x5c3d7c=_0x458290;document['getElementById'](_0x5c3d7c(0xcf))[_0x5c3d7c(0x14a)][_0x5c3d7c(0x157)]=_0x5c3d7c(0xca);},document[_0x458290(0x1b6)]('DOMContentLoaded',async()=>{const _0x4fba93=_0x458290;showPageLoader(),await initializeDatabase(),await checkLoginStatus(),await loadPortalConfig(),processConnectedTickets()['then'](()=>checkSubscriptionStatus())[_0x4fba93(0x194)](()=>{hidePageLoader();})[_0x4fba93(0x152)](_0x42534e=>{const _0x2ab24b=_0x4fba93;console[_0x2ab24b(0x137)](_0x2ab24b(0xd9),_0x42534e),hidePageLoader(),showNotification(_0x2ab24b(0x103),_0x2ab24b(0x185));});}),window[_0x458290(0x17d)]=redirectToSubscription,window[_0x458290(0x119)]=redirectToSubscription;function closePaymentModal(){const _0x12d8ec=_0x458290;paymentModal[_0x12d8ec(0x14a)][_0x12d8ec(0x157)]=_0x12d8ec(0xca),overlay[_0x12d8ec(0x14a)][_0x12d8ec(0x157)]=_0x12d8ec(0xca);}function _0x2e15(){const _0xb11850=['loginAccueil.html','\x22\x20data-type=\x22tariffPrice\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20onclick=\x22removeListItem(this)\x22>Supprimer</button>','connections','/VendorsHistory','togglePortalForm','style','utilisateur','list-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','slice','integrationFeePaid','includes','importData','catch','remove','Erreur\x20lors\x20de\x20la\x20vente\x20automatique\x20du\x20ticket.','className','annuel','display','Current\x20user\x20ID\x20is\x20not\x20provided\x20to\x20sellTicketAutomatically.','notification','.html','stock','_blank','Vous\x20devez\x20être\x20connecté\x20pour\x20importer\x20les\x20données.','motDePasse','\x20vendu\x20automatiquement\x20et\x20enregistré\x20dans\x20VendorsHistory.','getElementById','tariffs','copyMikrotikCode','[data-type=\x22tariffPrice\x22]','green','\x20réussi!','connection','forEach','reload','13SSXwTM','toLocaleDateString','color','12IzyPCd','Erreur\x20lors\x20de\x20l\x27importation\x20des\x20données:\x20','PageVenteTicket.html?adminId=','removeListItem','notificationMessage','loaderWrapper','importDataInput','addListItem','updatedData','fedapayApiKey','ADMIN\x20WIFI\x20ZONE','notification\x20','CHECKOUT_COMPLETED','portalFormModal','<ul>','<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x22>','pageLoaderWrapper','redirectToSubscription','click','3308460qdXuYo','getFullYear','setFullYear','contentContainer','cancelIntegration','<!--\x20ADMIN_USER_ID\x20-->','Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20l\x27initialisation.','Paiement\x20échoué.','flex','Mode\x20de\x20connexion\x20inconnu.','Erreur\x20lors\x20de\x20l\x27exportation\x20des\x20données.','username','administration','\x22\x20placeholder=\x22','Veuillez\x20sélectionner\x20un\x20fichier\x20à\x20importer.','trim','removeChild','exists','Configuration\x20du\x20portail\x20captif\x20enregistrée\x20avec\x20succès!','Erreur\x20lors\x20de\x20la\x20vérification\x20du\x20statut\x20d\x27abonnement:','DIALOG_DISMISSED','then','cancelled','isLoggedIn','clear','<input\x20type=\x22text\x22\x20value=\x22','querySelector','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>','getItem','user','Erreur\x20lors\x20de\x20l\x27exportation:','replace','Données\x20importées\x20avec\x20succès!','Abonnement\x20annuel','Erreur\x20lors\x20de\x20l\x27importation:','Erreur:\x20ID\x20administrateur\x20non\x20trouvé.\x20Veuillez\x20vous\x20reconnecter.','hotspot4','subscriptionStatus','\x22\x20data-type=\x22tariffName\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20value=\x22','Vente\x20du\x20ticket\x20','contactNumber','closeHelpModal','Current\x20user\x20ID\x20is\x20not\x20found\x20in\x20sessionStorage.','TicketsTransit','Ticket\x20','preventDefault','<!--\x20TARIFFS_TABLE_SIMPLE\x20-->','#productsList\x20.list-item\x20input','red','Aucune\x20donnée\x20à\x20exporter.','name','User\x20ID\x20not\x20found.\x20Cannot\x20download\x20login\x20file.','.json','Erreur\x20lors\x20de\x20la\x20vérification\x20de\x20l\x27abonnement.','log.html','addEventListener','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20de\x20l\x27abonnement:','closePortalFormModal','versionNumber','inventaire','vente','monthly','href','block','...','Erreur\x20lors\x20du\x20chargement\x20de\x20la\x20configuration.','Vous\x20devez\x20être\x20connecté\x20pour\x20exporter\x20les\x20données.','filter','result','application/json','hotspot2','download','891156xIueYR','onerror','Abonnement\x20','hotspot1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20placeholder=\x22Nom\x20du\x20tarif\x22\x20data-type=\x22tariffName\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20placeholder=\x22Prix\x22\x20data-type=\x22tariffPrice\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20onclick=\x22removeListItem(this)\x22>Supprimer</button>','productsList','submit','reason','password','textContent','stringify','redirectButton','users-data/','Erreur\x20lors\x20du\x20téléchargement\x20du\x20portail\x20captif.','reset','execCommand','</li>','change','hasSubscribedBefore','prix','TicketsTotal','firebase-config-manager.js','same','indexOf','setMonth','#connectionsList\x20.list-item\x20input','16972gwqaip','Vendeur\x20automatique','none','status','hotspot3','tariffsList','toISOString','helpModal','subscriptionRequiredModal','portalFormOverlay','querySelectorAll','Erreur\x20lors\x20du\x20chargement\x20de\x20la\x20configuration:','login.html','Erreur\x20lors\x20de\x20l\x27enregistrement\x20de\x20la\x20configuration.','API\x20configuration\x20not\x20found\x20globally\x20for\x20subscription.','Vous\x20devez\x20être\x20connecté\x20pour\x20annuler\x20un\x20abonnement.','text','Erreur\x20lors\x20du\x20traitement\x20des\x20tickets\x20:','readAsText','Adresse','open','Erreur\x20lors\x20de\x20l\x27annulation\x20de\x20l\x27abonnement:','body','createElement','yearly','Vérification\x20du\x20ticket\x20pour\x20','confirmationModal','User\x20ID\x20not\x20found.\x20Cannot\x20cancel\x20subscription.','mikrotikCode','expired','2533552ddcytf','Une\x20erreur\x20est\x20survenue\x20lors\x20du\x20traitement\x20des\x20tickets.','/TicketConnecté','System\x20Version\x20not\x20found\x20globally,\x20using\x20default.','Abonnement\x20mensuel','true','endDate','Vous\x20devez\x20être\x20connecté\x20pour\x20configurer\x20le\x20portail.','User\x20ID\x20not\x20found.\x20Cannot\x20check\x20subscription\x20status.','Vous\x20devez\x20être\x20connecté\x20pour\x20vous\x20abonner.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<table\x20style=\x22width:\x20100%;\x20border-collapse:\x20collapse;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x20text-align:\x20left;\x22>Catégorie</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x20text-align:\x20left;\x22>Prix\x20(FCFA)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','pay.html','Statut\x20de\x20l\x27abonnement:\x20Actif\x20jusqu\x27au\x20','194868iShZCh','appendChild','users/Version\x20du\x20système','value','Aucune\x20configuration\x20de\x20portail\x20captif\x20trouvée.','currentUserId','/TicketsTotal','https://firebasestorage.googleapis.com/v0/b/eduque-moi-bada8.appspot.com/o/hotspot15.zip?alt=media&token=76dfc03c-056e-460f-b711-48e1418092df','Erreur\x20de\x20lecture\x20du\x20fichier.','networkNameDisplay','[data-type=\x22tariffName\x22]','innerHTML','pageLoaderMessage','Nettoyage\x20des\x20tickets\x20traités...','div','Erreur','Statut\x20de\x20l\x27abonnement:\x20Expiré','target','297365aTpZJH','Database\x20initialized\x20in\x20index.html','networkName','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x22>','Erreur\x20lors\x20du\x20traitement\x20du\x20ticket\x20:','log','Erreur\x20lors\x20de\x20la\x20vente\x20automatique\x20du\x20ticket\x20:','<!--\x20CONNECTION_LOCATIONS\x20-->','Vérification\x20des\x20tickets\x20connectés...','onload','Current\x20user\x20ID\x20is\x20not\x20provided\x20to\x20processTicket.','showHelpModal','price',')\x22>Payer</button></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pay','overlay','</tbody></table>','\x20FCFA)','/portalConfig','hideSubscriptionRequiredModal','subscribeMonthly','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20onclick=\x22removeListItem(this)\x22>Supprimer</button>','connectionsList','admin@example.com','Abonnement\x20annulé.','downloadLoginFile','select','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20onclick=\x22removeListItem(this)\x22>Supprimer</button>','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20de\x20l\x27abonnement.','Erreur\x20de\x20lecture\x20du\x20fichier:','parse','inline-block','users/API','/admin/subscription','/TicketsTotal/','val','Les\x20données\x20importées\x20ne\x20sont\x20pas\x20valides.','24HJSMtV','active','confirmationOverlay','Admin\x20ID\x20not\x20found\x20in\x20session\x20storage.','\x22\x20data-type=\x22','loginMode','Données\x20modifiées\x20pendant\x20l\x27importation:','message','push','revokeObjectURL','\x27,\x20','createObjectURL','error','category','paymentModal','CYBER\x20CAMPUS\x20WIFI\x20ZONE','pk_live_xxxxxxxxxxxxx','textarea','1516012ejdTQL','/TicketsTransit/','Vous\x20devez\x20être\x20connecté\x20pour\x20télécharger\x20le\x20portail.','location','products','<!--\x20TARIFFS_TABLE\x20-->','Code\x20MikroTik\x20copié\x20dans\x20le\x20presse-papiers\x20!','Traitement\x20des\x20tickets\x20uniques...'];_0x2e15=function(){return _0xb11850;};return _0x2e15();}window[_0x458290(0x10f)]=()=>{};
    </script>

</body>
</html>
