<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADMIN WIFI ZONE</title>
    <link rel="stylesheet" href="styleA.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>
    <script src="https://cdn.fedapay.com/checkout.js?v=1.1.7"></script>

    <style>
        /* ... (Styles CSS - Pas de modifications majeures, juste des ajustements pour le formulaire) ... */
       /* Style pour le modal de paiement */
       .payment-modal {
           display: none;
           position: fixed;
           top: 50%;
           left: 50%;
           transform: translate(-50%, -50%);
           background-color: white;
           padding: 30px;
           border-radius: 10px;
           box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
           z-index: 1000;
           max-width: 400px;
           width: 90%;
           text-align: center;
       }

       .payment-modal h2 {
           color: #333;
           margin-bottom: 20px;
       }

       .payment-modal p {
           color: #666;
           margin-bottom: 30px;
       }

       .payment-modal button {
           background-color: #fdbb2d;
           color: #1a2a6c;
           border: none;
           padding: 12px 20px;
           border-radius: 25px;
           cursor: pointer;
           transition: all 0.3s;
           font-weight: 600;
           font-size: 0.9rem;
           margin: 0 10px;
       }

       .payment-modal button:hover {
           background-color: #e6a727;
       }

       .close-modal {
           position: absolute;
           top: 10px;
           right: 10px;
           cursor: pointer;
           font-size: 1.2rem;
           color: #333;
       }

       /* Style pour l'overlay */
       .overlay {
           display: none;
           position: fixed;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           background-color: rgba(0, 0, 0, 0.5);
           z-index: 999;
       }
       #subscriptionSection {
           text-align: center;
           margin-bottom: 30px;
       }

       #subscriptionSection h2 {
           font-size: 24px;
           color: #fdbb2d;
           margin-bottom: 20px;
       }

       #subscriptionStatus {
           font-size: 18px;
           color: #fff;
           margin-bottom: 20px;
       }

       .subscription-buttons {
           display: flex;
           justify-content: center;
           gap: 20px;
       }

       .subscription-buttons button {
           background-color: #fdbb2d;
           color: #1a2a6c;
           border: none;
           padding: 12px 20px;
           border-radius: 25px;
           cursor: pointer;
           transition: all 0.3s;
           font-weight: 600;
           font-size: 0.9rem;
       }

       .subscription-buttons button:hover {
           background-color: #e6a727;
       }

       /* Style pour le message d'abonnement requis */
       .subscription-required {
           display: none;
           position: fixed;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           background-color: rgba(0, 0, 0, 0.5);
           z-index: 1000;
           justify-content: center;
           align-items: center;
           color: white;
           text-align: center;
           padding: 20px;
       }

       .subscription-required-content {
           background-color: white;
           padding: 30px;
           border-radius: 10px;
           box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
           max-width: 400px;
           width: 90%;
       }

       .subscription-required-content h2 {
           color: #333;
           margin-bottom: 20px;
       }

       .subscription-required-content p {
           color: #666;
           margin-bottom: 30px;
       }

       .subscription-required-content button {
           background-color: #fdbb2d;
           color: #1a2a6c;
           border: none;
           padding: 12px 20px;
           border-radius: 25px;
           cursor: pointer;
           transition: all 0.3s;
           font-weight: 600;
           font-size: 0.9rem;
           margin: 0 10px;
       }

       .subscription-required-content button:hover {
           background-color: #e6a727;
       }
        .loader-wrapper {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1001;
        }

        .loader {
            position: absolute;
            top: 50%;
            left: 50%;
            border: 6px solid #f3f3f3;
            border-top: 6px solid #fdbb2d;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 2s linear infinite;
            transform: translate(-50%, -50%);
        }

        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        .page-loader-wrapper {
            display: flex;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1002;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .page-loader {
            border: 6px solid #f3f3f3;
            border-top: 6px solid #fdbb2d;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 2s linear infinite;
        }

        .loader-message {
            color: white;
            margin-top: 16px;
            font-size: 1rem;
            text-align: center;
            max-width: 80%;
        }

        .header {
            display: flex; /* Added to align items */
            justify-content: center; /* MODIFICATION: Center content horizontally */
            align-items: center; /* Added to vertically align items */
            flex-direction: column; /* MODIFICATION: Stack items vertically */
            text-align: center; /* MODIFICATION: Center text within header */
        }

        .header h1 {
            margin: 0; /* Reset margin for h1 inside header */
        }

        .logout-button {
            background-color: #e74c3c;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background-color 0.3s;
        }

        .logout-button:hover {
            background-color: #c0392b;
        }
       /* Styles pour le formulaire de portail captif */
      #portalForm {
          display: none; /*Caché par défaut*/
          flex-direction: column;
          gap: 10px;
          max-width: 600px; /* Limite la largeur du formulaire */
          margin: 20px auto;
          padding: 20px;
          background-color: rgba(255, 255, 255, 0.1); /* Léger fond pour le formulaire */
          border-radius: 8px;
          box-shadow: 0 2px 4px rgba(0,0,0,0.2); /* Ombre légère */
      }
      #portalForm label {
          color: #fdbb2d; /* Couleur pour les labels */
      }
      #portalForm input[type="text"],
      #portalForm input[type="number"],
      #portalForm textarea {
          width: 100%;
          padding: 10px;
          border: 1px solid #ddd;
          border-radius: 4px;
          background-color: rgba(255,255,255,0.2); /* Fond transparent */
          color: white; /* Couleur du texte */
      }

      #portalForm button {
          padding: 10px 15px;
          background-color: #fdbb2d;
          color: #1a2a6c;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          font-size: 16px;
      }

      #portalForm button:hover {
          background-color: #e6a727;
      }
      #portalForm .list-input-container {
          display: flex;
          flex-direction: column;
      }

      #portalForm .list-item {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }

      #portalForm .list-item input {
          flex: 1; /* Permet à l'input de prendre l'espace disponible */
          margin-right: 5px; /* Marge entre l'input et le bouton */
      }
        #portalForm .list-item button {
           padding: 5px 10px;
           background-color: #e74c3c; /* Couleur différente pour le bouton de suppression */
           color: white;
           border: none;
           border-radius: 4px;
           cursor: pointer;
           font-size: 14px;
        }

        #portalForm .list-item button:hover {
           background-color: #c0392b;
        }

        #configSection {
          margin-bottom: 20px;
          text-align: center; /* Center-align the buttons */
      }
        #configSection .config-buttons {
          display: inline-block;
          margin: 0 10px;
        }

    </style>
</head>
<body>
    <div class="page-loader-wrapper" id="pageLoaderWrapper">
        <div class="page-loader"></div>
        <div class="loader-message" id="pageLoaderMessage">Initialisation...</div>
    </div>
    <div class="loader-wrapper" id="loaderWrapper">
        <div class="loader"></div>
    </div>
    <div class="container" id="contentContainer" style="display:none;">
        <header class="header">
            <h1>ADMIN</h1>
            <h1>WIFI ZONE</h1>
            <h1> </h1>
            <h1> </h1>
            <div class="wave"></div>
        </header>


        <main>
            <div id="subscriptionSection">
                <h2>Statut de l'Abonnement</h2>
                <div id="subscriptionStatus"></div>
                <div class="subscription-button">
                    <button id="subscribeMonthly">S'abonner (Mensuel - 1000 FCFA)</button>
                    <button id="subscribeYearly">S'abonner (Annuel - 10 000 FCFA)</button>
                </div>
            </div>

            <div id="configSection">
              <button onclick="togglePortalForm()" id="togglePortalFormBtn">Configurer le portail captif</button>
              <button onclick="downloadLoginFile()" id="downloadLoginBtn" style="display: none;">Télécharger le portail captif</button>
             </div>


            <form id="portalForm" style="display: none;">
                <label for="networkName">Nom du réseau:</label>
                <input type="text" id="networkName" name="networkName" required>

                <label for="contactNumber">Numéro à contacter:</label>
                <input type="text" id="contactNumber" name="contactNumber" required>

                <label for="fedapayApiKey">Clé API FedaPay:</label>
                <input type="text" id="fedapayApiKey" name="fedapayApiKey" required>

                <div class="list-input-container">
                    <label>Tarifs:</label>
                    <div id="tariffsList">
                        <div class="list-item">
                            <input type="text" placeholder="Nom du tarif" data-type="tariffName">
                            <input type="number" placeholder="Prix" data-type="tariffPrice">
                            <button type="button" onclick="addListItem('tariffsList')">Ajouter</button>
                         </div>
                      </div>
                 </div>

                 <div class="list-input-container">
                      <label>Adresses de connexion:</label>
                      <div id="connectionsList">
                         <div class="list-item">
                            <input type="text" placeholder="Adresse" data-type="connection">
                            <button type="button" onclick="addListItem('connectionsList')">Ajouter</button>
                           </div>
                      </div>
                  </div>

                  <div class="list-input-container">
                      <label>Services et produits:</label>
                      <div id="productsList">
                         <div class="list-item">
                             <input type="text" placeholder="Service/Produit" data-type="product">
                             <button type="button" onclick="addListItem('productsList')">Ajouter</button>
                         </div>
                     </div>
                 </div>

                 <button type="submit">Enregistrer la configuration</button>
             </form>

            <div class="menu">
                <a href="PageVenteTicket.html" class="menu-item" id="vente">
                    <i class="fas fa-ticket-alt"></i> <!-- Font Awesome Ticket Icon -->
                    <h2>Vente de Tickets</h2>
                    <p>Procédez à la vente de nouveaux tickets Wifi.</p>
                </a>
                <a href="AdminVentePartenaires.html" class="menu-item" id="inventaire">
                    <i class="fas fa-clipboard-list"></i> <!-- Font Awesome Clipboard List Icon -->
                    <h2>Inventaire des Tickets</h2>
                    <p>Consultez l'état des ventes de vos partenaires.</p>
                </a>
                <a href="Stock.html" class="menu-item" id="stock">
                    <i class="fas fa-boxes"></i> <!-- Font Awesome Boxes Icon -->
                    <h2>Gestion des Stocks Partenaire</h2>
                    <p>Suivez les stocks de tickets de vos partenaires.</p>
                </a>
                <a href="a3.html" class="menu-item" id="administration">
                    <i class="fas fa-cog"></i> <!-- Font Awesome Settings Cog Icon -->
                    <h2>Administration des Tickets</h2>
                    <p>Gérez les tickets, activez ou désactivez-les.</p>
                </a>
                <button onclick="logout()" class="logout-button">Déconnexion</button>
            </div>

        </main>

    </div>


    <div id="paymentModal" class="payment-modal" style="display: none;">
        <span class="close-modal" onclick="closePaymentModal()">×</span>
        <h2>Paiement de l'Abonnement</h2>
        <p>Choisissez votre plan d'abonnement et procédez au paiement via FedaPay.</p>
        <!-- Les boutons de paiement seront ajoutés ici par le script -->
    </div>

    <div id="subscriptionRequiredModal" class="subscription-required" style="display: none;">
        <div class="subscription-required-content">
            <h2>Abonnement Requis</h2>
            <p>Un abonnement actif est nécessaire pour accéder à cette fonctionnalité.</p>
            <button onclick="redirectToSubscription()">S'abonner</button>
            <button onclick="hideSubscriptionRequiredModal()">Fermer</button>
        </div>
    </div>

    <div class="overlay" id="overlay" style="display: none;" onclick="closePaymentModal()"></div>

    <script type="module">
const _0x379eb8=_0x6a17;(function(_0x22152d,_0x558294){const _0x5185e8=_0x6a17,_0x53a10a=_0x22152d();while(!![]){try{const _0x1fa4cb=-parseInt(_0x5185e8(0x140))/0x1+-parseInt(_0x5185e8(0x9f))/0x2*(-parseInt(_0x5185e8(0x91))/0x3)+-parseInt(_0x5185e8(0xe3))/0x4+-parseInt(_0x5185e8(0xcd))/0x5+parseInt(_0x5185e8(0xfd))/0x6*(-parseInt(_0x5185e8(0xd6))/0x7)+-parseInt(_0x5185e8(0x10b))/0x8*(-parseInt(_0x5185e8(0x122))/0x9)+-parseInt(_0x5185e8(0x12b))/0xa*(-parseInt(_0x5185e8(0x144))/0xb);if(_0x1fa4cb===_0x558294)break;else _0x53a10a['push'](_0x53a10a['shift']());}catch(_0x2f5455){_0x53a10a['push'](_0x53a10a['shift']());}}}(_0xb0c5,0xec9a6));import{getActiveDatabase}from'./firebase-config-manager.js';import{ref,get,set,push,remove,update}from'https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js';let db,adminRef,connectedTicketsRef;async function initializeDatabase(){const _0x236543=_0x6a17;db=await getActiveDatabase(),connectedTicketsRef=ref(db,_0x236543(0x117)),console[_0x236543(0x131)](_0x236543(0xf3));}async function checkLoginStatus(){const _0x5df626=_0x6a17;if(sessionStorage[_0x5df626(0xe9)](_0x5df626(0x138))!==_0x5df626(0x116))redirectToLogin();else{const _0x2ccace=sessionStorage[_0x5df626(0xe9)](_0x5df626(0x146));if(!_0x2ccace){console['error'](_0x5df626(0xb0)),redirectToLogin();return;}document[_0x5df626(0x159)](_0x5df626(0x125))[_0x5df626(0x127)]['display']='block',adminRef=ref(db,_0x5df626(0x154)+_0x2ccace+_0x5df626(0x13e));}}function redirectToLogin(){const _0x49554c=_0x6a17;window[_0x49554c(0xe4)]['href']='loginAccueil.html';}function _0xb0c5(){const _0x50f926=['open','togglePortalFormBtn','downloadLoginFile','replace','Service/Produit','DIALOG_DISMISSED','let\x20adminUserId\x20=\x20\x27','85365Ygctdq','reason','pk_live_TfSz212W0xSMKK7oPEogkFmp','contentContainer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x22>','style','cancelled','innerHTML','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20de\x20l\x27abonnement.','2890AYIqcX','download','#tariffsList\x20.list-item','tariffs','Erreur\x20lors\x20de\x20la\x20vente\x20automatique\x20du\x20ticket.','Erreur\x20lors\x20du\x20traitement\x20du\x20ticket\x20','log','click','username','val','Erreur\x20lors\x20du\x20traitement\x20du\x20ticket\x20:','portalForm','Cyber\x20Campus\x20Arafat2','isLoggedIn','Erreur\x20lors\x20de\x20l\x27annulation\x20de\x20l\x27abonnement:','#connectionsList\x20.list-item\x20input','now','filter','Cyber\x20Campus\x20Baka\x201','/admin/subscription','preventDefault','1831260UaiNmq','list-item','Une\x20erreur\x20est\x20survenue\x20lors\x20du\x20traitement\x20des\x20tickets.','Paiement\x20échoué.','87989eoZgZI','\x20vendu\x20automatiquement.','currentUserId','utilisateur','Statut\x20de\x20l\x27abonnement:\x20Inactif','yearly','subscriptionStatus','onload','push','Cyber\x20Campus\x20Marché\x20Tchakitibam','Traitement\x20du\x20ticket\x20','toLocaleDateString','CHECKOUT_COMPLETED','Vente\x20du\x20ticket\x20','</ul>','red','users-data/','display','exists','Erreur\x20lors\x20du\x20téléchargement\x20du\x20portail\x20captif:','overlay','getElementById','Traitement\x20des\x20tickets\x20uniques...','Installation\x20Wi-Fi\x20Zone','9VNbpJE','value','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22','User\x20ID\x20not\x20found.\x20Cannot\x20check\x20subscription\x20status.','Maintenance\x20réseau','Erreur\x20lors\x20de\x20l\x27enregistrement\x20de\x20la\x20configuration:','Erreur\x20lors\x20du\x20traitement\x20des\x20tickets\x20connectés\x20:','tariffsList','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20de\x20l\x27abonnement:','Vérification\x20du\x20ticket\x20pour\x20','User\x20ID\x20not\x20found.\x20Cannot\x20save\x20portal\x20configuration.','remove','redirectToSubscription','[data-type=\x22tariffPrice\x22]','942134bVknnA','a3.html','products','DOMContentLoaded','Vous\x20devez\x20être\x20connecté\x20pour\x20télécharger\x20le\x20portail.','logout','Stock.html','TicketsTotal','/TicketsTotal','block','Erreur','vente','Statut\x20de\x20l\x27abonnement:\x20Expiré','+229\x2060374877','Erreur\x20lors\x20de\x20la\x20vente\x20automatique\x20du\x20ticket\x20:','PageVenteTicket.html','flex','Current\x20user\x20ID\x20is\x20not\x20found\x20in\x20sessionStorage.','connectionsList','connections','mensuel','TicketsTransit','clear','indexOf','querySelector','name','loaderWrapper','Configuration\x20du\x20portail\x20captif\x20enregistrée\x20avec\x20succès!','motDePasse','fedapayApiKey','then','appendChild','Récupérer\x20les\x20ID\x20du\x20ticket\x20en\x20contactant\x20le\x20','monthly','subscribeYearly','Current\x20user\x20ID\x20is\x20not\x20provided\x20to\x20sellTicketAutomatically.','Vous\x20devez\x20être\x20connecté\x20pour\x20vous\x20abonner.','Cyber\x20Campus\x20Baka\x202','prix','href','Ticket\x20','error','addListItem','createElement','/TicketsTransit','body','4055050lUlFoA','submit','length','querySelectorAll','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x22>','init','inventaire','color','</li>','35rIqtGb','text','Erreur\x20lors\x20de\x20la\x20vérification\x20du\x20statut\x20d\x27abonnement:','getMonth','subscriptionRequiredModal','downloadLoginBtn','Adresse','login.html','#productsList\x20.list-item\x20input','...','none','password','Vous\x20devez\x20être\x20connecté\x20pour\x20configurer\x20le\x20portail.','3124144YYaLlU','location','inline-block',')\x22>Payer</button></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AdminVentePartenaires.html','pageLoaderWrapper','getItem','Abonnement\x20annulé.','pageLoaderMessage','textContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','updatedData','trim','hideSubscriptionRequiredModal','createObjectURL','Aucune\x20configuration\x20de\x20portail\x20captif\x20trouvée.','Database\x20initialized\x20in\x20index.html','/TicketsVendus','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20onclick=\x22removeListItem(this)\x22>Supprimer</button>','text/html','parentNode','admin@example.com','forEach','Abonnement\x20','green','User\x20ID\x20not\x20found.\x20Cannot\x20cancel\x20subscription.','553434uejXtb','price','Statut\x20de\x20l\x27abonnement:\x20Actif\x20jusqu\x27au\x20','addEventListener','user','removeChild','Cyber\x20Campus\x20Rose\x20croix','Vendeur\x20automatique','Configurer\x20le\x20portail\x20captif','toISOString','category','Erreur\x20lors\x20du\x20traitement\x20des\x20tickets\x20:','Cyber\x20Campus\x20Arafat1','Vérification\x20des\x20tickets\x20connectés...','952PIHGDd','stock','Erreur\x20lors\x20de\x20l\x27enregistrement\x20de\x20la\x20configuration.','status','subscribeMonthly','/TicketsTransit/','/TicketsTotal/','contactNumber','administration','endDate','active','true','TicketConnecté','Copie\x20de\x20Films/Series/Jeux...','catch','/portalConfig'];_0xb0c5=function(){return _0x50f926;};return _0xb0c5();}window['logout']=function(){sessionStorage['clear'](),redirectToLogin();};const venteMenuItem=document[_0x379eb8(0x159)](_0x379eb8(0xaa)),inventaireMenuItem=document[_0x379eb8(0x159)](_0x379eb8(0xd3)),stockMenuItem=document[_0x379eb8(0x159)](_0x379eb8(0x10c)),administrationMenuItem=document['getElementById'](_0x379eb8(0x113)),subscriptionStatus=document[_0x379eb8(0x159)](_0x379eb8(0x14a)),subscribeMonthlyButton=document['getElementById'](_0x379eb8(0x10f)),subscribeYearlyButton=document[_0x379eb8(0x159)](_0x379eb8(0xc1)),paymentModal=document[_0x379eb8(0x159)]('paymentModal'),overlay=document[_0x379eb8(0x159)](_0x379eb8(0x158)),subscriptionRequiredModal=document['getElementById'](_0x379eb8(0xda));function showLoader(){const _0x1015d0=_0x379eb8;document['getElementById'](_0x1015d0(0xb9))[_0x1015d0(0x127)][_0x1015d0(0x155)]=_0x1015d0(0xa8);}function hideLoader(){const _0x26320d=_0x379eb8;document[_0x26320d(0x159)]('loaderWrapper')[_0x26320d(0x127)]['display']=_0x26320d(0xe0);}function showPageLoader(){const _0x208ba2=_0x379eb8;document['getElementById'](_0x208ba2(0xe8))[_0x208ba2(0x127)][_0x208ba2(0x155)]=_0x208ba2(0xaf);}function hidePageLoader(){const _0x50cae4=_0x379eb8;document[_0x50cae4(0x159)](_0x50cae4(0xe8))[_0x50cae4(0x127)][_0x50cae4(0x155)]=_0x50cae4(0xe0);}function showSubscriptionRequiredModal(){const _0x4d84b6=_0x379eb8;subscriptionRequiredModal[_0x4d84b6(0x127)][_0x4d84b6(0x155)]=_0x4d84b6(0xaf);}function hideSubscriptionRequiredModal(){const _0x2554b2=_0x379eb8;subscriptionRequiredModal['style'][_0x2554b2(0x155)]=_0x2554b2(0xe0);}function redirectToSubscription(){hideSubscriptionRequiredModal();}function checkSubscriptionStatus(){const _0x5b40e2=_0x379eb8,_0x1a08c6=sessionStorage[_0x5b40e2(0xe9)](_0x5b40e2(0x146));if(!_0x1a08c6){console[_0x5b40e2(0xc8)](_0x5b40e2(0x94));return;}const _0x487fe8=ref(db,_0x5b40e2(0x154)+_0x1a08c6+_0x5b40e2(0x13e));get(_0x487fe8)[_0x5b40e2(0xbd)](_0x568a57=>{const _0x408209=_0x5b40e2,_0x7a6c24=_0x568a57[_0x408209(0x134)](),_0x3020ac=new Date();if(_0x7a6c24&&_0x7a6c24[_0x408209(0x10e)]===_0x408209(0x115)){const _0x32efec=new Date(_0x7a6c24[_0x408209(0x114)]);_0x32efec<_0x3020ac?(subscriptionStatus[_0x408209(0xec)]=_0x408209(0xab),subscriptionStatus[_0x408209(0x127)][_0x408209(0xd4)]=_0x408209(0x153),subscribeMonthlyButton[_0x408209(0x127)][_0x408209(0x155)]=_0x408209(0xe5),subscribeYearlyButton[_0x408209(0x127)][_0x408209(0x155)]='inline-block',set(_0x487fe8,{..._0x7a6c24,'status':'expired'})):(subscriptionStatus['textContent']=_0x408209(0xff)+_0x32efec[_0x408209(0x14f)](),subscriptionStatus[_0x408209(0x127)][_0x408209(0xd4)]=_0x408209(0xfb),subscribeMonthlyButton['style'][_0x408209(0x155)]='none',subscribeYearlyButton[_0x408209(0x127)][_0x408209(0x155)]=_0x408209(0xe0));}else subscriptionStatus[_0x408209(0xec)]=_0x408209(0x148),subscriptionStatus['style']['color']=_0x408209(0x153),subscribeMonthlyButton[_0x408209(0x127)][_0x408209(0x155)]='inline-block',subscribeYearlyButton[_0x408209(0x127)]['display']=_0x408209(0xe5);})['catch'](_0x40a32a=>{const _0x1ed1d5=_0x5b40e2;console[_0x1ed1d5(0xc8)](_0x1ed1d5(0xd8),_0x40a32a);});}function checkUserAccess(){const _0x898f52=_0x379eb8;get(adminRef)[_0x898f52(0xbd)](_0x48f4fc=>{const _0x1b955a=_0x898f52,_0x4dabbc=_0x48f4fc[_0x1b955a(0x134)]();(!_0x4dabbc||_0x4dabbc[_0x1b955a(0x10e)]!==_0x1b955a(0x115))&&showSubscriptionRequiredModal();});}venteMenuItem['addEventListener'](_0x379eb8(0x132),_0x2cdbd6=>{const _0xcd4844=_0x379eb8;_0x2cdbd6['preventDefault'](),checkUserAccess(),window['location'][_0xcd4844(0xc6)]=_0xcd4844(0xae);}),inventaireMenuItem[_0x379eb8(0x100)](_0x379eb8(0x132),_0x1e449e=>{const _0x3c47db=_0x379eb8;_0x1e449e[_0x3c47db(0x13f)](),checkUserAccess(),window[_0x3c47db(0xe4)][_0x3c47db(0xc6)]=_0x3c47db(0xe7);}),stockMenuItem[_0x379eb8(0x100)](_0x379eb8(0x132),_0x16ff17=>{const _0x3c1832=_0x379eb8;_0x16ff17[_0x3c1832(0x13f)](),checkUserAccess(),window[_0x3c1832(0xe4)][_0x3c1832(0xc6)]=_0x3c1832(0xa5);}),administrationMenuItem[_0x379eb8(0x100)](_0x379eb8(0x132),_0x58edbc=>{const _0x510dd8=_0x379eb8;_0x58edbc['preventDefault'](),checkUserAccess(),window[_0x510dd8(0xe4)][_0x510dd8(0xc6)]=_0x510dd8(0xa0);}),subscribeMonthlyButton['addEventListener'](_0x379eb8(0x132),()=>{initiatePayment('monthly');}),subscribeYearlyButton[_0x379eb8(0x100)](_0x379eb8(0x132),()=>{const _0x24cf59=_0x379eb8;initiatePayment(_0x24cf59(0x149));});function initiatePayment(_0x6cf50d){const _0x96547d=_0x379eb8,_0x62b4da=_0x6cf50d===_0x96547d(0xc0)?0x3e8:0x2710,_0x1f2bfa=_0x6cf50d===_0x96547d(0xc0)?'Abonnement\x20mensuel':'Abonnement\x20annuel',_0x479072=sessionStorage[_0x96547d(0xe9)](_0x96547d(0x146));if(!_0x479072){console[_0x96547d(0xc8)]('User\x20ID\x20not\x20found.\x20Cannot\x20initiate\x20payment.'),alert(_0x96547d(0xc3));return;}FedaPay[_0x96547d(0xd2)]({'public_key':_0x96547d(0x124),'transaction':{'amount':_0x62b4da,'description':_0x1f2bfa},'customer':{'email':_0x96547d(0xf8)},'onComplete':async function(_0x4783cd){const _0x139185=_0x96547d;if(_0x4783cd['reason']===FedaPay[_0x139185(0x120)])alert(_0x139185(0x143));else _0x4783cd[_0x139185(0x123)]===FedaPay[_0x139185(0x150)]&&handleSuccessfulPayment(_0x6cf50d,_0x4783cd,_0x479072);}})[_0x96547d(0x11b)]();}async function handleSuccessfulPayment(_0x1b59e5,_0xc0e101,_0x5c128b){const _0x57df74=_0x379eb8,_0xa17cc=new Date(),_0x5d63b6=new Date(_0xa17cc);_0x1b59e5==='monthly'?_0x5d63b6['setMonth'](_0x5d63b6[_0x57df74(0xd9)]()+0x1):_0x5d63b6['setFullYear'](_0x5d63b6['getFullYear']()+0x1);const _0x4b5ced={'status':_0x57df74(0x115),'startDate':_0xa17cc[_0x57df74(0x106)](),'endDate':_0x5d63b6[_0x57df74(0x106)](),'transactionId':_0xc0e101['transaction']['id'],'plan':_0x1b59e5};try{const _0x4a5677=ref(db,_0x57df74(0x154)+_0x5c128b+_0x57df74(0x13e));await set(_0x4a5677,_0x4b5ced),checkSubscriptionStatus(),alert(_0x57df74(0xfa)+(_0x1b59e5===_0x57df74(0xc0)?_0x57df74(0xb3):'annuel')+'\x20réussi!');}catch(_0x431771){console['error'](_0x57df74(0x99),_0x431771),alert(_0x57df74(0x12a));}}async function cancelSubscription(){const _0x3a0e6a=_0x379eb8,_0x314011=sessionStorage[_0x3a0e6a(0xe9)](_0x3a0e6a(0x146));if(!_0x314011){console['error'](_0x3a0e6a(0xfc)),alert('Vous\x20devez\x20être\x20connecté\x20pour\x20annuler\x20un\x20abonnement.');return;}try{const _0x18afa2=ref(db,'users-data/'+_0x314011+_0x3a0e6a(0x13e));await set(_0x18afa2,{...(await get(_0x18afa2))[_0x3a0e6a(0x134)](),'status':_0x3a0e6a(0x128)}),checkSubscriptionStatus(),alert(_0x3a0e6a(0xea));}catch(_0x3d5f70){console[_0x3a0e6a(0xc8)](_0x3a0e6a(0x139),_0x3d5f70),alert('Erreur\x20lors\x20de\x20l\x27annulation\x20de\x20l\x27abonnement.');}}async function processConnectedTickets(){const _0x38fd8a=_0x379eb8,_0x2206b5=document['getElementById']('pageLoaderMessage'),_0x500f06=sessionStorage[_0x38fd8a(0xe9)](_0x38fd8a(0x146));if(!_0x500f06){console['error'](_0x38fd8a(0xb0));return;}try{_0x2206b5[_0x38fd8a(0xec)]=_0x38fd8a(0x10a);const _0x4b2b9d=await get(connectedTicketsRef);let _0x38f114=_0x4b2b9d[_0x38fd8a(0x134)]()||{};const _0x270b1a={};for(const _0x1a44ec in _0x38f114){const _0x298465=_0x38f114[_0x1a44ec]['username'];!_0x270b1a[_0x298465]&&(_0x270b1a[_0x298465]=_0x38f114[_0x1a44ec]);}_0x2206b5[_0x38fd8a(0xec)]=_0x38fd8a(0x15a);for(const _0x11fe6d in _0x270b1a){await processTicket(_0x270b1a[_0x11fe6d],_0x500f06);}_0x2206b5[_0x38fd8a(0xec)]='Nettoyage\x20des\x20tickets\x20traités...',await remove(connectedTicketsRef);}catch(_0x59c16c){console[_0x38fd8a(0xc8)](_0x38fd8a(0x97),_0x59c16c),showNotification(_0x38fd8a(0xa9),_0x38fd8a(0x142));}}async function processTicket(_0x5c520c,_0xf01b18){const _0x21ecf0=_0x379eb8,_0x430ee3=document[_0x21ecf0(0x159)](_0x21ecf0(0xeb));if(!_0xf01b18){console[_0x21ecf0(0xc8)]('Current\x20user\x20ID\x20is\x20not\x20provided\x20to\x20processTicket.');return;}try{_0x430ee3[_0x21ecf0(0xec)]=_0x21ecf0(0x9a)+_0x5c520c[_0x21ecf0(0x133)]+'...';const _0x53e4ea=ref(db,_0x21ecf0(0x154)+_0xf01b18+'/VendorsHistory'),_0x33e750=await get(_0x53e4ea),_0x180ca8=_0x33e750['val']()||{};let _0x18aea8=![];for(const _0x343879 in _0x180ca8){const _0x5e0455=_0x180ca8[_0x343879];for(const _0x324328 in _0x5e0455){if(_0x5e0455[_0x324328][_0x21ecf0(0x101)]===_0x5c520c[_0x21ecf0(0x133)]){_0x18aea8=!![];break;}}if(_0x18aea8)break;}if(!_0x18aea8){_0x430ee3[_0x21ecf0(0xec)]=_0x21ecf0(0x14e)+_0x5c520c[_0x21ecf0(0x133)]+_0x21ecf0(0xdf);const _0x913b65=ref(db,_0x21ecf0(0x154)+_0xf01b18+_0x21ecf0(0xa7)),_0x366924=ref(db,_0x21ecf0(0x154)+_0xf01b18+_0x21ecf0(0xcb)),_0x2393d3=await get(_0x913b65),_0x561654=await get(_0x366924),_0x3d4bc2=_0x2393d3[_0x21ecf0(0x134)]()||{},_0x321963=_0x561654[_0x21ecf0(0x134)]()||{};let _0x479360=null,_0x4d045c=null,_0x3f40e8=null;for(const _0x121619 in _0x3d4bc2){const _0xfe29e5=(_0x3d4bc2[_0x121619][_0x21ecf0(0x147)]||[])[_0x21ecf0(0xb6)](_0x5c520c[_0x21ecf0(0x133)]);if(_0xfe29e5>-0x1){_0x479360={'category':_0x121619,'user':_0x3d4bc2[_0x121619][_0x21ecf0(0x147)][_0xfe29e5],'password':_0x3d4bc2[_0x121619][_0x21ecf0(0xbb)][_0xfe29e5],'price':_0x3d4bc2[_0x121619][_0x21ecf0(0xc5)][_0xfe29e5],'updatedData':{..._0x3d4bc2[_0x121619],'utilisateur':_0x3d4bc2[_0x121619][_0x21ecf0(0x147)][_0x21ecf0(0x13c)]((_0x2e0591,_0xf9b3f1)=>_0xf9b3f1!==_0xfe29e5),'motDePasse':_0x3d4bc2[_0x121619][_0x21ecf0(0xbb)]['filter']((_0x2b7d7f,_0x142197)=>_0x142197!==_0xfe29e5),'prix':_0x3d4bc2[_0x121619][_0x21ecf0(0xc5)][_0x21ecf0(0x13c)]((_0x95b237,_0x2ce4fd)=>_0x2ce4fd!==_0xfe29e5)}},_0x4d045c=ref(db,'users-data/'+_0xf01b18+_0x21ecf0(0x111)+_0x121619),_0x3f40e8='TicketsTotal';break;}}if(!_0x479360)for(const _0x3e68fb in _0x321963){if(_0x321963[_0x3e68fb][_0x21ecf0(0x101)]===_0x5c520c[_0x21ecf0(0x133)]){_0x479360={'category':_0x321963[_0x3e68fb][_0x21ecf0(0x107)],'user':_0x321963[_0x3e68fb][_0x21ecf0(0x101)],'password':_0x321963[_0x3e68fb]['password'],'price':_0x321963[_0x3e68fb]['price']},_0x4d045c=ref(db,_0x21ecf0(0x154)+_0xf01b18+_0x21ecf0(0x110)+_0x3e68fb),_0x3f40e8=_0x21ecf0(0xb4);break;}}_0x479360&&(_0x430ee3[_0x21ecf0(0xec)]=_0x21ecf0(0x151)+_0x5c520c[_0x21ecf0(0x133)]+'...',await sellTicketAutomatically(_0x479360,_0x4d045c,_0x3f40e8,_0xf01b18));}}catch(_0x27154a){console['error'](_0x21ecf0(0x135),_0x27154a),showNotification('Erreur',_0x21ecf0(0x130)+_0x5c520c['username']+'.');}}async function sellTicketAutomatically(_0x2fd2a0,_0x57b06b,_0x350259,_0x5bc2a9){const _0x406e79=_0x379eb8;if(!_0x5bc2a9){console[_0x406e79(0xc8)](_0x406e79(0xc2));return;}try{const _0x19ddf1=_0x406e79(0x104),_0x3541ed=ref(db,_0x406e79(0x154)+_0x5bc2a9+_0x406e79(0xf4));await push(_0x3541ed,{'category':_0x2fd2a0['category'],'user':_0x2fd2a0[_0x406e79(0x101)],'password':_0x2fd2a0[_0x406e79(0xe1)],'price':_0x2fd2a0[_0x406e79(0xfe)],'soldAt':Date[_0x406e79(0x13b)](),'vendorId':_0x19ddf1}),_0x350259===_0x406e79(0xa6)?await set(_0x57b06b,_0x2fd2a0[_0x406e79(0xee)]):await remove(_0x57b06b),console['log'](_0x406e79(0xc7)+_0x2fd2a0[_0x406e79(0x101)]+_0x406e79(0x145));}catch(_0x1cd3b5){console[_0x406e79(0xc8)](_0x406e79(0xad),_0x1cd3b5),showNotification('Erreur',_0x406e79(0x12f));}}window[_0x379eb8(0xa4)]=function(){const _0x38d7ef=_0x379eb8;sessionStorage[_0x38d7ef(0xb5)](),window['location'][_0x38d7ef(0x11e)]('loginAccueil.html');},window['togglePortalForm']=function(){const _0xa0af82=_0x379eb8,_0x51d7cd=document['getElementById'](_0xa0af82(0x136)),_0x3a3339=document[_0xa0af82(0x159)]('togglePortalFormBtn'),_0x16d1e7=document[_0xa0af82(0x159)](_0xa0af82(0xdb));_0x51d7cd[_0xa0af82(0x127)][_0xa0af82(0x155)]===_0xa0af82(0xe0)||_0x51d7cd[_0xa0af82(0x127)][_0xa0af82(0x155)]===''?(_0x51d7cd[_0xa0af82(0x127)][_0xa0af82(0x155)]=_0xa0af82(0xaf),_0x16d1e7[_0xa0af82(0x127)]['display']=_0xa0af82(0xe5),_0x3a3339[_0xa0af82(0xec)]='Masquer\x20le\x20formulaire'):(_0x51d7cd[_0xa0af82(0x127)][_0xa0af82(0x155)]=_0xa0af82(0xe0),_0x16d1e7[_0xa0af82(0x127)][_0xa0af82(0x155)]='none',_0x3a3339['textContent']='Configurer\x20le\x20portail\x20captif');},window[_0x379eb8(0xc9)]=function(_0x20ba8f){const _0x453c9b=_0x379eb8,_0x295a25=document[_0x453c9b(0x159)](_0x20ba8f),_0xcd72d8=document['createElement']('div');_0xcd72d8['className']=_0x453c9b(0x141);let _0x321799=_0x453c9b(0xd7);if(_0x20ba8f===_0x453c9b(0x98))_0xcd72d8['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20placeholder=\x22Nom\x20du\x20tarif\x22\x20data-type=\x22tariffName\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20placeholder=\x22Prix\x22\x20data-type=\x22tariffPrice\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20onclick=\x22removeListItem(this)\x22>Supprimer</button>';else{let _0x2cf385='';if(_0x20ba8f===_0x453c9b(0xb1))_0x2cf385=_0x453c9b(0xdc);else _0x20ba8f==='productsList'&&(_0x2cf385=_0x453c9b(0x11f));_0xcd72d8[_0x453c9b(0x129)]=_0x453c9b(0x93)+_0x321799+'\x22\x20placeholder=\x22'+_0x2cf385+'\x22\x20data-type=\x22'+_0x20ba8f['slice'](0x0,-0x4)+_0x453c9b(0xf5);}_0x295a25[_0x453c9b(0xbe)](_0xcd72d8);},window['removeListItem']=function(_0x98520e){const _0x32e9dc=_0x379eb8;_0x98520e[_0x32e9dc(0xf7)][_0x32e9dc(0x9c)]();},document[_0x379eb8(0x159)](_0x379eb8(0x136))[_0x379eb8(0x100)](_0x379eb8(0xce),async _0x49cc6c=>{const _0x107181=_0x379eb8;_0x49cc6c['preventDefault'](),showLoader();const _0x149949=sessionStorage[_0x107181(0xe9)](_0x107181(0x146));if(!_0x149949){console['error'](_0x107181(0x9b)),alert(_0x107181(0xe2)),hideLoader();return;}const _0x276a8f={'networkName':document[_0x107181(0x159)]('networkName')[_0x107181(0x92)],'contactNumber':document[_0x107181(0x159)](_0x107181(0x112))[_0x107181(0x92)],'fedapayApiKey':document[_0x107181(0x159)](_0x107181(0xbc))['value'],'tariffs':[],'connections':[],'products':[]};document[_0x107181(0xd0)](_0x107181(0x12d))[_0x107181(0xf9)](_0x329a23=>{const _0x114dd6=_0x107181,_0x169047=_0x329a23[_0x114dd6(0xb7)]('[data-type=\x22tariffName\x22]'),_0x120b38=_0x329a23[_0x114dd6(0xb7)](_0x114dd6(0x9e));if(_0x169047&&_0x120b38){const _0x4580e7=_0x169047[_0x114dd6(0x92)][_0x114dd6(0xef)](),_0x280a2c=parseFloat(_0x120b38[_0x114dd6(0x92)]);_0x4580e7&&!isNaN(_0x280a2c)&&_0x276a8f[_0x114dd6(0x12e)][_0x114dd6(0x14c)]({'name':_0x4580e7,'price':_0x280a2c});}}),document[_0x107181(0xd0)](_0x107181(0x13a))[_0x107181(0xf9)](_0x4c090a=>{const _0xf6fdd3=_0x107181,_0x3fee0f=_0x4c090a['value'][_0xf6fdd3(0xef)]();_0x3fee0f&&_0x276a8f[_0xf6fdd3(0xb2)][_0xf6fdd3(0x14c)](_0x3fee0f);}),document[_0x107181(0xd0)](_0x107181(0xde))[_0x107181(0xf9)](_0x19f47c=>{const _0x2e7dad=_0x107181,_0xa32a58=_0x19f47c[_0x2e7dad(0x92)][_0x2e7dad(0xef)]();_0xa32a58&&_0x276a8f[_0x2e7dad(0xa1)][_0x2e7dad(0x14c)](_0xa32a58);});try{const _0x125191=ref(db,_0x107181(0x154)+_0x149949+'/portalConfig');await set(_0x125191,_0x276a8f),alert(_0x107181(0xba)),hideLoader(),document['getElementById'](_0x107181(0x136))['reset'](),document[_0x107181(0x159)](_0x107181(0x136))[_0x107181(0x127)][_0x107181(0x155)]=_0x107181(0xe0),document[_0x107181(0x159)](_0x107181(0x11c))['textContent']=_0x107181(0x105),document[_0x107181(0x159)](_0x107181(0xdb))[_0x107181(0x127)][_0x107181(0x155)]='none';}catch(_0x561f97){console[_0x107181(0xc8)](_0x107181(0x96),_0x561f97),alert(_0x107181(0x10d)),hideLoader();}});async function downloadLoginFile(){const _0x25aff2=_0x379eb8;showLoader();const _0x586b40=sessionStorage[_0x25aff2(0xe9)](_0x25aff2(0x146));if(!_0x586b40){console['error']('User\x20ID\x20not\x20found.\x20Cannot\x20download\x20login\x20file.'),hideLoader(),alert(_0x25aff2(0xa3));return;}try{const _0x5ed7b8=ref(db,_0x25aff2(0x154)+_0x586b40+_0x25aff2(0x11a)),_0x5d2b54=await get(_0x5ed7b8);if(!_0x5d2b54[_0x25aff2(0x156)]()){alert(_0x25aff2(0xf2)),hideLoader();return;}const _0x678f6a=_0x5d2b54['val'](),_0x10148f=await fetch(_0x25aff2(0xdd));let _0x154152=await _0x10148f[_0x25aff2(0xd7)]();_0x154152=_0x154152[_0x25aff2(0x11e)](/let adminUserId = '[^']*';/,_0x25aff2(0x121)+_0x586b40+'\x27;');function _0x4ed023(_0x115d18){const _0x46d5cb=_0x25aff2;let _0x28e3f4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20style=\x22width:\x20100%;\x20border-collapse:\x20collapse;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x20text-align:\x20left;\x22>Catégorie</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x20text-align:\x20left;\x22>Prix\x20(FCFA)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x20text-align:\x20left;\x22>Action</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return _0x115d18[_0x46d5cb(0xf9)](_0x48c645=>{const _0x36cf54=_0x46d5cb;_0x28e3f4+=_0x36cf54(0x126)+_0x48c645[_0x36cf54(0xb8)]+_0x36cf54(0xd1)+_0x48c645[_0x36cf54(0xfe)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22padding:\x208px;\x20border-bottom:\x201px\x20solid\x20#ddd;\x22><button\x20onclick=\x22initPayment(\x27'+_0x48c645[_0x36cf54(0xb8)]+'\x27,\x20'+_0x48c645[_0x36cf54(0xfe)]+_0x36cf54(0xe6);}),_0x28e3f4+=_0x46d5cb(0xed),_0x28e3f4;}function _0x548c60(_0x596ef1){const _0x429b39=_0x25aff2;let _0x27de9a='<ul>';return _0x596ef1[_0x429b39(0xf9)](_0x26587b=>{const _0x26fe70=_0x429b39;_0x27de9a+='<li>'+_0x26587b+_0x26fe70(0xd5);}),_0x27de9a+=_0x429b39(0x152),_0x27de9a;}_0x154152=_0x154152[_0x25aff2(0x11e)](/<table style="display: none;"><\/table>/,_0x4ed023(_0x678f6a[_0x25aff2(0x12e)]||[])),_0x154152=_0x154152[_0x25aff2(0x11e)](/<ul>\s*<li>Récupérer les ID du ticket en contactant le \+229 60374877<\/li>\s*<\/ul>/,_0x548c60(_0x678f6a[_0x25aff2(0xb2)]&&_0x678f6a['connections'][_0x25aff2(0xcf)]>0x0?_0x678f6a[_0x25aff2(0xb2)]:[_0x25aff2(0xbf)+(_0x678f6a['contactNumber']||'+229\x2060374877')])),_0x154152=_0x154152[_0x25aff2(0x11e)](/<ul>\s*<li>Cyber Campus Arafat1<\/li>\s*<li>Cyber Campus Arafat2<\/li>[\s\S]*?<\/ul>/,_0x548c60(_0x678f6a[_0x25aff2(0xb2)]&&_0x678f6a[_0x25aff2(0xb2)][_0x25aff2(0xcf)]>0x0?_0x678f6a[_0x25aff2(0xb2)]:[_0x25aff2(0x109),_0x25aff2(0x137),_0x25aff2(0x103),_0x25aff2(0x14d),_0x25aff2(0x13d),_0x25aff2(0xc4)])),_0x154152=_0x154152[_0x25aff2(0x11e)](/<ul>\s*<li>Maintenance réseau<\/li>\s*<li>Installation Wi-Fi Zone<\/li>[\s\S]*?<\/ul>/,_0x548c60(_0x678f6a[_0x25aff2(0xa1)]&&_0x678f6a['products'][_0x25aff2(0xcf)]>0x0?_0x678f6a[_0x25aff2(0xa1)]:[_0x25aff2(0x95),_0x25aff2(0x15b),'Maintenance\x20informatique','Creation\x20de\x20Site\x20web\x20et\x20Application\x20mobile',_0x25aff2(0x118)])),_0x154152=_0x154152[_0x25aff2(0x11e)](/\+229 60374877/g,_0x678f6a['contactNumber']||_0x25aff2(0xac));const _0x1218a5=new Blob([_0x154152],{'type':_0x25aff2(0xf6)}),_0x39ab64=URL[_0x25aff2(0xf1)](_0x1218a5),_0x122467=document[_0x25aff2(0xca)]('a');_0x122467[_0x25aff2(0xc6)]=_0x39ab64,_0x122467[_0x25aff2(0x12c)]=_0x25aff2(0xdd),document[_0x25aff2(0xcc)][_0x25aff2(0xbe)](_0x122467),_0x122467[_0x25aff2(0x132)](),document[_0x25aff2(0xcc)][_0x25aff2(0x102)](_0x122467),URL['revokeObjectURL'](_0x39ab64),hideLoader();}catch(_0x43918d){console[_0x25aff2(0xc8)](_0x25aff2(0x157),_0x43918d),alert('Erreur\x20lors\x20du\x20téléchargement\x20du\x20portail\x20captif.'),hideLoader();}}window[_0x379eb8(0x11d)]=downloadLoginFile,document['addEventListener'](_0x379eb8(0xa2),async()=>{const _0x462f6b=_0x379eb8;showPageLoader(),await initializeDatabase(),await checkLoginStatus(),processConnectedTickets()['then'](()=>checkSubscriptionStatus())[_0x462f6b(0xbd)](()=>{hidePageLoader();})[_0x462f6b(0x119)](_0x4aa2e3=>{const _0x4bebfe=_0x462f6b;console[_0x4bebfe(0xc8)](_0x4bebfe(0x108),_0x4aa2e3),hidePageLoader(),showNotification(_0x4bebfe(0xa9),'Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20l\x27initialisation.');});}),window[_0x379eb8(0x9d)]=redirectToSubscription,window[_0x379eb8(0xf0)]=redirectToSubscription;function closePaymentModal(){const _0x23081f=_0x379eb8;paymentModal[_0x23081f(0x127)][_0x23081f(0x155)]=_0x23081f(0xe0),overlay[_0x23081f(0x127)]['display']=_0x23081f(0xe0);}function _0x6a17(_0x31d1ba,_0x532249){const _0xb0c54f=_0xb0c5();return _0x6a17=function(_0x6a1766,_0x23e614){_0x6a1766=_0x6a1766-0x91;let _0x3c3edd=_0xb0c54f[_0x6a1766];return _0x3c3edd;},_0x6a17(_0x31d1ba,_0x532249);}window[_0x379eb8(0x14b)]=()=>{};
    </script>

</body>
</html>