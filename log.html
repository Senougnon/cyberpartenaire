<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connexion Cyber Campus</title>
    <!--  Le m√™me CSS que login.html -->
    <style>
        /* ... (Le CSS de login.html, copi√© ici) ... */
                @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #36ff03, #1900ff, #a7ff03);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            color: #ffffff;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 10px;
        }

        header {
            background-color: rgba(0, 0, 0, 0.5);
            padding: 20px 0;
            position: relative;
            overflow: hidden;
        }

        .header-image {
            width: 100%;
            height: 300px;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
            z-index: -1;
        }

        .img1 {
            animation: slide1 10s linear infinite;
        }

        .img2 {
            animation: slide2 10s linear infinite;
        }

        .logo {
            font-size: 2.5em;
            color: white;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            position: relative;
            z-index: 2;
        }

        .logo::before {
            content: '';
            font-size: 0.8em;
            margin-right: 10px;
            animation: rotate 5s linear infinite;
            display: inline-block;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .moon {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 2em;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        nav {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
            padding: 0 10px;
            flex-wrap: wrap;
        }

        .nav-button {
            background-color: rgba(0, 0, 0, 0.952);
            color: rgb(255, 255, 255);
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            width: auto;
            min-width: 150px;
            text-align: center;
            margin: 5px;
        }

        .nav-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background-color: rgb(0, 0, 0);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.5s, height 0.5s;
        }

        .nav-button:hover::before {
            width: 300px;
            height: 300px;
        }

        @keyframes buttonPulse {
            0% { background-color: #020202; color: #ffffff; }
            50% { background-color: #1a2a6c; color: #c8ff00; }
            100% { background-color: #000000; color: #ffffff; }
        }

        .nav-button.animate-pay {
            animation: buttonPulse 3s ease-in-out infinite;
        }

        @keyframes textChange {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        main {
            display: flex;
            flex-direction: column;
            padding: 20px 10px;
            gap: 20px;
            flex: 1;
        }

        .login-section,
        .rates-section,
        .locations-section,
        .products-section {
            background-color: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        section:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.2);
        }

        .login-section {
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
        }

        h2 {
            color: rgb(0, 0, 0);
            margin-bottom: 15px;
            position: relative;
            display: inline-block;
        }

        h2::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background-color: #fdbb2d;
            transition: width 0.3s;
        }

        section:hover h2::after {
            width: 100%;
        }

        form {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        input {
            margin-bottom: 10px;
            padding: 12px;
            border: none;
            border-radius: 25px;
            background-color: rgb(255, 253, 250);
            color: rgb(0, 0, 0);
            transition: background-color 0.3s;
        }

        input:focus {
            background-color: rgba(255, 255, 255, 0.3);
            outline: none;
        }

        button {
            background-color: #000000;
            color: #ffffff;
            border: none;
            padding: 10px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        button:hover {
            background-color: #1a2a6c;
            color: #fdbb2d;
        }

        .rates-section {
            width: 100%;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .rates-section table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin: 10px 0;
        }

        .rates-section th,
        .rates-section td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .rates-section th:first-child,
        .rates-section td:first-child {
            padding-left: 20px;
        }

        .rates-section th:last-child,
        .rates-section td:last-child {
            padding-right: 20px;
        }

        .rates-section .loading-message {
            text-align: center;
            padding: 20px;
        }

        ul {
            list-style-type: none;
        }

        li {
            margin-bottom: 10px;
            position: relative;
            padding-left: 20px;
        }

        li::before {
            content: '‚û§';
            position: absolute;
            left: 0;
            color: #fdbb2d;
        }

        footer {
            background-color: rgba(0, 0, 0, 0.5);
            padding: 15px;
            text-align: center;
            margin-top: auto;
        }

        .notification {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            display: none;
            color: #1a2a6c;
            text-align: center;
            width: 90%;
            max-width: 400px;
        }

        .notification h2 {
            color: #1a2a6c;
            margin-bottom: 20px;
        }

        .notification p {
            margin-bottom: 15px;
        }

        .close-icon {
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
            font-size: 20px;
        }

        .notification .ticket-info {
            margin-bottom: 15px;
            text-align: left;
        }

        .notification .ticket-info p {
            margin-bottom: 5px;
        }

        .notification .login-button,
        .notification .delete-button {
            display: inline-block;
            margin: 0 10px;
        }

        .notification .login-button {
            background-color: #fdbb2d;
            color: #1a2a6c;
        }

        .delete-button {
            background-color: #f44336;
            color: white;
        }

        .delete-button:hover {
            background-color: #d32f2f;
        }

        .notification.error {
            background-color: #fdd;
            border: 1px solid #faa;
            color: #f00;
        }

        /* Footer Popup Styles */
        .footer-popup {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translate(-50%, 200%);
            width: 95%;
            max-width: 600px;
            padding: 2rem;
            border-radius: 25px;
            z-index: 1000;
            opacity: 0;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            background: linear-gradient(135deg, rgba(129, 0, 0, 0.95) 0%, rgba(0, 60, 150, 0.95) 100%);
            backdrop-filter: blur(10px);
            color: white;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3),
                        0 0 20px rgba(0, 89, 255, 0.3),
                        inset 0 0 60px rgba(0, 89, 255, 0.1);
            max-height: 85vh;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-popup.show {
            transform: translate(-50%, 0);
            opacity: 1;
        }

        .footer-popup .close-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(255, 255, 255, 0.15);
            border: none;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        /* Animations */
        @keyframes slide1 {
            0% { transform: translateX(0); }
            50% { transform: translateX(-100%); }
            100% { transform: translateX(0); }
        }

        @keyframes slide2 {
            0% { transform: translateX(100%); }
            50% { transform: translateX(0); }
            100% { transform: translateX(100%); }
        }

        /* Media Queries */
        @media screen and (max-width: 768px) {
            .container {
                padding: 5px;
            }

            .logo {
                font-size: 2em;
            }

            nav {
                flex-direction: column;
                padding: 0 15px;
            }

            .nav-button {
                width: 100%;
                margin: 5px 0;
            }

            main {
                padding: 10px 5px;
            }

            .login-section,
            .rates-section,
            .locations-section,
            .products-section {
                padding: 15px;
                margin-bottom: 15px;
            }

            .rates-section {
                margin: 0 -5px;
                width: calc(100% + 10px);
                border-radius: 0;
            }

            .rates-section table {
                font-size: 14px;
            }

            .rates-section th,
            .rates-section td {
                padding: 8px;
            }

            .footer-popup {
                width: 92%;
                padding: 1.5rem;
            }
        }

        @media screen and (max-width: 480px) {
            .logo {
                font-size: 1.8em;
            }

            h2 {
                font-size: 1.2em;
            }

            .rates-section th,
            .rates-section td {
                padding: 6px;
                font-size: 12px;
            }

            .notification {
                width: 95%;
                padding: 15px;
            }
        }

        nav {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
            padding: 0 10px;
            flex-wrap: nowrap; /* Emp√™che le retour √† la ligne */
        }

        .nav-button {
            background-color: rgba(0, 0, 0, 0.952);
            color: rgb(255, 255, 255);
            border: none;
            padding: 10px 15px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            width: auto;
            min-width: 0; /* Supprime la largeur minimale */
            text-align: center;
            margin: 5px;
            white-space: nowrap; /* Emp√™che le texte de passer √† la ligne */
            font-size: 14px; /* Taille de police r√©duite pour mobile */
            flex: 1; /* Les boutons se partagent l'espace disponible */
            max-width: calc(50% - 10px); /* Maximum 50% de la largeur moins la marge */
        }

        /* Modification des media queries */
        @media screen and (max-width: 768px) {
            nav {
                flex-direction: row; /* Force l'alignement horizontal */
                padding: 0 10px;
            }

            .nav-button {
                width: auto; /* Permet aux boutons de s'adapter √† leur contenu */
                margin: 5px;
                font-size: 12px; /* Taille de police encore plus petite pour les tr√®s petits √©crans */
            }
        }

        @media screen and (max-width: 320px) {
            .nav-button {
                padding: 8px 12px; /* Padding r√©duit pour les tr√®s petits √©crans */
                font-size: 11px;
            }
        }
    </style>
    <script src="https://cdn.fedapay.com/checkout.js?v=1.1.7"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script type="module">
        import { getActiveDatabase } from './firebase-config-manager.js';
        import { ref, get, set, push, remove } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

        const adminUserId = '<!-- ADMIN_USER_ID -->';
        const networkName = '<!-- NETWORK_NAME -->';
        const contactNumber = '<!-- CONTACT_NUMBER -->';
        const fedapayApiKey = '<!-- FEDAPAY_API_KEY -->';

const _0x22c8f1=_0x2fa2;(function(_0x339bfd,_0x259bfa){const _0x44685a=_0x2fa2,_0x361bbf=_0x339bfd();while(!![]){try{const _0x2ae882=parseInt(_0x44685a(0x123))/0x1+-parseInt(_0x44685a(0xb0))/0x2*(parseInt(_0x44685a(0xf0))/0x3)+parseInt(_0x44685a(0x102))/0x4*(parseInt(_0x44685a(0x11f))/0x5)+parseInt(_0x44685a(0xe7))/0x6*(parseInt(_0x44685a(0x111))/0x7)+-parseInt(_0x44685a(0xc8))/0x8+parseInt(_0x44685a(0xfb))/0x9*(parseInt(_0x44685a(0xa3))/0xa)+-parseInt(_0x44685a(0xc6))/0xb;if(_0x2ae882===_0x259bfa)break;else _0x361bbf['push'](_0x361bbf['shift']());}catch(_0x2cc0bf){_0x361bbf['push'](_0x361bbf['shift']());}}}(_0x105e,0xdd5db));let db,userConfigRef;async function initializeDatabase(){const _0x5c5fa1=_0x2fa2;db=await getActiveDatabase(),userConfigRef=ref(db,_0x5c5fa1(0xf1)+adminUserId+_0x5c5fa1(0x11e)),console[_0x5c5fa1(0x121)]('Database\x20initialized\x20in\x20log.html');}let localTickets={};async function checkSubscriptionStatus(){const _0xb65feb=_0x2fa2;try{const _0x5219f8=ref(db,'users-data/'+adminUserId+_0xb65feb(0x110)),_0x4b1975=await get(_0x5219f8),_0x1e5a71=_0x4b1975[_0xb65feb(0xaf)](),_0xc8044c=new Date();if(_0x1e5a71&&_0x1e5a71[_0xb65feb(0xd9)]===_0xb65feb(0xe4)){const _0x1f165a=new Date(_0x1e5a71[_0xb65feb(0xb9)]);return _0x1f165a<_0xc8044c?(await set(_0x5219f8,{..._0x1e5a71,'status':_0xb65feb(0xb2)}),![]):!![];}else return![];}catch(_0xffbfc3){return console['error'](_0xb65feb(0xd5),_0xffbfc3),![];}}async function syncTickets(){const _0xde7670=_0x2fa2;try{const _0x1613e2=await checkSubscriptionStatus();if(!_0x1613e2){document[_0xde7670(0xbe)](_0xde7670(0x109))[_0xde7670(0x101)]='Pas\x20d\x27abonnement\x20actif';return;}const _0x4e79b9=ref(db,_0xde7670(0xf1)+adminUserId+_0xde7670(0x113)),_0x5f7234=await get(_0x4e79b9);localTickets=_0x5f7234[_0xde7670(0xaf)]()||{};const _0x45df03=ref(db,'users-data/'+adminUserId+_0xde7670(0xac)),_0x27d692=await get(_0x45df03),_0x3aa887=_0x27d692[_0xde7670(0xaf)]()||{};for(const _0x833289 in _0x3aa887){const _0x409ab6=_0x3aa887[_0x833289],_0x1b5f68=Object[_0xde7670(0xbf)](localTickets)[_0xde7670(0xf6)](_0xb3d0e1=>localTickets[_0xb3d0e1][_0xde7670(0x114)]&&localTickets[_0xb3d0e1]['utilisateur']['includes'](_0x409ab6['user']));if(_0x1b5f68){const _0x22bb2d=localTickets[_0x1b5f68]['utilisateur'][_0xde7670(0xdb)](_0x409ab6[_0xde7670(0x10c)]);_0x22bb2d>-0x1&&(localTickets[_0x1b5f68]={...localTickets[_0x1b5f68],'utilisateur':localTickets[_0x1b5f68]['utilisateur'][_0xde7670(0x115)]((_0x32dc98,_0x571c69)=>_0x571c69!==_0x22bb2d),'motDePasse':localTickets[_0x1b5f68][_0xde7670(0xbc)][_0xde7670(0x115)]((_0x41d6a9,_0x44d90d)=>_0x44d90d!==_0x22bb2d),'prix':localTickets[_0x1b5f68][_0xde7670(0x103)]['filter']((_0x30f297,_0x28347b)=>_0x28347b!==_0x22bb2d)},localTickets[_0x1b5f68]['utilisateur'][_0xde7670(0xcc)]===0x0&&delete localTickets[_0x1b5f68]);}}console[_0xde7670(0x121)](_0xde7670(0x100),localTickets),createTicketTable();}catch(_0x4229a8){console['error']('Erreur\x20lors\x20de\x20la\x20synchronisation\x20des\x20tickets:',_0x4229a8);}}document['addEventListener']('DOMContentLoaded',async()=>{const _0x33b3f7=_0x2fa2;await initializeDatabase(),syncTickets(),setInterval(syncTickets,0x1388),document[_0x33b3f7(0xbe)](_0x33b3f7(0xb5))[_0x33b3f7(0x101)]=networkName,document[_0x33b3f7(0xbe)](_0x33b3f7(0x104))[_0x33b3f7(0x101)]=contactNumber;});function storeLoginTicket(_0x2a975b,_0x3d8a5e){const _0x59f32a=_0x2fa2;localStorage[_0x59f32a(0xcd)]('TicketConnect√©',JSON['stringify']({'user':_0x2a975b,'password':_0x3d8a5e})),console[_0x59f32a(0x121)](_0x59f32a(0xba),_0x2a975b);}document[_0x22c8f1(0xef)]['addEventListener']('submit',function(_0x5b9ddd){const _0x1f0671=_0x22c8f1;_0x5b9ddd[_0x1f0671(0xc0)]();const _0x330d82=document[_0x1f0671(0xef)][_0x1f0671(0xe5)][_0x1f0671(0x9f)];storeLoginTicket(_0x330d82,_0x330d82),storeConnectedTicket(_0x330d82),this[_0x1f0671(0xd2)]();});async function storeTicketEnTransit(_0x838767){const _0x17ea41=_0x22c8f1,_0x12a9df=await synchronizeAndReserveTicket(_0x838767);if(!_0x12a9df)throw new Error(_0x17ea41(0xe1));const _0x2c1e85=ref(db,'users-data/'+adminUserId+'/TicketsTransit'),_0x46687a=push(_0x2c1e85);return await set(_0x46687a,{'id':_0x46687a[_0x17ea41(0xd1)],'category':_0x838767,..._0x12a9df}),console[_0x17ea41(0x121)](_0x17ea41(0xb4),_0x46687a[_0x17ea41(0xd1)]),{'id':_0x46687a[_0x17ea41(0xd1)],..._0x12a9df};}async function removeTicketFromTransit(_0x22e4e3){const _0x18c875=_0x22c8f1,_0x26fb3c=ref(db,_0x18c875(0xf1)+adminUserId+'/TicketsTransit/'+_0x22e4e3);await remove(_0x26fb3c),console[_0x18c875(0x121)]('Ticket\x20en\x20transit\x20supprim√©:',_0x22e4e3);}async function synchronizeAndReserveTicket(_0x39097d){const _0x3dacf1=_0x22c8f1;try{const _0x402707=ref(db,_0x3dacf1(0xf1)+adminUserId+_0x3dacf1(0xb1)+_0x39097d),_0x39b0e3=await get(_0x402707),_0x4e1b75=_0x39b0e3['val']();if(!_0x4e1b75||!_0x4e1b75[_0x3dacf1(0x114)]||_0x4e1b75[_0x3dacf1(0x114)][_0x3dacf1(0xcc)]===0x0)return null;const _0x2c1dd2={'user':_0x4e1b75[_0x3dacf1(0x114)][0x0],'password':_0x4e1b75[_0x3dacf1(0xbc)][0x0],'price':_0x4e1b75['prix'][0x0]},_0xb4b8fc={..._0x4e1b75,'utilisateur':_0x4e1b75[_0x3dacf1(0x114)]['filter']((_0x106809,_0x6b9be2)=>_0x6b9be2!==0x0),'motDePasse':_0x4e1b75[_0x3dacf1(0xbc)][_0x3dacf1(0x115)]((_0x18339c,_0x4a2661)=>_0x4a2661!==0x0),'prix':_0x4e1b75[_0x3dacf1(0x103)][_0x3dacf1(0x115)]((_0x19e792,_0x2ab186)=>_0x2ab186!==0x0)};return await set(_0x402707,_0xb4b8fc),_0x2c1dd2;}catch(_0x371851){console[_0x3dacf1(0xf2)]('Erreur\x20lors\x20de\x20la\x20synchronisation\x20et\x20r√©servation\x20du\x20ticket:',_0x371851);throw _0x371851;}}async function restoreTicket(_0x5e72e6,_0x59ce66){const _0x2a1be0=_0x22c8f1,_0x52d760=ref(db,'users-data/'+adminUserId+_0x2a1be0(0xb1)+_0x5e72e6),_0xce47d6=await get(_0x52d760),_0x4e5fc4=_0xce47d6[_0x2a1be0(0xaf)]()||{'utilisateur':[],'motDePasse':[],'prix':[]};_0x4e5fc4['utilisateur'][_0x2a1be0(0xff)](_0x59ce66[_0x2a1be0(0x10c)]),_0x4e5fc4[_0x2a1be0(0xbc)][_0x2a1be0(0xff)](_0x59ce66[_0x2a1be0(0xee)]),_0x4e5fc4['prix'][_0x2a1be0(0xff)](_0x59ce66[_0x2a1be0(0xcf)]),await set(_0x52d760,_0x4e5fc4);}function canGetFreeTicket(){const _0xe83865=_0x22c8f1,_0x3279ee=localStorage[_0xe83865(0xfa)](_0xe83865(0xfe));if(!_0x3279ee)return!![];const _0x24377a=new Date(parseInt(_0x3279ee)),_0x114250=new Date(),_0x235a63=Math[_0xe83865(0xb8)]((_0x114250-_0x24377a)/(0x3e8*0x3c*0x3c*0x18));return _0x235a63>=0x7;}function _0x2fa2(_0x3d5080,_0x41829d){const _0x105e88=_0x105e();return _0x2fa2=function(_0x2fa245,_0x235f5c){_0x2fa245=_0x2fa245-0x9f;let _0x212279=_0x105e88[_0x2fa245];return _0x212279;},_0x2fa2(_0x3d5080,_0x41829d);}window['initPayment']=async function(_0x5bd893,_0x42f005){const _0x586f51=_0x22c8f1;let _0x24d89d=null;try{if(_0x5bd893[_0x586f51(0x116)]()[_0x586f51(0xc4)]('ticket\x20cadeau')){if(!canGetFreeTicket()){showNotification(_0x586f51(0x106),_0x586f51(0xab),![]);return;}const _0x3152b9=await synchronizeAndReserveTicket(_0x5bd893);localStorage[_0x586f51(0xcd)](_0x586f51(0xfe),Date[_0x586f51(0xda)]()['toString']()),showNotification(_0x586f51(0x118),_0x586f51(0xd3),!![]),displayTicket(_0x3152b9,_0x5bd893),await storeTicketVendu(_0x3152b9);return;}_0x24d89d=await storeTicketEnTransit(_0x5bd893);const _0x47be5d=_0x5bd893+';\x20'+_0x24d89d['user']+_0x586f51(0xc7)+_0x24d89d[_0x586f51(0xcf)]+_0x586f51(0xbb);var _0xe3f4d9=FedaPay[_0x586f51(0xc1)]({'public_key':fedapayApiKey,'transaction':{'amount':_0x42f005,'description':_0x47be5d},'customer':{'email':'client@example.com'},'onComplete':async function(_0x27b9e5){const _0x21f227=_0x586f51;if(_0x27b9e5[_0x21f227(0xa6)]===FedaPay[_0x21f227(0xb7)])showNotification(_0x21f227(0xdf),'Le\x20paiement\x20a\x20√©t√©\x20annul√©.'),await restoreTicket(_0x5bd893,_0x24d89d),await removeTicketFromTransit(_0x24d89d['id']);else{if(_0x27b9e5[_0x21f227(0xa6)]===FedaPay['CHECKOUT_COMPLETED']){const _0x27e3cd=_0x21f227(0x10e)+_0x24d89d['user']+'\x0aMot\x20de\x20passe:\x20'+_0x24d89d[_0x21f227(0xee)]+_0x21f227(0xec)+_0x5bd893+'\x0aPrix:\x20'+_0x24d89d[_0x21f227(0xcf)]+_0x21f227(0x112);showNotification(_0x21f227(0x10d),_0x27e3cd),await storeTicketVendu(_0x24d89d),displayTicket(_0x24d89d,_0x5bd893);}}}});_0xe3f4d9[_0x586f51(0xcb)]();}catch(_0x3f9574){console['error'](_0x586f51(0x11b),_0x3f9574),showNotification(_0x586f51(0x10a),_0x586f51(0xad)),_0x24d89d&&(await restoreTicket(_0x5bd893,_0x24d89d),await removeTicketFromTransit(_0x24d89d['id']));}};function showTariffsTable(){const _0xfcc912=_0x22c8f1,_0x3b7392=document[_0xfcc912(0xbe)]('.rates-section\x20table'),_0x119188=document[_0xfcc912(0xbe)](_0xfcc912(0x109));_0x3b7392[_0xfcc912(0x117)][_0xfcc912(0xa8)]=_0xfcc912(0xb6),_0x119188[_0xfcc912(0x117)][_0xfcc912(0xa8)]=_0xfcc912(0xce);}function _0x105e(){const _0x596451=['notification-message','display','Connexion','load','Vous\x20devez\x20attendre\x207\x20jours\x20entre\x20chaque\x20ticket\x20gratuit.','/TicketsVendus','Une\x20erreur\x20est\x20survenue.\x20Veuillez\x20r√©essayer\x20plus\x20tard.','createElement','val','112CDnTUD','/TicketsTotal/','expired','click','Ticket\x20en\x20transit\x20stock√©:','.logo','table','DIALOG_DISMISSED','floor','endDate','Ticket\x20de\x20connexion\x20stock√©:','\x20FCFA','motDePasse','removeItem','querySelector','keys','preventDefault','init','Ticket\x20achet√©','getElementById','includes','Erreur\x20lors\x20de\x20l\x27enregistrement\x20du\x20nom\x20d\x27utilisateur\x20du\x20ticket\x20connect√©:','29649378dCmiKE','\x20de\x20','4860680HKNbcL','Obtenir','login-button','open','length','setItem','none','price','className','key','submit','F√©licitations\x20!\x20Vous\x20avez\x20re√ßu\x20un\x20ticket\x20gratuit.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Cat√©gorie</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Prix\x20(FCFA)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Action</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Erreur\x20lors\x20de\x20la\x20v√©rification\x20de\x20l\x27abonnement\x20:','Payer','forEach','smooth','status','now','indexOf','innerHTML','.nav-button.animate-pay','Votre\x20ticket','Paiement\x20annul√©','appendChild','Aucun\x20ticket\x20disponible\x20pour\x20cette\x20cat√©gorie.','.rates-section','warn','active','username','stringify','1615938ZimHme','Nom\x20d\x27utilisateur\x20du\x20ticket\x20connect√©\x20enregistr√©\x20dans\x20Firebase\x20avec\x20la\x20cl√©:','Voir\x20mon\x20ticket','/TicketConnect√©','ticket\x20cadeau','\x0aCat√©gorie:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','password','login','16956pqeXJT','users-data/','error','Mot\x20de\x20passe:\x20','querySelectorAll','Nom\x20d\x27utilisateur:\x20','find','.rates-section\x20table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ticket-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Identifiant:\x20','split','getItem','108qcXoCC','block','</p>\x20<!--\x20Changement\x20ici\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lastFreeTicket','unshift','Donn√©es\x20synchronis√©es:','textContent','676KPZolr','prix','.nav-button','notification-title','Non\x20disponible','button','Ticket\x20supprim√©','.rates-section\x20.loading-message','Erreur','</button></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user','Paiement\x20r√©ussi','‚úÖ\x20Paiement\x20valid√©\x20pour:\x0aPseudo:\x20','Prix:\x20','/admin/subscription','21icqVfr','\x20FCFA\x0aMerci\x20pour\x20votre\x20achat!\x20üéâ','/TicketsTotal','utilisateur','filter','toLowerCase','style','Ticket\x20cadeau','notification','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','Erreur\x20lors\x20de\x20l\x27initialisation\x20du\x20paiement:','Payer\x20un\x20ticket','delete-button','/portalConfig','38530QISnJP','hideNotification','log','storedTicket','1464495MSEzcr','value','.login-button,\x20.delete-button','addEventListener','Supprimer','792860dErQFZ','\x27,\x20','entries','reason'];_0x105e=function(){return _0x596451;};return _0x105e();}async function createTicketTable(){const _0x4684b4=_0x22c8f1,_0xa5de24=document[_0x4684b4(0xbe)](_0x4684b4(0xf7));_0xa5de24[_0x4684b4(0xdc)]=_0x4684b4(0xd4);if(Object[_0x4684b4(0xbf)](localTickets)[_0x4684b4(0xcc)]===0x0){document[_0x4684b4(0xbe)](_0x4684b4(0x109))[_0x4684b4(0x101)]='Aucun\x20ticket\x20disponible\x20pour\x20le\x20moment.';return;}for(const [_0x4e3d6a,_0x158ef4]of Object[_0x4684b4(0xa5)](localTickets)){if(!_0x158ef4||!_0x158ef4['prix']||_0x158ef4['prix']['length']===0x0){console[_0x4684b4(0xe3)]('Donn√©es\x20incompl√®tes\x20pour\x20la\x20cat√©gorie:\x20'+_0x4e3d6a);continue;}const _0x32b517=_0x158ef4['prix'][0x0],_0x36848f=_0xa5de24['insertRow'](),_0x1c748f=_0x4e3d6a['toLowerCase']()[_0x4684b4(0xc4)](_0x4684b4(0xeb))?_0x4684b4(0xc9):_0x4684b4(0xd6);_0x36848f[_0x4684b4(0xdc)]=_0x4684b4(0x11a)+_0x4e3d6a+_0x4684b4(0xed)+_0x32b517+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><button\x20onclick=\x22initPayment(\x27'+_0x4e3d6a+_0x4684b4(0xa4)+_0x32b517+')\x22>'+_0x1c748f+_0x4684b4(0x10b);}showTariffsTable();}function showTicketNotification(_0x346f94){const _0x475d1e=_0x22c8f1,_0x42b47f=document[_0x475d1e(0xc3)](_0x475d1e(0x119)),_0x99d16b=document['getElementById'](_0x475d1e(0x105)),_0x5eda29=document['getElementById'](_0x475d1e(0xa7));_0x99d16b[_0x475d1e(0x101)]=_0x475d1e(0xde),_0x5eda29['innerHTML']=_0x475d1e(0xf8)+_0x346f94[_0x475d1e(0x10c)]+_0x475d1e(0xfd);const _0x2b9bb7=_0x42b47f[_0x475d1e(0xf4)]('.login-button,\x20.delete-button');_0x2b9bb7[_0x475d1e(0xd7)](_0x20f8f2=>_0x20f8f2['remove']());const _0x4c7694=document[_0x475d1e(0xae)](_0x475d1e(0x107));_0x4c7694['className']=_0x475d1e(0xca),_0x4c7694['textContent']=_0x475d1e(0xa9),_0x4c7694[_0x475d1e(0xa1)](_0x475d1e(0xb3),()=>{const _0x168ca0=_0x475d1e;autoLogin(_0x346f94[_0x168ca0(0x10c)],_0x346f94[_0x168ca0(0x10c)]);});const _0x2c25ed=document[_0x475d1e(0xae)](_0x475d1e(0x107));_0x2c25ed[_0x475d1e(0xd0)]='delete-button',_0x2c25ed[_0x475d1e(0x101)]=_0x475d1e(0xa2),_0x2c25ed['addEventListener'](_0x475d1e(0xb3),deleteTicket),_0x42b47f[_0x475d1e(0xe0)](_0x4c7694),_0x42b47f['appendChild'](_0x2c25ed),_0x42b47f['style']['display']=_0x475d1e(0xfc);}function showNotification(_0x3ce4da,_0xd01e0c,_0xb3c3ff=![]){const _0x3e284f=_0x22c8f1,_0x1e68ad=document[_0x3e284f(0xc3)]('notification'),_0xd0d830=document[_0x3e284f(0xc3)]('notification-title'),_0x5d91db=document[_0x3e284f(0xc3)](_0x3e284f(0xa7));_0xd0d830[_0x3e284f(0x101)]=_0x3ce4da,_0x5d91db[_0x3e284f(0x101)]=_0xd01e0c;const _0x5387da=_0x1e68ad['querySelectorAll'](_0x3e284f(0xa0));_0x5387da[_0x3e284f(0xd7)](_0x263241=>_0x263241['remove']());if(_0xb3c3ff){const _0x457d8d=document[_0x3e284f(0xae)](_0x3e284f(0x107));_0x457d8d[_0x3e284f(0xd0)]=_0x3e284f(0xca),_0x457d8d['textContent']='Connexion',_0x457d8d[_0x3e284f(0xa1)](_0x3e284f(0xb3),()=>{const _0x50a253=_0x3e284f,_0x19b0fd=_0xd01e0c[_0x50a253(0xf9)]('\x0a'),_0x1f2a79=_0x19b0fd[0x0][_0x50a253(0xf9)](':\x20')[0x1];autoLogin(_0x1f2a79,_0x1f2a79);}),_0x1e68ad['appendChild'](_0x457d8d);const _0x104041=document[_0x3e284f(0xae)]('button');_0x104041[_0x3e284f(0xd0)]=_0x3e284f(0x11d),_0x104041[_0x3e284f(0x101)]=_0x3e284f(0xa2),_0x104041[_0x3e284f(0xa1)](_0x3e284f(0xb3),deleteTicket),_0x1e68ad[_0x3e284f(0xe0)](_0x104041);}_0x1e68ad['style'][_0x3e284f(0xa8)]=_0x3e284f(0xfc);}window[_0x22c8f1(0x120)]=function(){const _0x178249=_0x22c8f1;document[_0x178249(0xc3)]('notification')[_0x178249(0x117)][_0x178249(0xa8)]='none';};async function storeConnectedTicket(_0x3b856b){const _0x364e73=_0x22c8f1;try{const _0xb43928=ref(db,_0x364e73(0xf1)+adminUserId+_0x364e73(0xea)),_0x566ab8=push(_0xb43928);await set(_0x566ab8,{'username':_0x3b856b}),console['log'](_0x364e73(0xe8),_0x566ab8[_0x364e73(0xd1)]);}catch(_0x221834){console[_0x364e73(0xf2)](_0x364e73(0xc5),_0x221834);}}function autoLogin(_0xd5518d,_0x368157){const _0x249b12=_0x22c8f1;document[_0x249b12(0xef)]['username']['value']=_0xd5518d,document[_0x249b12(0xef)][_0x249b12(0xee)][_0x249b12(0x9f)]=_0xd5518d,storeConnectedTicket(_0xd5518d),document[_0x249b12(0xef)][_0x249b12(0xd2)]();}function deleteTicket(){const _0x1fbd4c=_0x22c8f1;localStorage[_0x1fbd4c(0xbd)](_0x1fbd4c(0x122)),showNotification(_0x1fbd4c(0x108),'Votre\x20ticket\x20a\x20√©t√©\x20supprim√©\x20avec\x20succ√®s.'),updateButtonText();}window['addEventListener'](_0x22c8f1(0xaa),()=>{const _0xe6a3ad=_0x22c8f1;updateButtonText();const _0x2d08d2=document['querySelector'](_0xe6a3ad(0xdd));_0x2d08d2[_0xe6a3ad(0xa1)](_0xe6a3ad(0xb3),()=>{const _0x235bf5=_0xe6a3ad,_0x37ad02=localStorage[_0x235bf5(0xfa)](_0x235bf5(0x122));if(_0x37ad02){const _0x567c18=JSON['parse'](_0x37ad02);showTicketNotification(_0x567c18);}else document[_0x235bf5(0xbe)](_0x235bf5(0xe2))['scrollIntoView']({'behavior':_0x235bf5(0xd8)});});});function updateButtonText(){const _0x2a818c=_0x22c8f1,_0xefa18a=document[_0x2a818c(0xbe)](_0x2a818c(0xdd)),_0x74ea5b=localStorage['getItem'](_0x2a818c(0x122));_0x74ea5b?_0xefa18a[_0x2a818c(0x101)]=_0x2a818c(0xe9):_0xefa18a[_0x2a818c(0x101)]=_0x2a818c(0x11c);}async function storeTicketVendu(_0x124e18){const _0x14aa30=_0x22c8f1,_0x2dde48=ref(db,_0x14aa30(0xf1)+adminUserId+_0x14aa30(0xac));await push(_0x2dde48,{'password':_0x124e18[_0x14aa30(0xee)],'price':_0x124e18['price'],'user':_0x124e18[_0x14aa30(0x10c)]}),console[_0x14aa30(0x121)]('Ticket\x20vendu\x20stock√©\x20avec\x20succ√®s');}function displayTicket(_0x449b8b,_0x42fe86){const _0x51e005=_0x22c8f1;showNotification(_0x51e005(0xc2),_0x51e005(0xf5)+_0x449b8b[_0x51e005(0x10c)]+'\x0a'+(_0x51e005(0xf3)+_0x449b8b[_0x51e005(0xee)]+'\x0a')+(_0x51e005(0x10f)+_0x449b8b[_0x51e005(0xcf)]+'\x20F'),!![]),updateButtonText(),storeTicketLocally({'ticketName':_0x42fe86,'user':_0x449b8b[_0x51e005(0x10c)],'password':_0x449b8b[_0x51e005(0xee)],'price':_0x449b8b['price']});}function storeTicketLocally(_0x42eade){const _0x353edb=_0x22c8f1;localStorage[_0x353edb(0xcd)](_0x353edb(0x122),JSON[_0x353edb(0xe6)](_0x42eade));}
    </script>
</head>
<body>
    <header>
        <div class="container">
            <h1 class="logo"><!-- NETWORK_NAME --></h1>
            <div class="moon"></div>
            <img class="header-image img1" src="img/img1.jpg" alt="Image de fond">
            <img class="header-image img2" src="img/img2.jpg" alt="Image de fond">
            <nav>
                <button class="nav-button"><!-- CONTACT_NUMBER --></button>
                <button class="nav-button animate-pay">Payer un ticket</button>
            </nav>
        </div>
    </header>

    <main class="container">
        <section class="login-section">
            <h2>Connexion</h2>
            <!-- Formulaire simplifi√© pour l'identifiant unique -->
            <form name="login" action="$(link-login-only)" method="post">
                <input type="hidden" name="dst" value="$(link-orig)" />
                <input type="hidden" name="popup" value="true" />
                <input type="text" name="username" placeholder="Identifiant unique" value="$(username)" required>
                <!-- Pas de champ password -->
                <button type="submit">Se connecter</button>
            </form>
             <p class="info $(if error)alert$(endif)">
                $(if error == "")Veuillez vous connecter pour utiliser le service hotspot Internet $(if trial == 'yes')<br />Essai gratuit disponible, <a href="$(link-login-only)?dst=$(link-orig-esc)&username=T-$(mac-esc)">cliquez ici</a>.$(endif)
                $(endif)
                $(if error)$(error)$(endif)
            </p>
        </section>

        <section class="rates-section">
            <h2>Acheter un ticket par mobile money</h2>
           <div class="loading-message">Chargement des tickets...</div>

       </section>


       <section class="locations-section">
           <h2>Ticket pay√© non re√ßus ?</h2>
           <ul>
           <li>R√©cup√©rer les ID du ticket en contactant le <!-- CONTACT_NUMBER --></li>
           </ul>

       </section>

       <section class="locations-section">
           <h2>Nos tarifs</h2>

           <!-- TARIFFS_TABLE_SIMPLE -->

       </section>
       
       <section class="locations-section">
           <h2>Bon √† savoir !</h2>
           <ul>
               <li>1 √®re chose</li>
               <li>2 eme chose</li>
               <li>3 eme chose</li>
           </ul>
       </section>

        <section class="locations-section">
            <h2>Nos sites de connexion</h2>
             <!-- CONNECTION_LOCATIONS -->
        </section>

        <section class="products-section">
            <h2>Nos produits</h2>
            <ul>
               <!-- PRODUCTS_LIST -->
            </ul>
        </section>

    </main>

    <footer>
        <div class="anitext">
            PROPULSE PAR EVISIONS
        </div>
    </footer>

    <div class="notification" id="notification">
        <span class="close-icon" onclick="hideNotification()">√ó</span>
        <h2 id="notification-title"></h2>
        <p id="notification-message"></p>
    </div>

    <div id="paymentFrame">
        <div>
            <button id="closePaymentFrame" onclick="closePaymentFrame()">√ó</button>
            <iframe id="paymentIframe"></iframe>
        </div>
    </div>
    <!-- ADMIN_USER_ID -->
</body>
</html>