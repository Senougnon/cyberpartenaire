<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paiement Cyber Campus</title>
    <!--  Le m√™me CSS que login.html et log.html -->
    <style>
        /* ... (Le CSS de login.html/log.html, copi√© ici) ... */
                        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #36ff03, #1900ff, #a7ff03);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            color: #ffffff;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 10px;
        }

        header {
            background-color: rgba(0, 0, 0, 0.5);
            padding: 20px 0;
            position: relative;
            overflow: hidden;
        }

        .header-image {
            width: 100%;
            height: 300px;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
            z-index: -1;
        }

        .img1 {
            animation: slide1 10s linear infinite;
        }

        .img2 {
            animation: slide2 10s linear infinite;
        }

        .logo {
            font-size: 2.5em;
            color: white;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            position: relative;
            z-index: 2;
        }

        .logo::before {
            content: '';
            font-size: 0.8em;
            margin-right: 10px;
            animation: rotate 5s linear infinite;
            display: inline-block;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .moon {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 2em;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        nav {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
            padding: 0 10px;
            flex-wrap: wrap;
        }

        .nav-button {
            background-color: rgba(0, 0, 0, 0.952);
            color: rgb(255, 255, 255);
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            width: auto;
            min-width: 150px;
            text-align: center;
            margin: 5px;
        }

        .nav-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background-color: rgb(0, 0, 0);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.5s, height 0.5s;
        }

        .nav-button:hover::before {
            width: 300px;
            height: 300px;
        }

        @keyframes buttonPulse {
            0% { background-color: #020202; color: #ffffff; }
            50% { background-color: #1a2a6c; color: #c8ff00; }
            100% { background-color: #000000; color: #ffffff; }
        }

        .nav-button.animate-pay {
            animation: buttonPulse 3s ease-in-out infinite;
        }

        @keyframes textChange {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        main {
            display: flex;
            flex-direction: column;
            padding: 20px 10px;
            gap: 20px;
            flex: 1;
        }

        .login-section,
        .rates-section,
        .locations-section,
        .products-section {
            background-color: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        section:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.2);
        }

        .login-section {
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
        }

        h2 {
            color: rgb(0, 0, 0);
            margin-bottom: 15px;
            position: relative;
            display: inline-block;
        }

        h2::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background-color: #fdbb2d;
            transition: width 0.3s;
        }

        section:hover h2::after {
            width: 100%;
        }

        form {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        input {
            margin-bottom: 10px;
            padding: 12px;
            border: none;
            border-radius: 25px;
            background-color: rgb(255, 253, 250);
            color: rgb(0, 0, 0);
            transition: background-color 0.3s;
        }

        input:focus {
            background-color: rgba(255, 255, 255, 0.3);
            outline: none;
        }

        button {
            background-color: #000000;
            color: #ffffff;
            border: none;
            padding: 10px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        button:hover {
            background-color: #1a2a6c;
            color: #fdbb2d;
        }

        .rates-section {
            width: 100%;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .rates-section table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin: 10px 0;
        }

        .rates-section th,
        .rates-section td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .rates-section th:first-child,
        .rates-section td:first-child {
            padding-left: 20px;
        }

        .rates-section th:last-child,
        .rates-section td:last-child {
            padding-right: 20px;
        }

        .rates-section .loading-message {
            text-align: center;
            padding: 20px;
        }

        ul {
            list-style-type: none;
        }

        li {
            margin-bottom: 10px;
            position: relative;
            padding-left: 20px;
        }

        li::before {
            content: '‚û§';
            position: absolute;
            left: 0;
            color: #fdbb2d;
        }

        footer {
            background-color: rgba(0, 0, 0, 0.5);
            padding: 15px;
            text-align: center;
            margin-top: auto;
        }

        .notification {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            display: none;
            color: #1a2a6c;
            text-align: center;
            width: 90%;
            max-width: 400px;
        }

        .notification h2 {
            color: #1a2a6c;
            margin-bottom: 20px;
        }

        .notification p {
            margin-bottom: 15px;
        }

        .close-icon {
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
            font-size: 20px;
        }

        .notification .ticket-info {
            margin-bottom: 15px;
            text-align: left;
        }

        .notification .ticket-info p {
            margin-bottom: 5px;
        }

        .notification .login-button,
        .notification .delete-button {
            display: inline-block;
            margin: 0 10px;
        }

        .notification .login-button {
            background-color: #fdbb2d;
            color: #1a2a6c;
        }

        .delete-button {
            background-color: #f44336;
            color: white;
        }

        .delete-button:hover {
            background-color: #d32f2f;
        }

        .notification.error {
            background-color: #fdd;
            border: 1px solid #faa;
            color: #f00;
        }

        /* Footer Popup Styles */
        .footer-popup {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translate(-50%, 200%);
            width: 95%;
            max-width: 600px;
            padding: 2rem;
            border-radius: 25px;
            z-index: 1000;
            opacity: 0;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            background: linear-gradient(135deg, rgba(129, 0, 0, 0.95) 0%, rgba(0, 60, 150, 0.95) 100%);
            backdrop-filter: blur(10px);
            color: white;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3),
                        0 0 20px rgba(0, 89, 255, 0.3),
                        inset 0 0 60px rgba(0, 89, 255, 0.1);
            max-height: 85vh;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-popup.show {
            transform: translate(-50%, 0);
            opacity: 1;
        }

        .footer-popup .close-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(255, 255, 255, 0.15);
            border: none;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        /* Animations */
        @keyframes slide1 {
            0% { transform: translateX(0); }
            50% { transform: translateX(-100%); }
            100% { transform: translateX(0); }
        }

        @keyframes slide2 {
            0% { transform: translateX(100%); }
            50% { transform: translateX(0); }
            100% { transform: translateX(100%); }
        }

        /* Media Queries */
        @media screen and (max-width: 768px) {
            .container {
                padding: 5px;
            }

            .logo {
                font-size: 2em;
            }

            nav {
                flex-direction: column;
                padding: 0 15px;
            }

            .nav-button {
                width: 100%;
                margin: 5px 0;
            }

            main {
                padding: 10px 5px;
            }

            .login-section,
            .rates-section,
            .locations-section,
            .products-section {
                padding: 15px;
                margin-bottom: 15px;
            }

            .rates-section {
                margin: 0 -5px;
                width: calc(100% + 10px);
                border-radius: 0;
            }

            .rates-section table {
                font-size: 14px;
            }

            .rates-section th,
            .rates-section td {
                padding: 8px;
            }

            .footer-popup {
                width: 92%;
                padding: 1.5rem;
            }
        }

        @media screen and (max-width: 480px) {
            .logo {
                font-size: 1.8em;
            }

            h2 {
                font-size: 1.2em;
            }

            .rates-section th,
            .rates-section td {
                padding: 6px;
                font-size: 12px;
            }

            .notification {
                width: 95%;
                padding: 15px;
            }
        }

        nav {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
            padding: 0 10px;
            flex-wrap: nowrap; /* Emp√™che le retour √† la ligne */
        }

        .nav-button {
            background-color: rgba(0, 0, 0, 0.952);
            color: rgb(255, 255, 255);
            border: none;
            padding: 10px 15px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            width: auto;
            min-width: 0; /* Supprime la largeur minimale */
            text-align: center;
            margin: 5px;
            white-space: nowrap; /* Emp√™che le texte de passer √† la ligne */
            font-size: 14px; /* Taille de police r√©duite pour mobile */
            flex: 1; /* Les boutons se partagent l'espace disponible */
            max-width: calc(50% - 10px); /* Maximum 50% de la largeur moins la marge */
        }

        /* Modification des media queries */
        @media screen and (max-width: 768px) {
            nav {
                flex-direction: row; /* Force l'alignement horizontal */
                padding: 0 10px;
            }

            .nav-button {
                width: auto; /* Permet aux boutons de s'adapter √† leur contenu */
                margin: 5px;
                font-size: 12px; /* Taille de police encore plus petite pour les tr√®s petits √©crans */
            }
        }

        @media screen and (max-width: 320px) {
            .nav-button {
                padding: 8px 12px; /* Padding r√©duit pour les tr√®s petits √©crans */
                font-size: 11px;
            }
        }
    </style>
    <script src="https://cdn.fedapay.com/checkout.js?v=1.1.7"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <script type="module">
        import { getActiveDatabase } from './firebase-config-manager.js';
        import { ref, get, set, push, remove } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

        const adminUserId = '<!-- ADMIN_USER_ID -->';
        const networkName = '<!-- NETWORK_NAME -->';
        const contactNumber = '<!-- CONTACT_NUMBER -->';
        const fedapayApiKey = '<!-- FEDAPAY_API_KEY -->';

 const _0x2c262b=_0x216e;(function(_0x2412b9,_0x265791){const _0x6a09a9=_0x216e,_0x1bac78=_0x2412b9();while(!![]){try{const _0x1e8fc5=-parseInt(_0x6a09a9(0x160))/0x1+-parseInt(_0x6a09a9(0x183))/0x2*(parseInt(_0x6a09a9(0x142))/0x3)+-parseInt(_0x6a09a9(0x117))/0x4+-parseInt(_0x6a09a9(0x154))/0x5+-parseInt(_0x6a09a9(0x141))/0x6*(parseInt(_0x6a09a9(0x11a))/0x7)+parseInt(_0x6a09a9(0x109))/0x8+parseInt(_0x6a09a9(0x17f))/0x9*(parseInt(_0x6a09a9(0x151))/0xa);if(_0x1e8fc5===_0x265791)break;else _0x1bac78['push'](_0x1bac78['shift']());}catch(_0x5001a2){_0x1bac78['push'](_0x1bac78['shift']());}}}(_0x44d9,0xa10cf));let db,userConfigRef;async function initializeDatabase(){const _0x54bc35=_0x216e;db=await getActiveDatabase(),userConfigRef=ref(db,_0x54bc35(0x118)+adminUserId+_0x54bc35(0x178)),console['log'](_0x54bc35(0x114));}let localTickets={};async function checkSubscriptionStatus(){const _0x5b1dff=_0x216e;try{const _0x4dfac2=ref(db,_0x5b1dff(0x118)+adminUserId+_0x5b1dff(0x143)),_0x457dc8=await get(_0x4dfac2),_0x5415d0=_0x457dc8[_0x5b1dff(0x10d)](),_0x54e94e=new Date();if(_0x5415d0&&_0x5415d0['status']===_0x5b1dff(0x155)){const _0x57e20e=new Date(_0x5415d0[_0x5b1dff(0x103)]);return _0x57e20e<_0x54e94e?(await set(_0x4dfac2,{..._0x5415d0,'status':'expired'}),![]):!![];}else return![];}catch(_0x44da40){return console['error'](_0x5b1dff(0x147),_0x44da40),![];}}async function syncTickets(){const _0x2556c5=_0x216e;try{const _0x3f8524=await checkSubscriptionStatus();if(!_0x3f8524){document[_0x2556c5(0x14c)](_0x2556c5(0x167))[_0x2556c5(0x132)]='Pas\x20d\x27abonnement\x20actif';return;}const _0x3c77e8=ref(db,'users-data/'+adminUserId+'/TicketsTotal'),_0x49791f=await get(_0x3c77e8);localTickets=_0x49791f[_0x2556c5(0x10d)]()||{};const _0x11d908=ref(db,_0x2556c5(0x118)+adminUserId+_0x2556c5(0x16e)),_0x1c765d=await get(_0x11d908),_0x322000=_0x1c765d[_0x2556c5(0x10d)]()||{};for(const _0x5f4130 in _0x322000){const _0x2239f8=_0x322000[_0x5f4130],_0x43eef4=Object[_0x2556c5(0x163)](localTickets)['find'](_0x1d3e91=>localTickets[_0x1d3e91][_0x2556c5(0x11c)]&&localTickets[_0x1d3e91]['utilisateur'][_0x2556c5(0x12e)](_0x2239f8[_0x2556c5(0x115)]));if(_0x43eef4){const _0x42bcad=localTickets[_0x43eef4][_0x2556c5(0x11c)][_0x2556c5(0x14a)](_0x2239f8[_0x2556c5(0x115)]);_0x42bcad>-0x1&&(localTickets[_0x43eef4]={...localTickets[_0x43eef4],'utilisateur':localTickets[_0x43eef4][_0x2556c5(0x11c)][_0x2556c5(0x12a)]((_0x28b4c0,_0x245077)=>_0x245077!==_0x42bcad),'motDePasse':localTickets[_0x43eef4][_0x2556c5(0x127)]['filter']((_0x113339,_0x3e5226)=>_0x3e5226!==_0x42bcad),'prix':localTickets[_0x43eef4][_0x2556c5(0x10f)][_0x2556c5(0x12a)]((_0x2ddcd5,_0x41862d)=>_0x41862d!==_0x42bcad)},localTickets[_0x43eef4][_0x2556c5(0x11c)]['length']===0x0&&delete localTickets[_0x43eef4]);}}console[_0x2556c5(0x10b)](_0x2556c5(0x126),localTickets),createTicketTable();}catch(_0x2d992c){console[_0x2556c5(0x105)](_0x2556c5(0x158),_0x2d992c);}}document['addEventListener'](_0x2c262b(0x168),async()=>{const _0x44c336=_0x2c262b;await initializeDatabase(),syncTickets(),setInterval(syncTickets,0x1388),document[_0x44c336(0x14c)]('.logo')[_0x44c336(0x132)]=networkName,document[_0x44c336(0x14c)](_0x44c336(0x184))[_0x44c336(0x132)]=contactNumber;});async function storeTicketEnTransit(_0x2fd215){const _0xbdd810=_0x2c262b,_0x13c468=await synchronizeAndReserveTicket(_0x2fd215);if(!_0x13c468)throw new Error(_0xbdd810(0x13e));const _0x383bd2=ref(db,_0xbdd810(0x118)+adminUserId+_0xbdd810(0x14d)),_0x332a52=push(_0x383bd2);return await set(_0x332a52,{'id':_0x332a52[_0xbdd810(0x17e)],'category':_0x2fd215,..._0x13c468}),console[_0xbdd810(0x10b)]('Ticket\x20en\x20transit\x20stock√©:',_0x332a52['key']),{'id':_0x332a52[_0xbdd810(0x17e)],..._0x13c468};}async function removeTicketFromTransit(_0x4916fb){const _0x3b9a78=_0x2c262b,_0x31c515=ref(db,_0x3b9a78(0x118)+adminUserId+_0x3b9a78(0x13f)+_0x4916fb);await remove(_0x31c515),console[_0x3b9a78(0x10b)]('Ticket\x20en\x20transit\x20supprim√©:',_0x4916fb);}async function synchronizeAndReserveTicket(_0x9af644){const _0x4bd612=_0x2c262b;try{const _0x25bb72=ref(db,_0x4bd612(0x118)+adminUserId+_0x4bd612(0x157)+_0x9af644),_0x58d75d=await get(_0x25bb72),_0x49cb0d=_0x58d75d['val']();if(!_0x49cb0d||!_0x49cb0d['utilisateur']||_0x49cb0d[_0x4bd612(0x11c)][_0x4bd612(0x173)]===0x0)return null;const _0x40672d={'user':_0x49cb0d[_0x4bd612(0x11c)][0x0],'password':_0x49cb0d[_0x4bd612(0x127)][0x0],'price':_0x49cb0d[_0x4bd612(0x10f)][0x0]},_0x50ddc5={..._0x49cb0d,'utilisateur':_0x49cb0d['utilisateur'][_0x4bd612(0x12a)]((_0x36fb0b,_0xebead9)=>_0xebead9!==0x0),'motDePasse':_0x49cb0d[_0x4bd612(0x127)][_0x4bd612(0x12a)]((_0x4e2ea9,_0x2e1f1e)=>_0x2e1f1e!==0x0),'prix':_0x49cb0d[_0x4bd612(0x10f)]['filter']((_0x15c730,_0x1efaa1)=>_0x1efaa1!==0x0)};return await set(_0x25bb72,_0x50ddc5),_0x40672d;}catch(_0x109555){console['error'](_0x4bd612(0x166),_0x109555);throw _0x109555;}}function _0x216e(_0x33a6cb,_0x3a027e){const _0x44d99f=_0x44d9();return _0x216e=function(_0x216e63,_0x3a93d6){_0x216e63=_0x216e63-0x103;let _0x2b1ec3=_0x44d99f[_0x216e63];return _0x2b1ec3;},_0x216e(_0x33a6cb,_0x3a027e);}async function restoreTicket(_0x7d6f0f,_0x2906cd){const _0x329af7=_0x2c262b,_0x2eb375=ref(db,_0x329af7(0x118)+adminUserId+_0x329af7(0x157)+_0x7d6f0f),_0x2ef5a0=await get(_0x2eb375),_0x24a3d9=_0x2ef5a0[_0x329af7(0x10d)]()||{'utilisateur':[],'motDePasse':[],'prix':[]};_0x24a3d9['utilisateur'][_0x329af7(0x16b)](_0x2906cd[_0x329af7(0x115)]),_0x24a3d9[_0x329af7(0x127)]['unshift'](_0x2906cd[_0x329af7(0x16c)]),_0x24a3d9[_0x329af7(0x10f)][_0x329af7(0x16b)](_0x2906cd[_0x329af7(0x153)]),await set(_0x2eb375,_0x24a3d9);}function _0x44d9(){const _0x54555f=['smooth','filter','block','load','createElement','includes','lastFreeTicket','storedTicket','style','textContent','appendChild','now','notification-message','Votre\x20ticket','\x0aPrix:\x20','Ticket\x20vendu\x20stock√©\x20avec\x20succ√®s','‚úÖ\x20Paiement\x20valid√©\x20pour:\x0aPseudo:\x20','Nom\x20d\x27utilisateur\x20du\x20ticket\x20connect√©\x20enregistr√©\x20dans\x20Firebase\x20avec\x20la\x20cl√©:','button','Vous\x20devez\x20attendre\x207\x20jours\x20entre\x20chaque\x20ticket\x20gratuit.','.nav-button.animate-pay','Aucun\x20ticket\x20disponible\x20pour\x20cette\x20cat√©gorie.','/TicketsTransit/','\x20de\x20','6GXHBrW','21TGsXCv','/admin/subscription','parse','open','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','Erreur\x20lors\x20de\x20la\x20v√©rification\x20de\x20l\x27abonnement\x20:','Non\x20disponible','addEventListener','indexOf','Ticket\x20achet√©','querySelector','/TicketsTransit','setItem','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><button\x20onclick=\x22initPayment(\x27','Paiement\x20annul√©','10ldcAmn','Le\x20paiement\x20a\x20√©t√©\x20annul√©.','price','1878750RUSCcY','active','Payer','/TicketsTotal/','Erreur\x20lors\x20de\x20la\x20synchronisation\x20des\x20tickets:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','floor','notification-title','Payer\x20un\x20ticket','click','forEach','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Prix:\x20','107771BioLEG','remove','.login-button,\x20.delete-button','keys',')\x22>','className','Erreur\x20lors\x20de\x20la\x20synchronisation\x20et\x20r√©servation\x20du\x20ticket:','.rates-section\x20.loading-message','DOMContentLoaded','reason','Mot\x20de\x20passe:\x20','unshift','password','Voir\x20mon\x20ticket','/TicketsVendus','Aucun\x20ticket\x20disponible\x20pour\x20le\x20moment.','innerHTML','getItem','getElementById','length','hideNotification','display','entries','.rates-section\x20table','/portalConfig','Nom\x20d\x27utilisateur:\x20','Erreur','table','notification','CHECKOUT_COMPLETED','key','29387313AmAxPq','Prix:\x20','delete-button','toString','323468ZZseeq','.nav-button','DIALOG_DISMISSED','endDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Cat√©gorie</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Prix\x20(FCFA)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Action</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','error','Ticket\x20cadeau','scrollIntoView','Votre\x20ticket\x20a\x20√©t√©\x20supprim√©\x20avec\x20succ√®s.','6589552ddituj','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Mot\x20de\x20passe:\x20','log','initPayment','val','querySelectorAll','prix','</button></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27,\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ticket-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Nom\x20d\x27utilisateur:\x20','Erreur\x20lors\x20de\x20l\x27enregistrement\x20du\x20nom\x20d\x27utilisateur\x20du\x20ticket\x20connect√©:','Database\x20initialized\x20in\x20pay.html','user','toLowerCase','4484824rBUKAw','users-data/','\x20FCFA','4846961GIyxdt','insertRow','utilisateur','Donn√©es\x20incompl√®tes\x20pour\x20la\x20cat√©gorie:\x20','Erreur\x20lors\x20de\x20l\x27initialisation\x20du\x20paiement:','Obtenir','ticket\x20cadeau','none','Fermer','/TicketConnect√©','\x20FCFA\x0aMerci\x20pour\x20votre\x20achat!\x20üéâ','Une\x20erreur\x20est\x20survenue.\x20Veuillez\x20r√©essayer\x20plus\x20tard.','Donn√©es\x20synchronis√©es:','motDePasse','init'];_0x44d9=function(){return _0x54555f;};return _0x44d9();}function canGetFreeTicket(){const _0x552a61=_0x2c262b,_0x50ef7a=localStorage[_0x552a61(0x171)](_0x552a61(0x12f));if(!_0x50ef7a)return!![];const _0x1c4511=new Date(parseInt(_0x50ef7a)),_0x32ea8f=new Date(),_0x25916f=Math[_0x552a61(0x15a)]((_0x32ea8f-_0x1c4511)/(0x3e8*0x3c*0x3c*0x18));return _0x25916f>=0x7;}window[_0x2c262b(0x10c)]=async function(_0x2ef553,_0x2ce3bd){const _0x481742=_0x2c262b;let _0x2f9ee6=null;try{if(_0x2ef553[_0x481742(0x116)]()['includes']('ticket\x20cadeau')){if(!canGetFreeTicket()){showNotification(_0x481742(0x148),_0x481742(0x13c),![]);return;}const _0x201e53=await synchronizeAndReserveTicket(_0x2ef553);localStorage[_0x481742(0x14e)](_0x481742(0x12f),Date[_0x481742(0x134)]()[_0x481742(0x182)]()),showNotification(_0x481742(0x106),'F√©licitations\x20!\x20Vous\x20avez\x20re√ßu\x20un\x20ticket\x20gratuit.',!![]),displayTicket(_0x201e53,_0x2ef553),await storeTicketVendu(_0x201e53);return;}_0x2f9ee6=await storeTicketEnTransit(_0x2ef553);const _0x21f192=_0x2ef553+';\x20'+_0x2f9ee6[_0x481742(0x115)]+_0x481742(0x140)+_0x2f9ee6['price']+_0x481742(0x119);var _0x1bca15=FedaPay[_0x481742(0x128)]({'public_key':fedapayApiKey,'transaction':{'amount':_0x2ce3bd,'description':_0x21f192},'customer':{'email':'client@example.com'},'onComplete':async function(_0x4affe9){const _0x6eb1c9=_0x481742;if(_0x4affe9['reason']===FedaPay[_0x6eb1c9(0x185)])showNotification(_0x6eb1c9(0x150),_0x6eb1c9(0x152)),await restoreTicket(_0x2ef553,_0x2f9ee6),await removeTicketFromTransit(_0x2f9ee6['id']);else{if(_0x4affe9[_0x6eb1c9(0x169)]===FedaPay[_0x6eb1c9(0x17d)]){const _0xa8d478=_0x6eb1c9(0x139)+_0x2f9ee6['user']+'\x0aMot\x20de\x20passe:\x20'+_0x2f9ee6['password']+'\x0aCat√©gorie:\x20'+_0x2ef553+_0x6eb1c9(0x137)+_0x2f9ee6[_0x6eb1c9(0x153)]+_0x6eb1c9(0x124);showNotification('Paiement\x20r√©ussi',_0xa8d478),await storeTicketVendu(_0x2f9ee6),displayTicket(_0x2f9ee6,_0x2ef553);}}}});_0x1bca15[_0x481742(0x145)]();}catch(_0x53fd3e){console[_0x481742(0x105)](_0x481742(0x11e),_0x53fd3e),showNotification(_0x481742(0x17a),_0x481742(0x125)),_0x2f9ee6&&(await restoreTicket(_0x2ef553,_0x2f9ee6),await removeTicketFromTransit(_0x2f9ee6['id']));}};function showTariffsTable(){const _0x1b2c65=_0x2c262b,_0x14176a=document[_0x1b2c65(0x14c)](_0x1b2c65(0x177)),_0x3ba6c4=document[_0x1b2c65(0x14c)](_0x1b2c65(0x167));_0x14176a[_0x1b2c65(0x131)][_0x1b2c65(0x175)]=_0x1b2c65(0x17b),_0x3ba6c4[_0x1b2c65(0x131)]['display']=_0x1b2c65(0x121);}async function createTicketTable(){const _0x37f513=_0x2c262b,_0x253788=document[_0x37f513(0x14c)](_0x37f513(0x177));_0x253788[_0x37f513(0x170)]=_0x37f513(0x104);if(Object[_0x37f513(0x163)](localTickets)[_0x37f513(0x173)]===0x0){document['querySelector'](_0x37f513(0x167))[_0x37f513(0x132)]=_0x37f513(0x16f);return;}for(const [_0x27ea2c,_0x172826]of Object[_0x37f513(0x176)](localTickets)){if(!_0x172826||!_0x172826[_0x37f513(0x10f)]||_0x172826[_0x37f513(0x10f)][_0x37f513(0x173)]===0x0){console['warn'](_0x37f513(0x11d)+_0x27ea2c);continue;}const _0x3ceca1=_0x172826['prix'][0x0],_0x3f8617=_0x253788[_0x37f513(0x11b)](),_0x543638=_0x27ea2c[_0x37f513(0x116)]()['includes'](_0x37f513(0x120))?_0x37f513(0x11f):_0x37f513(0x156);_0x3f8617[_0x37f513(0x170)]=_0x37f513(0x159)+_0x27ea2c+_0x37f513(0x146)+_0x3ceca1+_0x37f513(0x14f)+_0x27ea2c+_0x37f513(0x111)+_0x3ceca1+_0x37f513(0x164)+_0x543638+_0x37f513(0x110);}showTariffsTable();}function showTicketNotification(_0x4b8cb5){const _0x100813=_0x2c262b,_0x238245=document[_0x100813(0x172)](_0x100813(0x17c)),_0x4cd7c0=document['getElementById'](_0x100813(0x15b)),_0x48a4ac=document['getElementById'](_0x100813(0x135));_0x4cd7c0[_0x100813(0x132)]=_0x100813(0x136),_0x48a4ac[_0x100813(0x170)]=_0x100813(0x112)+_0x4b8cb5[_0x100813(0x115)]+_0x100813(0x10a)+_0x4b8cb5[_0x100813(0x16c)]+_0x100813(0x15f)+_0x4b8cb5[_0x100813(0x153)]+'\x20F</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';const _0x3cd076=_0x238245[_0x100813(0x10e)](_0x100813(0x162));_0x3cd076['forEach'](_0x9ce3aa=>_0x9ce3aa['remove']());const _0x8fb742=document[_0x100813(0x12d)](_0x100813(0x13b));_0x8fb742[_0x100813(0x165)]='delete-button',_0x8fb742[_0x100813(0x132)]=_0x100813(0x122),_0x8fb742[_0x100813(0x149)](_0x100813(0x15d),hideNotification),_0x238245[_0x100813(0x133)](_0x8fb742),_0x238245[_0x100813(0x131)][_0x100813(0x175)]=_0x100813(0x12b);}function showNotification(_0x59ea74,_0x153cbd,_0xfd06a7=![]){const _0x3c106e=_0x2c262b,_0x4c1afd=document['getElementById']('notification'),_0x36beae=document[_0x3c106e(0x172)](_0x3c106e(0x15b)),_0x2ba141=document[_0x3c106e(0x172)](_0x3c106e(0x135));_0x36beae[_0x3c106e(0x132)]=_0x59ea74,_0x2ba141[_0x3c106e(0x132)]=_0x153cbd;const _0x45956f=_0x4c1afd[_0x3c106e(0x10e)]('.login-button,\x20.delete-button');_0x45956f[_0x3c106e(0x15e)](_0x26f576=>_0x26f576[_0x3c106e(0x161)]());if(_0xfd06a7){const _0x31e7c6=document[_0x3c106e(0x12d)]('button');_0x31e7c6['className']=_0x3c106e(0x181),_0x31e7c6[_0x3c106e(0x132)]=_0x3c106e(0x122),_0x31e7c6[_0x3c106e(0x149)](_0x3c106e(0x15d),hideNotification),_0x4c1afd[_0x3c106e(0x133)](_0x31e7c6);}_0x4c1afd['style'][_0x3c106e(0x175)]=_0x3c106e(0x12b);}window[_0x2c262b(0x174)]=function(){const _0x21f1b4=_0x2c262b;document['getElementById'](_0x21f1b4(0x17c))['style'][_0x21f1b4(0x175)]='none';};function deleteTicket(){const _0x113c6d=_0x2c262b;localStorage['removeItem'](_0x113c6d(0x130)),showNotification('Ticket\x20supprim√©',_0x113c6d(0x108)),updateButtonText();}window['addEventListener'](_0x2c262b(0x12c),()=>{const _0x2f5c89=_0x2c262b;updateButtonText();const _0x1b39d5=document[_0x2f5c89(0x14c)](_0x2f5c89(0x13d));_0x1b39d5['addEventListener'](_0x2f5c89(0x15d),()=>{const _0x223f42=_0x2f5c89,_0x40b5f5=localStorage[_0x223f42(0x171)](_0x223f42(0x130));if(_0x40b5f5){const _0x2682b7=JSON[_0x223f42(0x144)](_0x40b5f5);showTicketNotification(_0x2682b7);}else document[_0x223f42(0x14c)]('.rates-section')[_0x223f42(0x107)]({'behavior':_0x223f42(0x129)});});});function updateButtonText(){const _0x4383e1=_0x2c262b,_0xa06fbc=document[_0x4383e1(0x14c)]('.nav-button.animate-pay'),_0x571c5b=localStorage[_0x4383e1(0x171)](_0x4383e1(0x130));_0x571c5b?_0xa06fbc[_0x4383e1(0x132)]=_0x4383e1(0x16d):_0xa06fbc[_0x4383e1(0x132)]=_0x4383e1(0x15c);}async function storeTicketVendu(_0x3eeff6){const _0x27ea22=_0x2c262b,_0x265a97=ref(db,_0x27ea22(0x118)+adminUserId+_0x27ea22(0x16e));await push(_0x265a97,{'password':_0x3eeff6[_0x27ea22(0x16c)],'price':_0x3eeff6[_0x27ea22(0x153)],'user':_0x3eeff6['user']}),console[_0x27ea22(0x10b)](_0x27ea22(0x138));}function displayTicket(_0x109094,_0x153ac9){const _0x48b762=_0x2c262b;showNotification(_0x48b762(0x14b),_0x48b762(0x179)+_0x109094['user']+'\x0a'+(_0x48b762(0x16a)+_0x109094[_0x48b762(0x16c)]+'\x0a')+(_0x48b762(0x180)+_0x109094[_0x48b762(0x153)]+'\x20F'),!![]),updateButtonText(),storeTicketLocally({'ticketName':_0x153ac9,'user':_0x109094[_0x48b762(0x115)],'password':_0x109094[_0x48b762(0x16c)],'price':_0x109094['price']}),storeConnectedTicket(_0x109094['user']);}async function storeConnectedTicket(_0x6d198d){const _0xc7ae78=_0x2c262b;try{const _0x225f08=ref(db,_0xc7ae78(0x118)+adminUserId+_0xc7ae78(0x123)),_0xc5515d=push(_0x225f08);await set(_0xc5515d,{'username':_0x6d198d}),console[_0xc7ae78(0x10b)](_0xc7ae78(0x13a),_0xc5515d[_0xc7ae78(0x17e)]);}catch(_0xf97300){console[_0xc7ae78(0x105)](_0xc7ae78(0x113),_0xf97300);}}function storeTicketLocally(_0x433784){const _0x2b8eb7=_0x2c262b;localStorage['setItem'](_0x2b8eb7(0x130),JSON['stringify'](_0x433784));}
    </script>
</head>
<body>
    <header>
        <div class="container">
            <h1 class="logo"><!-- NETWORK_NAME --></h1>
            <div class="moon"></div>
            <img class="header-image img1" src="img/img1.jpg" alt="Image de fond">
            <img class="header-image img2" src="img/img2.jpg" alt="Image de fond">
            <nav>
                <button class="nav-button"><!-- CONTACT_NUMBER --></button>
                <button class="nav-button animate-pay">Payer un ticket</button>
            </nav>
        </div>
    </header>

    <main class="container">
        <!-- Pas de section de connexion -->

        <section class="rates-section">
            <h2>Acheter un ticket par mobile money</h2>
            <div class="loading-message">Chargement des tickets...</div>
            <table style="display: none;"></table>
        </section>


       <section class="locations-section">
           <h2>Ticket pay√© non re√ßus ?</h2>
           <ul>
           <li>R√©cup√©rer les ID du ticket en contactant le <!-- CONTACT_NUMBER --></li>
           </ul>

       </section>

       <section class="locations-section">
           <h2>Nos tarifs</h2>

           <!-- TARIFFS_TABLE_SIMPLE -->

       </section>
       
       <section class="locations-section">
           <h2>Bon √† savoir !</h2>
           <ul>
               <li>1 √®re chose</li>
               <li>2 eme chose</li>
               <li>3 eme chose</li>
           </ul>
       </section>

    </main>

    <footer>
        <div class="anitext">
            PROPULSE PAR EVISIONS
        </div>
    </footer>

    <div class="notification" id="notification">
        <span class="close-icon" onclick="hideNotification()">√ó</span>
        <h2 id="notification-title"></h2>
        <p id="notification-message"></p>
    </div>

    <div id="paymentFrame">
        <div>
            <button id="closePaymentFrame" onclick="closePaymentFrame()">√ó</button>
            <iframe id="paymentIframe"></iframe>
        </div>
    </div>
    <!-- ADMIN_USER_ID -->
</body>
</html>